"use strict";(self.webpackChunkng_najadvent_vecernji=self.webpackChunkng_najadvent_vecernji||[]).push([[179],{35:(an,at,ee)=>{ee.d(at,{ST:()=>cl,yb:()=>bE});var m=ee(4650),ie=ee(4986),re=ee(9751),Ve=ee(8996),Re=ee(9646),Le=ee(5813),We=ee(8675),He=ee(4482),qe=ee(5403);function fe(){return(0,He.e)((i,e)=>{let t,s=!1;i.subscribe((0,qe.x)(e,l=>{const d=t;t=l,s&&e.next([d,l]),s=!0}))})}var ve=ee(4004),$e=ee(5026),Pt=ee(4671);function ft(i,e){return i===e}var Ee,rn=ee(9300),pt=ee(2011),ut=ee(6895),_n=(ee(1277),ee(3942)),xe=ee(5861),bt=ee(9681),vt=ee(4859),$t=ee(1877),Et=ee(2090),Se=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},nt={},Ke=Ke||{},Ne=Se||self;function Xe(){}function Ft(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function Ut(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var Bn="closure_uid_"+(1e9*Math.random()>>>0),zn=0;function Kt(i,e,t){return i.call.apply(i.bind,arguments)}function Yn(i,e,t){if(!i)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var l=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(l,s),i.apply(e,l)}}return function(){return i.apply(e,arguments)}}function Gn(i,e,t){return(Gn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Kt:Yn).apply(null,arguments)}function hr(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var s=t.slice();return s.push.apply(s,arguments),i.apply(this,s)}}function Fn(i,e){function t(){}t.prototype=e.prototype,i.X=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Wb=function(s,l,d){for(var y=Array(arguments.length-2),P=2;P<arguments.length;P++)y[P-2]=arguments[P];return e.prototype[l].apply(s,y)}}function Xr(){this.s=this.s,this.o=this.o}Xr.prototype.s=!1,Xr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function pn(i){Object.prototype.hasOwnProperty.call(i,Bn)&&i[Bn]||(i[Bn]=++zn)}(this)},Xr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Tr=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1};function Ri(i){const e=i.length;if(0<e){const t=Array(e);for(let s=0;s<e;s++)t[s]=i[s];return t}return[]}function _i(i,e){for(let t=1;t<arguments.length;t++){const s=arguments[t];if(Ft(s)){const l=i.length||0,d=s.length||0;i.length=l+d;for(let y=0;y<d;y++)i[l+y]=s[y]}else i.push(s)}}function mr(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}mr.prototype.h=function(){this.defaultPrevented=!0};var ii=function(){if(!Ne.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ne.addEventListener("test",Xe,e),Ne.removeEventListener("test",Xe,e)}catch{}return i}();function Ci(i){return/^[\s\xa0]*$/.test(i)}var Pn=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function zr(i,e){return i<e?-1:i>e?1:0}function oi(){var i=Ne.navigator;return i&&(i=i.userAgent)?i:""}function Hr(i){return-1!=oi().indexOf(i)}function Xt(i){return Xt[" "](i),i}Xt[" "]=Xe;var Ie,i,Cr=Hr("Opera"),_r=Hr("Trident")||Hr("MSIE"),pi=Hr("Edge"),Ui=pi||_r,si=Hr("Gecko")&&!(-1!=oi().toLowerCase().indexOf("webkit")&&!Hr("Edge"))&&!(Hr("Trident")||Hr("MSIE"))&&!Hr("Edge"),dt=-1!=oi().toLowerCase().indexOf("webkit")&&!Hr("Edge");function Oe(){var i=Ne.document;return i?i.documentMode:void 0}e:{var lt="",It=(i=oi(),si?/rv:([^\);]+)(\)|;)/.exec(i):pi?/Edge\/([\d\.]+)/.exec(i):_r?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):dt?/WebKit\/(\S+)/.exec(i):Cr?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(It&&(lt=It?It[1]:""),_r){var dn=Oe();if(null!=dn&&dn>parseFloat(lt)){Ie=String(dn);break e}}Ie=lt}var Dn={};var ar=Ne.document&&_r&&(Oe()||parseInt(Ie,10))||void 0;function br(i,e){if(mr.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,s=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(si){e:{try{Xt(e.nodeName);var l=!0;break e}catch{}l=!1}l||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,s?(this.clientX=void 0!==s.clientX?s.clientX:s.pageX,this.clientY=void 0!==s.clientY?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:Xn[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&br.X.h.call(this)}}Fn(br,mr);var Xn={2:"touch",3:"pen",4:"mouse"};br.prototype.h=function(){br.X.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var Vn="closure_listenable_"+(1e6*Math.random()|0),on=0;function Qt(i,e,t,s,l){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!s,this.ha=l,this.key=++on,this.ba=this.ea=!1}function mt(i){i.ba=!0,i.listener=null,i.proxy=null,i.src=null,i.ha=null}function Gt(i,e,t){for(const s in i)e.call(t,i[s],s,i)}function kn(i){const e={};for(const t in i)e[t]=i[t];return e}const Sn="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Un(i,e){let t,s;for(let l=1;l<arguments.length;l++){for(t in s=arguments[l],s)i[t]=s[t];for(let d=0;d<Sn.length;d++)t=Sn[d],Object.prototype.hasOwnProperty.call(s,t)&&(i[t]=s[t])}}function Fe(i){this.src=i,this.g={},this.h=0}function De(i,e){var t=e.type;if(t in i.g){var d,s=i.g[t],l=Tr(s,e);(d=0<=l)&&Array.prototype.splice.call(s,l,1),d&&(mt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function je(i,e,t,s){for(var l=0;l<i.length;++l){var d=i[l];if(!d.ba&&d.listener==e&&d.capture==!!t&&d.ha==s)return l}return-1}Fe.prototype.add=function(i,e,t,s,l){var d=i.toString();(i=this.g[d])||(i=this.g[d]=[],this.h++);var y=je(i,e,s,l);return-1<y?(e=i[y],t||(e.ea=!1)):((e=new Qt(e,this.src,d,!!s,l)).ea=t,i.push(e)),e};var Ct="closure_lm_"+(1e6*Math.random()|0),Ye={};function Yt(i,e,t,s,l){if(s&&s.once)return Nr(i,e,t,s,l);if(Array.isArray(e)){for(var d=0;d<e.length;d++)Yt(i,e[d],t,s,l);return null}return t=mn(t),i&&i[Vn]?i.N(e,t,Ut(s)?!!s.capture:!!s,l):An(i,e,t,!1,s,l)}function An(i,e,t,s,l,d){if(!e)throw Error("Invalid event type");var y=Ut(l)?!!l.capture:!!l,P=et(i);if(P||(i[Ct]=P=new Fe(i)),(t=P.add(e,t,s,y,d)).proxy)return t;if(s=function lr(){const e=pe;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=s,s.src=i,s.listener=t,i.addEventListener)ii||(l=y),void 0===l&&(l=!1),i.addEventListener(e.toString(),s,l);else if(i.attachEvent)i.attachEvent(_e(e.toString()),s);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(s)}return t}function Nr(i,e,t,s,l){if(Array.isArray(e)){for(var d=0;d<e.length;d++)Nr(i,e[d],t,s,l);return null}return t=mn(t),i&&i[Vn]?i.O(e,t,Ut(s)?!!s.capture:!!s,l):An(i,e,t,!0,s,l)}function gr(i,e,t,s,l){if(Array.isArray(e))for(var d=0;d<e.length;d++)gr(i,e[d],t,s,l);else s=Ut(s)?!!s.capture:!!s,t=mn(t),i&&i[Vn]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=je(d=i.g[e],t,s,l))&&(mt(d[t]),Array.prototype.splice.call(d,t,1),0==d.length&&(delete i.g[e],i.h--))):i&&(i=et(i))&&(e=i.g[e.toString()],i=-1,e&&(i=je(e,t,s,l)),(t=-1<i?e[i]:null)&&Ae(t))}function Ae(i){if("number"!=typeof i&&i&&!i.ba){var e=i.src;if(e&&e[Vn])De(e.i,i);else{var t=i.type,s=i.proxy;e.removeEventListener?e.removeEventListener(t,s,i.capture):e.detachEvent?e.detachEvent(_e(t),s):e.addListener&&e.removeListener&&e.removeListener(s),(t=et(e))?(De(t,i),0==t.h&&(t.src=null,e[Ct]=null)):mt(i)}}}function _e(i){return i in Ye?Ye[i]:Ye[i]="on"+i}function pe(i,e){if(i.ba)i=!0;else{e=new br(e,this);var t=i.listener,s=i.ha||i.src;i.ea&&Ae(i),i=t.call(s,e)}return i}function et(i){return(i=i[Ct])instanceof Fe?i:null}var St="__closure_events_fn_"+(1e9*Math.random()>>>0);function mn(i){return"function"==typeof i?i:(i[St]||(i[St]=function(e){return i.handleEvent(e)}),i[St])}function Cn(){Xr.call(this),this.i=new Fe(this),this.P=this,this.I=null}function yn(i,e){var t,s=i.I;if(s)for(t=[];s;s=s.I)t.push(s);if(i=i.P,s=e.type||e,"string"==typeof e)e=new mr(e,i);else if(e instanceof mr)e.target=e.target||i;else{var l=e;Un(e=new mr(s,i),l)}if(l=!0,t)for(var d=t.length-1;0<=d;d--){var y=e.g=t[d];l=Ur(y,s,!0,e)&&l}if(l=Ur(y=e.g=i,s,!0,e)&&l,l=Ur(y,s,!1,e)&&l,t)for(d=0;d<t.length;d++)l=Ur(y=e.g=t[d],s,!1,e)&&l}function Ur(i,e,t,s){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var l=!0,d=0;d<e.length;++d){var y=e[d];if(y&&!y.ba&&y.capture==t){var P=y.listener,q=y.ha||y.src;y.ea&&De(i.i,y),l=!1!==P.call(q,s)&&l}}return l&&!s.defaultPrevented}Fn(Cn,Xr),Cn.prototype[Vn]=!0,Cn.prototype.removeEventListener=function(i,e,t,s){gr(this,i,e,t,s)},Cn.prototype.M=function(){if(Cn.X.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],s=0;s<t.length;s++)mt(t[s]);delete i.g[e],i.h--}}this.I=null},Cn.prototype.N=function(i,e,t,s){return this.i.add(String(i),e,!1,t,s)},Cn.prototype.O=function(i,e,t,s){return this.i.add(String(i),e,!0,t,s)};var ci=Ne.JSON.stringify;function Jt(){var i=Sr;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var ji,ai=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new Ts,i=>i.reset());class Ts{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Ss(i){Ne.setTimeout(()=>{throw i},0)}function jr(i,e){ji||function As(){var i=Ne.Promise.resolve(void 0);ji=function(){i.then(Hi)}}(),nr||(ji(),nr=!0),Sr.add(i,e)}var nr=!1,Sr=new class Rr{constructor(){this.h=this.g=null}add(e,t){const s=ai.get();s.set(e,t),this.h?this.h.next=s:this.g=s,this.h=s}};function Hi(){for(var i;i=Jt();){try{i.h.call(i.g)}catch(t){Ss(t)}var e=ai;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}nr=!1}function yr(i,e){Cn.call(this),this.h=i||1,this.g=e||Ne,this.j=Gn(this.lb,this),this.l=Date.now()}function Ys(i){i.ca=!1,i.R&&(i.g.clearTimeout(i.R),i.R=null)}function Ms(i,e,t){if("function"==typeof i)t&&(i=Gn(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Gn(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ne.setTimeout(i,e||0)}function gi(i){i.g=Ms(()=>{i.g=null,i.i&&(i.i=!1,gi(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}Fn(yr,Cn),(Ee=yr.prototype).ca=!1,Ee.R=null,Ee.lb=function(){if(this.ca){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-i):(this.R&&(this.g.clearTimeout(this.R),this.R=null),yn(this,"tick"),this.ca&&(Ys(this),this.start()))}},Ee.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ee.M=function(){yr.X.M.call(this),Ys(this),delete this.g};class Os extends Xr{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gi(this)}M(){super.M(),this.g&&(Ne.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ji(i){Xr.call(this),this.h=i,this.g={}}Fn(Ji,Xr);var zi=[];function Es(i,e,t,s){Array.isArray(t)||(t&&(zi[0]=t.toString()),t=zi);for(var l=0;l<t.length;l++){var d=Yt(e,t[l],s||i.handleEvent,!1,i.h||i);if(!d)break;i.g[d.key]=d}}function di(i){Gt(i.g,function(e,t){this.g.hasOwnProperty(t)&&Ae(e)},i),i.g={}}function Gi(){this.g=!0}function Wi(i,e,t,s){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Oo(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var s=t[i];if(!(2>s.length)){var l=s[1];if(Array.isArray(l)&&!(1>l.length)){var d=l[0];if("noop"!=d&&"stop"!=d&&"close"!=d)for(var y=1;y<l.length;y++)l[y]=""}}}return ci(t)}catch{return e}}(i,t)+(s?" "+s:"")})}Ji.prototype.M=function(){Ji.X.M.call(this),di(this)},Ji.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Gi.prototype.Aa=function(){this.g=!1},Gi.prototype.info=function(){};var kr={},bo=null;function Rs(){return bo=bo||new Cn}function Go(i){mr.call(this,kr.Pa,i)}function bs(i){const e=Rs();yn(e,new Go(e))}function Wo(i,e){mr.call(this,kr.STAT_EVENT,i),this.stat=e}function Ar(i){const e=Rs();yn(e,new Wo(e,i))}function Ro(i,e){mr.call(this,kr.Qa,i),this.size=e}function Qs(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ne.setTimeout(function(){i()},e)}kr.Pa="serverreachability",Fn(Go,mr),kr.STAT_EVENT="statevent",Fn(Wo,mr),kr.Qa="timingevent",Fn(Ro,mr);var Ti={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},qo={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Xs(){}function ds(){}Xs.prototype.h=null;var ta,so={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Ko(){mr.call(this,"d")}function Lo(){mr.call(this,"c")}function Js(){}function qi(i,e,t,s){this.l=i,this.j=e,this.m=t,this.U=s||1,this.S=new Ji(this),this.O=bi,this.T=new yr(i=Ui?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new oo}function oo(){this.i=null,this.g="",this.h=!1}Fn(Ko,mr),Fn(Lo,mr),Fn(Js,Xs),Js.prototype.g=function(){return new XMLHttpRequest},Js.prototype.i=function(){return{}},ta=new Js;var bi=45e3,es={},$s={};function Si(i,e,t){i.K=1,i.v=xi(Lr(e)),i.s=t,i.P=!0,ts(i,null)}function ts(i,e){i.F=Date.now(),ns(i),i.A=Lr(i.v);var t=i.A,s=i.U;Array.isArray(s)||(s=[String(s)]),co(t.i,"t",s),i.C=0,t=i.l.H,i.h=new oo,i.g=zt(i.l,t?e:null,!i.s),0<i.N&&(i.L=new Os(Gn(i.La,i,i.g),i.N)),Es(i.S,i.g,"readystatechange",i.ib),e=i.H?kn(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.da(i.A,i.u,i.s,e)):(i.u="GET",i.g.da(i.A,i.u,null,e)),bs(),function Mr(i,e,t,s,l,d){i.info(function(){if(i.g)if(d)for(var y="",P=d.split("&"),q=0;q<P.length;q++){var J=P[q].split("=");if(1<J.length){var de=J[0];J=J[1];var ke=de.split("_");y=2<=ke.length&&"type"==ke[1]?y+(de+"=")+J+"&":y+(de+"=redacted&")}}else y=null;else y=d;return"XMLHTTP REQ ("+s+") [attempt "+l+"]: "+e+"\n"+t+"\n"+y})}(i.j,i.u,i.A,i.m,i.U,i.s)}function Ai(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Da}function Is(i,e,t){let l,s=!0;for(;!i.I&&i.C<t.length;){if(l=Io(i,t),l==$s){4==e&&(i.o=4,Ar(14),s=!1),Wi(i.j,i.m,null,"[Incomplete Response]");break}if(l==es){i.o=4,Ar(15),Wi(i.j,i.m,t,"[Invalid Chunk]"),s=!1;break}Wi(i.j,i.m,l,null),hi(i,l)}Ai(i)&&l!=$s&&l!=es&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Ar(16),s=!1),i.i=i.i&&s,s?0<t.length&&!i.$&&(i.$=!0,(e=i.l).g==i&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),he(e),e.K=!0,Ar(11))):(Wi(i.j,i.m,t,"[Invalid Chunked Response]"),mi(i),Li(i))}function Io(i,e){var t=i.C,s=e.indexOf("\n",t);return-1==s?$s:(t=Number(e.substring(t,s)),isNaN(t)?es:(s+=1)+t>e.length?$s:(e=e.substr(s,t),i.C=s+t,e))}function ns(i){i.V=Date.now()+i.O,Bs(i,i.O)}function Bs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Qs(Gn(i.gb,i),e)}function ao(i){i.B&&(Ne.clearTimeout(i.B),i.B=null)}function Li(i){0==i.l.G||i.I||Ue(i.l,i)}function mi(i){ao(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,Ys(i.T),di(i.S),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function hi(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||ps(t.h,i)))if(!i.J&&ps(t.h,i)&&3==t.G){try{var s=t.Fa.g.parse(e)}catch{s=null}if(Array.isArray(s)&&3==s.length){var l=s;if(0==l[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<i.F))break e;Me(t),_(t)}ce(t),Ar(18)}}else t.Ba=l[1],0<t.Ba-t.T&&37500>l[2]&&t.L&&0==t.A&&!t.v&&(t.v=Qs(Gn(t.cb,t),6e3));if(1>=ur(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else At(t,11)}else if((i.J||t.g==i)&&Me(t),!Ci(e))for(l=t.Fa.g.parse(e),e=0;e<l.length;e++){let J=l[e];if(t.T=J[0],J=J[1],2==t.G)if("c"==J[0]){t.I=J[1],t.ka=J[2];const de=J[3];null!=de&&(t.ma=de,t.j.info("VER="+t.ma));const ke=J[4];null!=ke&&(t.Ca=ke,t.j.info("SVER="+t.Ca));const it=J[5];null!=it&&"number"==typeof it&&0<it&&(t.J=s=1.5*it,t.j.info("backChannelRequestTimeoutMs_="+s)),s=t;const Tt=i.g;if(Tt){const Vt=Tt.g?Tt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Vt){var d=s.h;d.g||-1==Vt.indexOf("spdy")&&-1==Vt.indexOf("quic")&&-1==Vt.indexOf("h2")||(d.j=d.l,d.g=new Set,d.h&&(xs(d,d.h),d.h=null))}if(s.D){const fn=Tt.g?Tt.g.getResponseHeader("X-HTTP-Session-Id"):null;fn&&(s.za=fn,rr(s.F,s.D,fn))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-i.F,t.j.info("Handshake RTT: "+t.P+"ms"));var y=i;if((s=t).sa=Rt(s,s.H?s.ka:null,s.V),y.J){ti(s.h,y);var P=y,q=s.J;q&&P.setTimeout(q),P.B&&(ao(P),ns(P)),s.g=y}else Ce(s);0<t.i.length&&V(t)}else"stop"!=J[0]&&"close"!=J[0]||At(t,7);else 3==t.G&&("stop"==J[0]||"close"==J[0]?"stop"==J[0]?At(t,7):S(t):"noop"!=J[0]&&t.l&&t.l.wa(J),t.A=0)}bs()}catch{}}function lo(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ft(i)||"string"==typeof i)Array.prototype.forEach.call(i,e,void 0);else for(var t=function Ki(i){if(i.oa&&"function"==typeof i.oa)return i.oa();if(!i.W||"function"!=typeof i.W){if(typeof Map<"u"&&i instanceof Map)return Array.from(i.keys());if(!(typeof Set<"u"&&i instanceof Set)){if(Ft(i)||"string"==typeof i){var e=[];i=i.length;for(var t=0;t<i;t++)e.push(t);return e}e=[],t=0;for(const s in i)e[t++]=s;return e}}}(i),s=function rs(i){if(i.W&&"function"==typeof i.W)return i.W();if(typeof Map<"u"&&i instanceof Map||typeof Set<"u"&&i instanceof Set)return Array.from(i.values());if("string"==typeof i)return i.split("");if(Ft(i)){for(var e=[],t=i.length,s=0;s<t;s++)e.push(i[s]);return e}for(s in e=[],t=0,i)e[t++]=i[s];return e}(i),l=s.length,d=0;d<l;d++)e.call(void 0,s[d],t&&t[d],i)}(Ee=qi.prototype).setTimeout=function(i){this.O=i},Ee.ib=function(i){i=i.target;const e=this.L;e&&3==u(i)?e.l():this.La(i)},Ee.La=function(i){try{if(i==this.g)e:{const de=u(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>de)&&(3!=de||Ui||this.g&&(this.h.h||this.g.fa()||x(this.g)))){this.I||4!=de||7==e||bs(),ao(this);var t=this.g.aa();this.Y=t;t:if(Ai(this)){var s=x(this.g);i="";var l=s.length,d=4==u(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),Li(this);var y="";break t}this.h.i=new Ne.TextDecoder}for(e=0;e<l;e++)this.h.h=!0,i+=this.h.i.decode(s[e],{stream:d&&e==l-1});s.splice(0,l),this.h.g+=i,this.C=0,y=this.h.g}else y=this.g.fa();if(this.i=200==t,function Ei(i,e,t,s,l,d,y){i.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+l+"]: "+e+"\n"+t+"\n"+d+" "+y})}(this.j,this.u,this.A,this.m,this.U,de,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var P,q=this.g;if((P=q.g?q.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ci(P)){var J=P;break t}}J=null}if(!(t=J)){this.i=!1,this.o=3,Ar(12),mi(this),Li(this);break e}Wi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,hi(this,t)}this.P?(Is(this,de,y),Ui&&this.i&&3==de&&(Es(this.S,this.T,"tick",this.hb),this.T.start())):(Wi(this.j,this.m,y,null),hi(this,y)),4==de&&mi(this),this.i&&!this.I&&(4==de?Ue(this.l,this):(this.i=!1,ns(this)))}else 400==t&&0<y.indexOf("Unknown SID")?(this.o=3,Ar(12)):(this.o=0,Ar(13)),mi(this),Li(this)}}}catch{}},Ee.hb=function(){if(this.g){var i=u(this.g),e=this.g.fa();this.C<e.length&&(ao(this),Is(this,i,e),this.i&&4!=i&&ns(this))}},Ee.cancel=function(){this.I=!0,mi(this)},Ee.gb=function(){this.B=null;const i=Date.now();0<=i-this.V?(function ki(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(bs(),Ar(17)),mi(this),this.o=2,Li(this)):Bs(this,this.V-i)};var Fi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Us(i,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,i instanceof Us){this.h=void 0!==e?e:i.h,Cs(this,i.j),this.s=i.s,this.g=i.g,eo(this,i.m),this.l=i.l,e=i.i;var t=new Zr;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),Mi(this,t),this.o=i.o}else i&&(t=String(i).match(Fi))?(this.h=!!e,Cs(this,t[1]||"",!0),this.s=hs(t[2]||""),this.g=hs(t[3]||"",!0),eo(this,t[4]),this.l=hs(t[5]||"",!0),Mi(this,t[6]||"",!0),this.o=hs(t[7]||"")):(this.h=!!e,this.i=new Zr(null,this.h))}function Lr(i){return new Us(i)}function Cs(i,e,t){i.j=t?hs(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function eo(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function Mi(i,e,t){e instanceof Zr?(i.i=e,function Pi(i,e){e&&!i.j&&(Nn(i),i.i=null,i.g.forEach(function(t,s){var l=s.toLowerCase();s!=l&&(Co(this,s),co(this,l,t))},i)),i.j=e}(i.i,i.h)):(t||(e=Zi(e,is)),i.i=new Zr(e,i.h))}function rr(i,e,t){i.i.set(e,t)}function xi(i){return rr(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function hs(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function Zi(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,wr),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function wr(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}Us.prototype.toString=function(){var i=[],e=this.j;e&&i.push(Zi(e,js,!0),":");var t=this.g;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(Zi(e,js,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&i.push("/"),i.push(Zi(t,"/"==t.charAt(0)?Zo:Hs,!0))),(t=this.i.toString())&&i.push("?",t),(t=this.o)&&i.push("#",Zi(t,Fo)),i.join("")};var js=/[#\/\?@]/g,Hs=/[#\?:]/g,Zo=/[#\?]/g,is=/[#\?@]/g,Fo=/#/g;function Zr(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Nn(i){i.g||(i.g=new Map,i.h=0,i.i&&function uo(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var s=i[t].indexOf("="),l=null;if(0<=s){var d=i[t].substring(0,s);l=i[t].substring(s+1)}else d=i[t];e(d,l?decodeURIComponent(l.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Co(i,e){Nn(i),e=fs(i,e),i.g.has(e)&&(i.i=null,i.h-=i.g.get(e).length,i.g.delete(e))}function wo(i,e){return Nn(i),e=fs(i,e),i.g.has(e)}function co(i,e,t){Co(i,e),0<t.length&&(i.i=null,i.g.set(fs(i,e),Ri(t)),i.h+=t.length)}function fs(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function yi(i){this.l=i||Vo,i=Ne.PerformanceNavigationTiming?0<(i=Ne.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ne.g&&Ne.g.Ga&&Ne.g.Ga()&&Ne.g.Ga().$b),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ee=Zr.prototype).add=function(i,e){Nn(this),this.i=null,i=fs(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},Ee.forEach=function(i,e){Nn(this),this.g.forEach(function(t,s){t.forEach(function(l){i.call(e,l,s,this)},this)},this)},Ee.oa=function(){Nn(this);const i=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let s=0;s<e.length;s++){const l=i[s];for(let d=0;d<l.length;d++)t.push(e[s])}return t},Ee.W=function(i){Nn(this);let e=[];if("string"==typeof i)wo(this,i)&&(e=e.concat(this.g.get(fs(this,i))));else{i=Array.from(this.g.values());for(let t=0;t<i.length;t++)e=e.concat(i[t])}return e},Ee.set=function(i,e){return Nn(this),this.i=null,wo(this,i=fs(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},Ee.get=function(i,e){return i&&0<(i=this.W(i)).length?String(i[0]):e},Ee.toString=function(){if(this.i)return this.i;if(!this.g)return"";const i=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var s=e[t];const d=encodeURIComponent(String(s)),y=this.W(s);for(s=0;s<y.length;s++){var l=d;""!==y[s]&&(l+="="+encodeURIComponent(String(y[s]))),i.push(l)}}return this.i=i.join("&")};var Vo=10;function Mt(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ur(i){return i.h?1:i.g?i.g.size:0}function ps(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function xs(i,e){i.g?i.g.add(e):i.h=e}function ti(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Yi(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return Ri(i.i)}function os(){}function gs(){this.g=new os}function $o(i,e,t){const s=t||"";try{lo(i,function(l,d){let y=l;Ut(l)&&(y=ci(l)),e.push(s+d+"="+encodeURIComponent(y))})}catch(l){throw e.push(s+"type="+encodeURIComponent("_badmap")),l}}function zs(i,e,t,s,l){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,l(s)}catch{}}function ho(i){this.l=i.ac||null,this.j=i.jb||!1}function K(i,e){Cn.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=j,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yi.prototype.cancel=function(){if(this.i=Yi(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},os.prototype.stringify=function(i){return Ne.JSON.stringify(i,void 0)},os.prototype.parse=function(i){return Ne.JSON.parse(i,void 0)},Fn(ho,Xs),ho.prototype.g=function(){return new K(this.l,this.j)},ho.prototype.i=function(i){return function(){return i}}({}),Fn(K,Cn);var j=0;function k(i){i.j.read().then(i.Ta.bind(i)).catch(i.ga.bind(i))}function ae(i){i.readyState=4,i.l=null,i.j=null,i.A=null,ct(i)}function ct(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(Ee=K.prototype).open=function(i,e){if(this.readyState!=j)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,ct(this)},Ee.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Ne).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ee.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ae(this)),this.readyState=j},Ee.Wa=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,ct(this)),this.g&&(this.readyState=3,ct(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Ne.ReadableStream<"u"&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;k(this)}else i.text().then(this.Va.bind(this),this.ga.bind(this))},Ee.Ta=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?ae(this):ct(this),3==this.readyState&&k(this)}},Ee.Va=function(i){this.g&&(this.response=this.responseText=i,ae(this))},Ee.Ua=function(i){this.g&&(this.response=i,ae(this))},Ee.ga=function(){this.g&&ae(this)},Ee.setRequestHeader=function(i,e){this.v.append(i,e)},Ee.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},Ee.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(K.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var un=Ne.JSON.parse;function Ln(i){Cn.call(this),this.headers=new Map,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=as,this.K=this.L=!1}Fn(Ln,Cn);var as="",Vi=/^https?$/i,ls=["POST","PUT"];function fo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,to(i),po(i)}function to(i){i.D||(i.D=!0,yn(i,"complete"),yn(i,"error"))}function ua(i){if(i.h&&typeof Ke<"u"&&(!i.C[1]||4!=u(i)||2!=i.aa()))if(i.v&&4==u(i))Ms(i.Ha,0,i);else if(yn(i,"readystatechange"),4==u(i)){i.h=!1;try{const P=i.aa();e:switch(P){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var s;if(s=0===P){var l=String(i.H).match(Fi)[1]||null;if(!l&&Ne.self&&Ne.self.location){var d=Ne.self.location.protocol;l=d.substr(0,d.length-1)}s=!Vi.test(l?l.toLowerCase():"")}t=s}if(t)yn(i,"complete"),yn(i,"success");else{i.m=6;try{var y=2<u(i)?i.g.statusText:""}catch{y=""}i.j=y+" ["+i.aa()+"]",to(i)}}finally{po(i)}}}function po(i,e){if(i.g){ca(i);const t=i.g,s=i.C[0]?Xe:null;i.g=null,i.C=null,e||yn(i,"ready");try{t.onreadystatechange=s}catch{}}}function ca(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ne.clearTimeout(i.A),i.A=null)}function u(i){return i.g?i.g.readyState:0}function x(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case as:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch{return null}}function w(i){let e="";return Gt(i,function(t,s){e+=s,e+=":",e+=t,e+="\r\n"}),e}function O(i,e,t){e:{for(s in t){var s=!1;break e}s=!0}s||(t=w(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):rr(i,e,t))}function z(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function g(i){this.Ca=0,this.i=[],this.j=new Gi,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=z("failFast",!1,i),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=z("baseRetryDelayMs",5e3,i),this.bb=z("retryDelaySeedMs",1e4,i),this.$a=z("forwardChannelMaxRetries",2,i),this.ta=z("forwardChannelRequestTimeoutMs",2e4,i),this.ra=i&&i.xmlHttpFactory||void 0,this.Da=i&&i.Zb||!1,this.J=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.I="",this.h=new yi(i&&i.concurrentRequestLimit),this.Fa=new gs,this.O=i&&i.fastHandshake||!1,this.N=i&&i.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=i&&i.Xb||!1,i&&i.Aa&&this.j.Aa(),i&&i.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&i&&i.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function S(i){if(M(i),3==i.G){var e=i.U++,t=Lr(i.F);rr(t,"SID",i.I),rr(t,"RID",e),rr(t,"TYPE","terminate"),ne(i,t),(e=new qi(i,i.j,e,void 0)).K=2,e.v=xi(Lr(t)),t=!1,Ne.navigator&&Ne.navigator.sendBeacon&&(t=Ne.navigator.sendBeacon(e.v.toString(),"")),!t&&Ne.Image&&((new Image).src=e.v,t=!0),t||(e.g=zt(e.l,null),e.g.da(e.v)),e.F=Date.now(),ns(e)}Ot(i)}function _(i){i.g&&(he(i),i.g.cancel(),i.g=null)}function M(i){_(i),i.u&&(Ne.clearTimeout(i.u),i.u=null),Me(i),i.h.cancel(),i.m&&("number"==typeof i.m&&Ne.clearTimeout(i.m),i.m=null)}function V(i){Mt(i.h)||i.m||(i.m=!0,jr(i.Ja,i),i.C=0)}function W(i,e){var t;t=e?e.m:i.U++;const s=Lr(i.F);rr(s,"SID",i.I),rr(s,"RID",t),rr(s,"AID",i.T),ne(i,s),i.o&&i.s&&O(s,i.o,i.s),t=new qi(i,i.j,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.i=e.D.concat(i.i)),e=ge(i,t,1e3),t.setTimeout(Math.round(.5*i.ta)+Math.round(.5*i.ta*Math.random())),xs(i.h,t),Si(t,s,e)}function ne(i,e){i.ia&&Gt(i.ia,function(t,s){rr(e,s,t)}),i.l&&lo({},function(t,s){rr(e,s,t)})}function ge(i,e,t){t=Math.min(i.i.length,t);var s=i.l?Gn(i.l.Ra,i.l,i):null;e:{var l=i.i;let d=-1;for(;;){const y=["count="+t];-1==d?0<t?(d=l[0].h,y.push("ofs="+d)):d=0:y.push("ofs="+d);let P=!0;for(let q=0;q<t;q++){let J=l[q].h;const de=l[q].g;if(J-=d,0>J)d=Math.max(0,l[q].h-100),P=!1;else try{$o(de,y,"req"+J+"_")}catch{s&&s(de)}}if(P){s=y.join("&");break e}}}return i=i.i.splice(0,t),e.D=i,s}function Ce(i){i.g||i.u||(i.Z=1,jr(i.Ia,i),i.A=0)}function ce(i){return!(i.g||i.u||3<=i.A||(i.Z++,i.u=Qs(Gn(i.Ia,i),Nt(i,i.A)),i.A++,0))}function he(i){null!=i.B&&(Ne.clearTimeout(i.B),i.B=null)}function Be(i){i.g=new qi(i,i.j,"rpc",i.Z),null===i.o&&(i.g.H=i.s),i.g.N=0;var e=Lr(i.sa);rr(e,"RID","rpc"),rr(e,"SID",i.I),rr(e,"CI",i.L?"0":"1"),rr(e,"AID",i.T),rr(e,"TYPE","xmlhttp"),ne(i,e),i.o&&i.s&&O(e,i.o,i.s),i.J&&i.g.setTimeout(i.J);var t=i.g;i=i.ka,t.K=1,t.v=xi(Lr(e)),t.s=null,t.P=!0,ts(t,i)}function Me(i){null!=i.v&&(Ne.clearTimeout(i.v),i.v=null)}function Ue(i,e){var t=null;if(i.g==e){Me(i),he(i),i.g=null;var s=2}else{if(!ps(i.h,e))return;t=e.D,ti(i.h,e),s=1}if(0!=i.G)if(i.pa=e.Y,e.i)if(1==s){t=e.s?e.s.length:0,e=Date.now()-e.F;var l=i.C;yn(s=Rs(),new Ro(s,t)),V(i)}else Ce(i);else if(3==(l=e.o)||0==l&&0<i.pa||!(1==s&&function H(i,e){return!(ur(i.h)>=i.h.j-(i.m?1:0)||(i.m?(i.i=e.D.concat(i.i),0):1==i.G||2==i.G||i.C>=(i.Za?0:i.$a)||(i.m=Qs(Gn(i.Ja,i,e),Nt(i,i.C)),i.C++,0)))}(i,e)||2==s&&ce(i)))switch(t&&0<t.length&&(e=i.h,e.i=e.i.concat(t)),l){case 1:At(i,5);break;case 4:At(i,10);break;case 3:At(i,6);break;default:At(i,2)}}function Nt(i,e){let t=i.Xa+Math.floor(Math.random()*i.bb);return i.l||(t*=2),t*e}function At(i,e){if(i.j.info("Error code "+e),2==e){var t=null;i.l&&(t=null);var s=Gn(i.kb,i);t||(t=new Us("//www.google.com/images/cleardot.gif"),Ne.location&&"http"==Ne.location.protocol||Cs(t,"https"),xi(t)),function Ps(i,e){const t=new Gi;if(Ne.Image){const s=new Image;s.onload=hr(zs,t,s,"TestLoadImage: loaded",!0,e),s.onerror=hr(zs,t,s,"TestLoadImage: error",!1,e),s.onabort=hr(zs,t,s,"TestLoadImage: abort",!1,e),s.ontimeout=hr(zs,t,s,"TestLoadImage: timeout",!1,e),Ne.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=i}else e(!1)}(t.toString(),s)}else Ar(2);i.G=0,i.l&&i.l.va(e),Ot(i),M(i)}function Ot(i){if(i.G=0,i.la=[],i.l){const e=Yi(i.h);(0!=e.length||0!=i.i.length)&&(_i(i.la,e),_i(i.la,i.i),i.h.i.length=0,Ri(i.i),i.i.length=0),i.l.ua()}}function Rt(i,e,t){var s=t instanceof Us?Lr(t):new Us(t,void 0);if(""!=s.g)e&&(s.g=e+"."+s.g),eo(s,s.m);else{var l=Ne.location;s=l.protocol,e=e?e+"."+l.hostname:l.hostname,l=+l.port;var d=new Us(null,void 0);s&&Cs(d,s),e&&(d.g=e),l&&eo(d,l),t&&(d.l=t),s=d}return e=i.za,(t=i.D)&&e&&rr(s,t,e),rr(s,"VER",i.ma),ne(i,s),s}function zt(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ln(t&&i.Da&&!i.ra?new ho({jb:!0}):i.ra)).Ka(i.H),e}function nn(){}function Lt(){if(_r&&!(10<=Number(ar)))throw Error("Environmental error: no available transport.")}function st(i,e){Cn.call(this),this.g=new g(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.S=i,(i=e&&e.Yb)&&!Ci(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ci(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new v(this)}function Ze(i){Ko.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function U(){Lo.call(this),this.status=1}function v(i){this.g=i}(Ee=Ln.prototype).Ka=function(i){this.L=i},Ee.da=function(i,e,t,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():ta.g(),this.C=function ko(i){return i.h||(i.h=i.i())}(this.u?this.u:ta),this.g.onreadystatechange=Gn(this.Ha,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(d){return void fo(this,d)}if(i=t||"",t=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var l in s)t.set(l,s[l]);else{if("function"!=typeof s.keys||"function"!=typeof s.get)throw Error("Unknown input type for opt_headers: "+String(s));for(const d of s.keys())t.set(d,s.get(d))}s=Array.from(t.keys()).find(d=>"content-type"==d.toLowerCase()),l=Ne.FormData&&i instanceof Ne.FormData,!(0<=Tr(ls,e))||s||l||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[d,y]of t)this.g.setRequestHeader(d,y);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{ca(this),0<this.B&&((this.K=function Do(i){return _r&&function Er(){return function fi(i){var e=Dn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=Pn(String(Ie)).split("."),t=Pn("9").split("."),s=Math.max(e.length,t.length);for(let y=0;0==i&&y<s;y++){var l=e[y]||"",d=t[y]||"";do{if(l=/(\d*)(\D*)(.*)/.exec(l)||["","","",""],d=/(\d*)(\D*)(.*)/.exec(d)||["","","",""],0==l[0].length&&0==d[0].length)break;i=zr(0==l[1].length?0:parseInt(l[1],10),0==d[1].length?0:parseInt(d[1],10))||zr(0==l[2].length,0==d[2].length)||zr(l[2],d[2]),l=l[3],d=d[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gn(this.qa,this)):this.A=Ms(this.qa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(d){fo(this,d)}},Ee.qa=function(){typeof Ke<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yn(this,"timeout"),this.abort(8))},Ee.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,yn(this,"complete"),yn(this,"abort"),po(this))},Ee.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),po(this,!0)),Ln.X.M.call(this)},Ee.Ha=function(){this.s||(this.F||this.v||this.l?ua(this):this.fb())},Ee.fb=function(){ua(this)},Ee.aa=function(){try{return 2<u(this)?this.g.status:-1}catch{return-1}},Ee.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ee.Sa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),un(e)}},Ee.Ea=function(){return this.m},Ee.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ee=g.prototype).ma=8,Ee.G=1,Ee.Ja=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.U=Math.floor(1e5*Math.random()),i=this.U++;const l=new qi(this,this.j,i,void 0);let d=this.s;if(this.S&&(d?(d=kn(d),Un(d,this.S)):d=this.S),null!==this.o||this.N||(l.H=d,d=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var s=this.i[t];if(void 0===(s="__data__"in s.g&&"string"==typeof(s=s.g.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=ge(this,l,e),rr(t=Lr(this.F),"RID",i),rr(t,"CVER",22),this.D&&rr(t,"X-HTTP-Session-Id",this.D),ne(this,t),d&&(this.N?e="headers="+encodeURIComponent(String(w(d)))+"&"+e:this.o&&O(t,this.o,d)),xs(this.h,l),this.Ya&&rr(t,"TYPE","init"),this.O?(rr(t,"$req",e),rr(t,"SID","null"),l.Z=!0,Si(l,t,null)):Si(l,t,e),this.G=2}}else 3==this.G&&(i?W(this,i):0==this.i.length||Mt(this.h)||W(this))},Ee.Ia=function(){if(this.u=null,Be(this),this.$&&!(this.K||null==this.g||0>=this.P)){var i=2*this.P;this.j.info("BP detection timer enabled: "+i),this.B=Qs(Gn(this.eb,this),i)}},Ee.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ar(10),_(this),Be(this))},Ee.cb=function(){null!=this.v&&(this.v=null,_(this),ce(this),Ar(19))},Ee.kb=function(i){i?(this.j.info("Successfully pinged google.com"),Ar(2)):(this.j.info("Failed to ping google.com"),Ar(1))},(Ee=nn.prototype).xa=function(){},Ee.wa=function(){},Ee.va=function(){},Ee.ua=function(){},Ee.Ra=function(){},Lt.prototype.g=function(i,e){return new st(i,e)},Fn(st,Cn),st.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;Ar(0),i.V=e,i.ia=t||{},i.L=i.Y,i.F=Rt(i,null,i.V),V(i)},st.prototype.close=function(){S(this.g)},st.prototype.u=function(i){var e=this.g;if("string"==typeof i){var t={};t.__data__=i,i=t}else this.v&&((t={}).__data__=ci(i),i=t);e.i.push(new class{constructor(i,e){this.h=i,this.g=e}}(e.ab++,i)),3==e.G&&V(e)},st.prototype.M=function(){this.g.l=null,delete this.j,S(this.g),delete this.g,st.X.M.call(this)},Fn(Ze,Ko),Fn(U,Lo),Fn(v,nn),v.prototype.xa=function(){yn(this.g,"a")},v.prototype.wa=function(i){yn(this.g,new Ze(i))},v.prototype.va=function(i){yn(this.g,new U)},v.prototype.ua=function(){yn(this.g,"b")},Lt.prototype.createWebChannel=Lt.prototype.g,st.prototype.send=st.prototype.u,st.prototype.open=st.prototype.m,st.prototype.close=st.prototype.close,Ti.NO_ERROR=0,Ti.TIMEOUT=8,Ti.HTTP_ERROR=6,qo.COMPLETE="complete",ds.EventType=so,so.OPEN="a",so.CLOSE="b",so.ERROR="c",so.MESSAGE="d",Cn.prototype.listen=Cn.prototype.N,Ln.prototype.listenOnce=Ln.prototype.O,Ln.prototype.getLastError=Ln.prototype.Oa,Ln.prototype.getLastErrorCode=Ln.prototype.Ea,Ln.prototype.getStatus=Ln.prototype.aa,Ln.prototype.getResponseJson=Ln.prototype.Sa,Ln.prototype.getResponseText=Ln.prototype.fa,Ln.prototype.send=Ln.prototype.da,Ln.prototype.setWithCredentials=Ln.prototype.Ka;var C=nt.createWebChannelTransport=function(){return new Lt},R=nt.getStatEventTarget=function(){return Rs()},Q=nt.ErrorCode=Ti,te=nt.EventType=qo,be=nt.Event=kr,Te=nt.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Je=nt.FetchXmlHttpFactory=ho,wt=nt.WebChannel=ds,ln=nt.XhrIo=Ln;const qt="@firebase/firestore";class Mn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mn.UNAUTHENTICATED=new Mn(null),Mn.GOOGLE_CREDENTIALS=new Mn("google-credentials-uid"),Mn.FIRST_PARTY=new Mn("first-party-uid"),Mn.MOCK_USER=new Mn("mock-user");let jn="9.14.0";const wn=new $t.Yd("@firebase/firestore");function qn(){return wn.logLevel}function Dt(i,...e){if(wn.logLevel<=$t.in.DEBUG){const t=e.map(Fr);wn.debug(`Firestore (${jn}): ${i}`,...t)}}function sr(i,...e){if(wn.logLevel<=$t.in.ERROR){const t=e.map(Fr);wn.error(`Firestore (${jn}): ${i}`,...t)}}function cr(i,...e){if(wn.logLevel<=$t.in.WARN){const t=e.map(Fr);wn.warn(`Firestore (${jn}): ${i}`,...t)}}function Fr(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch{return i}}function cn(i="Unexpected state"){const e=`FIRESTORE (${jn}) INTERNAL ASSERTION FAILED: `+i;throw sr(e),new Error(e)}function Tn(i,e){i||cn()}function Zt(i,e){return i}const ht={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends Et.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Di{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class no{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class To{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Mn.UNAUTHENTICATED))}shutdown(){}}class So{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class va{constructor(e){this.t=e,this.currentUser=Mn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var s=this;let l=this.i;const d=J=>this.i!==l?(l=this.i,t(J)):Promise.resolve();let y=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),y.resolve(),y=new Di,e.enqueueRetryable(()=>d(this.currentUser))};const P=()=>{const J=y;e.enqueueRetryable((0,xe.Z)(function*(){yield J.promise,yield d(s.currentUser)}))},q=J=>{Dt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=J,this.auth.addAuthTokenListener(this.o),P()};this.t.onInit(J=>q(J)),setTimeout(()=>{if(!this.auth){const J=this.t.getImmediate({optional:!0});J?q(J):(Dt("FirebaseAuthCredentialsProvider","Auth not yet detected"),y.resolve(),y=new Di)}},0),P()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(s=>this.i!==e?(Dt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Tn("string"==typeof s.accessToken),new no(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Tn(null===e||"string"==typeof e),new Mn(e)}}class xn{constructor(e,t,s,l){this.h=e,this.l=t,this.m=s,this.g=l,this.type="FirstParty",this.user=Mn.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Tn(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Rn{constructor(e,t,s,l){this.h=e,this.l=t,this.m=s,this.g=l}getToken(){return Promise.resolve(new xn(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Mn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hn{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Vr{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const s=d=>{null!=d.error&&Dt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${d.error.message}`);const y=d.token!==this.A;return this.A=d.token,Dt("FirebaseAppCheckTokenProvider",`Received ${y?"new":"existing"} token.`),y?t(d.token):Promise.resolve()};this.o=d=>{e.enqueueRetryable(()=>s(d))};const l=d=>{Dt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=d,this.appCheck.addTokenListener(this.o)};this.T.onInit(d=>l(d)),setTimeout(()=>{if(!this.appCheck){const d=this.T.getImmediate({optional:!0});d?l(d):Dt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tn("string"==typeof t.token),this.A=t.token,new Hn(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function ks(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let s=0;s<i;s++)t[s]=Math.floor(256*Math.random());return t}class $i{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const l=ks(40);for(let d=0;d<l.length;++d)s.length<20&&l[d]<t&&(s+=e.charAt(l[d]%e.length))}return s}}function Kn(i,e){return i<e?-1:i>e?1:0}function fr(i,e,t){return i.length===e.length&&i.every((s,l)=>t(s,e[l]))}function _a(i){return i+"\0"}class Jr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new xt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new xt(ht.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new xt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(ht.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Jr.fromMillis(Date.now())}static fromDate(e){return Jr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*t));return new Jr(t,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Kn(this.nanoseconds,e.nanoseconds):Kn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class bn{constructor(e){this.timestamp=e}static fromTimestamp(e){return new bn(e)}static min(){return new bn(new Jr(0,0))}static max(){return new bn(new Jr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Ls{constructor(e,t,s){void 0===t?t=0:t>e.length&&cn(),void 0===s?s=e.length-t:s>e.length-t&&cn(),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return 0===Ls.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ls?e.forEach(s=>{t.push(s)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let l=0;l<s;l++){const d=e.get(l),y=t.get(l);if(d<y)return-1;if(d>y)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class $n extends Ls{construct(e,t,s){return new $n(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new xt(ht.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter(l=>l.length>0))}return new $n(t)}static emptyPath(){return new $n([])}}const go=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qr extends Ls{construct(e,t,s){return new Qr(e,t,s)}static isValidIdentifier(e){return go.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qr(["__name__"])}static fromServerFormat(e){const t=[];let s="",l=0;const d=()=>{if(0===s.length)throw new xt(ht.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let y=!1;for(;l<e.length;){const P=e[l];if("\\"===P){if(l+1===e.length)throw new xt(ht.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const q=e[l+1];if("\\"!==q&&"."!==q&&"`"!==q)throw new xt(ht.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=q,l+=2}else"`"===P?(y=!y,l++):"."!==P||y?(s+=P,l++):(d(),l++)}if(d(),y)throw new xt(ht.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qr(t)}static emptyPath(){return new Qr([])}}class sn{constructor(e){this.path=e}static fromPath(e){return new sn($n.fromString(e))}static fromName(e){return new sn($n.fromString(e).popFirst(5))}static empty(){return new sn($n.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===$n.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return $n.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new sn(new $n(e.slice()))}}class Aa{constructor(e,t,s,l){this.indexId=e,this.collectionGroup=t,this.fields=s,this.indexState=l}}function da(i){return i.fields.find(e=>2===e.kind)}function Gs(i){return i.fields.filter(e=>2!==e.kind)}Aa.UNKNOWN_ID=-1;class ei{constructor(e,t){this.fieldPath=e,this.kind=t}}class qa{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new qa(0,Yo.min())}}function xa(i,e){const t=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,l=bn.fromTimestamp(1e9===s?new Jr(t+1,0):new Jr(t,s));return new Yo(l,sn.empty(),e)}function bl(i){return new Yo(i.readTime,i.key,-1)}class Yo{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Yo(bn.min(),sn.empty(),-1)}static max(){return new Yo(bn.max(),sn.empty(),-1)}}function Ka(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=sn.comparator(i.documentKey,e.documentKey),0!==t?t:Kn(i.largestBatchId,e.largestBatchId))}const Iu="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Pa{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Na(i){return Cu.apply(this,arguments)}function Cu(){return Cu=(0,xe.Z)(function*(i){if(i.code!==ht.FAILED_PRECONDITION||i.message!==Iu)throw i;Dt("LocalStore","Unexpectedly lost primary lease")}),Cu.apply(this,arguments)}class rt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&cn(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new rt((s,l)=>{this.nextCallback=d=>{this.wrapSuccess(e,d).next(s,l)},this.catchCallback=d=>{this.wrapFailure(t,d).next(s,l)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof rt?t:rt.resolve(t)}catch(t){return rt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):rt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):rt.reject(t)}static resolve(e){return new rt((t,s)=>{t(e)})}static reject(e){return new rt((t,s)=>{s(e)})}static waitFor(e){return new rt((t,s)=>{let l=0,d=0,y=!1;e.forEach(P=>{++l,P.next(()=>{++d,y&&d===l&&t()},q=>s(q))}),y=!0,d===l&&t()})}static or(e){let t=rt.resolve(!1);for(const s of e)t=t.next(l=>l?rt.resolve(l):s());return t}static forEach(e,t){const s=[];return e.forEach((l,d)=>{s.push(t.call(this,l,d))}),this.waitFor(s)}static mapArray(e,t){return new rt((s,l)=>{const d=e.length,y=new Array(d);let P=0;for(let q=0;q<d;q++){const J=q;t(e[J]).next(de=>{y[J]=de,++P,P===d&&s(y)},de=>l(de))}})}static doWhile(e,t){return new rt((s,l)=>{const d=()=>{!0===e()?t().next(()=>{d()},l):s()};d()})}}class Oa{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Di,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Qo(e,t.error)):this.P.resolve()},this.transaction.onerror=s=>{const l=na(s.target.error);this.P.reject(new Qo(e,l))}}static open(e,t,s,l){try{return new Oa(t,e.transaction(l,s))}catch(d){throw new Qo(t,d)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(Dt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Bo(t)}}class Ws{constructor(e,t,s){this.name=e,this.version=t,this.S=s,12.2===Ws.D((0,Et.z$)())&&sr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Dt("SimpleDb","Removing database:",e),Ea(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Et.hl)())return!1;if(Ws.N())return!0;const e=(0,Et.z$)(),t=Ws.D(e),s=0<t&&t<10,l=Ws.k(e),d=0<l&&l<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||s||d)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),s=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(s)}static k(e){const t=e.match(/Android ([\d.]+)/i),s=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(s)}F(e){var t=this;return(0,xe.Z)(function*(){return t.db||(Dt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((s,l)=>{const d=indexedDB.open(t.name,t.version);d.onsuccess=y=>{s(y.target.result)},d.onblocked=()=>{l(new Qo(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},d.onerror=y=>{const P=y.target.error;l("VersionError"===P.name?new xt(ht.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===P.name?new xt(ht.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+P):new Qo(e,P))},d.onupgradeneeded=y=>{Dt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',y.oldVersion),t.S.$(y.target.result,d.transaction,y.oldVersion,t.version).next(()=>{Dt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=s=>t.B(s)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,s,l){var d=this;return(0,xe.Z)(function*(){const y="readonly"===t;let P=0;for(;;){++P;try{d.db=yield d.F(e);const q=Oa.open(d.db,e,y?"readonly":"readwrite",s),J=l(q).next(de=>(q.V(),de)).catch(de=>(q.abort(de),rt.reject(de))).toPromise();return J.catch(()=>{}),yield q.v,J}catch(q){const J=q,de="FirebaseError"!==J.name&&P<3;if(Dt("SimpleDb","Transaction failed with error:",J.message,"Retrying:",de),d.close(),!de)return Promise.reject(J)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Yu{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return Ea(this.U.delete())}}class Qo extends xt{constructor(e,t){super(ht.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function ws(i){return"IndexedDbTransactionError"===i.name}class Bo{constructor(e){this.store=e}put(e,t){let s;return void 0!==t?(Dt("SimpleDb","PUT",this.store.name,e,t),s=this.store.put(t,e)):(Dt("SimpleDb","PUT",this.store.name,"<auto-key>",e),s=this.store.put(e)),Ea(s)}add(e){return Dt("SimpleDb","ADD",this.store.name,e,e),Ea(this.store.add(e))}get(e){return Ea(this.store.get(e)).next(t=>(void 0===t&&(t=null),Dt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Dt("SimpleDb","DELETE",this.store.name,e),Ea(this.store.delete(e))}count(){return Dt("SimpleDb","COUNT",this.store.name),Ea(this.store.count())}W(e,t){const s=this.options(e,t);if(s.index||"function"!=typeof this.store.getAll){const l=this.cursor(s),d=[];return this.H(l,(y,P)=>{d.push(P)}).next(()=>d)}{const l=this.store.getAll(s.range);return new rt((d,y)=>{l.onerror=P=>{y(P.target.error)},l.onsuccess=P=>{d(P.target.result)}})}}J(e,t){const s=this.store.getAll(e,null===t?void 0:t);return new rt((l,d)=>{s.onerror=y=>{d(y.target.error)},s.onsuccess=y=>{l(y.target.result)}})}Y(e,t){Dt("SimpleDb","DELETE ALL",this.store.name);const s=this.options(e,t);s.X=!1;const l=this.cursor(s);return this.H(l,(d,y,P)=>P.delete())}Z(e,t){let s;t?s=e:(s={},t=e);const l=this.cursor(s);return this.H(l,t)}tt(e){const t=this.cursor({});return new rt((s,l)=>{t.onerror=d=>{const y=na(d.target.error);l(y)},t.onsuccess=d=>{const y=d.target.result;y?e(y.primaryKey,y.value).next(P=>{P?y.continue():s()}):s()}})}H(e,t){const s=[];return new rt((l,d)=>{e.onerror=y=>{d(y.target.error)},e.onsuccess=y=>{const P=y.target.result;if(!P)return void l();const q=new Yu(P),J=t(P.primaryKey,P.value,q);if(J instanceof rt){const de=J.catch(ke=>(q.done(),rt.reject(ke)));s.push(de)}q.isDone?l():null===q.G?P.continue():P.continue(q.G)}}).next(()=>rt.waitFor(s))}options(e,t){let s;return void 0!==e&&("string"==typeof e?s=e:t=e),{index:s,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const s=this.store.index(e.index);return e.X?s.openKeyCursor(e.range,t):s.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ea(i){return new rt((e,t)=>{i.onsuccess=s=>{e(s.target.result)},i.onerror=s=>{const l=na(s.target.error);t(l)}})}let Ra=!1;function na(i){const e=Ws.D((0,Et.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const s=new xt("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Ra||(Ra=!0,setTimeout(()=>{throw s},0)),s}}return i}class dl{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;Dt("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,xe.Z)(function*(){t.task=null;try{Dt("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(s){ws(s)?Dt("IndexBackiller","Ignoring IndexedDB error during index backfill: ",s):yield Na(s)}yield t.nt(6e4)}))}}class Qu{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,xe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>t.it(s,e))})()}it(e,t){const s=new Set;let l=t,d=!0;return rt.doWhile(()=>!0===d&&l>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(y=>{if(null!==y&&!s.has(y))return Dt("IndexBackiller",`Processing collection: ${y}`),this.rt(e,y,l).next(P=>{l-=P,s.add(y)});d=!1})).next(()=>t-l)}rt(e,t,s){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(l=>this.localStore.localDocuments.getNextDocuments(e,t,l,s).next(d=>{const y=d.changes;return this.localStore.indexManager.updateIndexEntries(e,y).next(()=>this.ot(l,d)).next(P=>(Dt("IndexBackiller",`Updating offset: ${P}`),this.localStore.indexManager.updateCollectionGroup(e,t,P))).next(()=>y.size)}))}ot(e,t){let s=e;return t.changes.forEach((l,d)=>{const y=bl(d);Ka(y,s)>0&&(s=y)}),new Yo(s.readTime,s.documentKey,Math.max(t.batchId,e.largestBatchId))}}class qs{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>t.writeSequenceNumber(s))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function Za(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Uo(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Va(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}qs.at=-1;class Gr{constructor(e,t){this.comparator=e,this.root=t||D.EMPTY}insert(e,t){return new Gr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,D.BLACK,null,null))}remove(e){return new Gr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,D.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(0===s)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(0===l)return t+s.left.size;l<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,s)=>(e(t,s),!1))}toString(){const e=[];return this.inorderTraversal((t,s)=>(e.push(`${t}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ka(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ka(this.root,e,this.comparator,!1)}getReverseIterator(){return new ka(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ka(this.root,e,this.comparator,!0)}}class ka{constructor(e,t,s,l){this.isReverse=l,this.nodeStack=[];let d=1;for(;!e.isEmpty();)if(d=t?s(e.key,t):1,t&&l&&(d*=-1),d<0)e=this.isReverse?e.left:e.right;else{if(0===d){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class D{constructor(e,t,s,l,d){this.key=e,this.value=t,this.color=s??D.RED,this.left=l??D.EMPTY,this.right=d??D.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,l,d){return new D(e??this.key,t??this.value,s??this.color,l??this.left,d??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let l=this;const d=s(e,l.key);return l=d<0?l.copy(null,null,null,l.left.insert(e,t,s),null):0===d?l.copy(null,t,null,null,null):l.copy(null,null,null,null,l.right.insert(e,t,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return D.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,l=this;if(t(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,t),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),0===t(e,l.key)){if(l.right.isEmpty())return D.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,t))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,D.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,D.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw cn();const e=this.left.check();if(e!==this.right.check())throw cn();return e+(this.isRed()?0:1)}}D.EMPTY=null,D.RED=!0,D.BLACK=!1,D.EMPTY=new class{constructor(){this.size=0}get key(){throw cn()}get value(){throw cn()}get color(){throw cn()}get left(){throw cn()}get right(){throw cn()}copy(i,e,t,s,l){return this}insert(i,e,t){return new D(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class T{constructor(e){this.comparator=e,this.data=new Gr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,s)=>(e(t),!1))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;t(l.key)}}forEachWhile(e,t){let s;for(s=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new I(this.data.getIterator())}getIteratorFrom(e){return new I(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(s=>{t=t.add(s)}),t}isEqual(e){if(!(e instanceof T)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=s.getNext().key;if(0!==this.comparator(l,d))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new T(this.comparator);return t.data=e,t}}class I{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function L(i){return i.hasNext()?i.getNext():void 0}class G{constructor(e){this.fields=e,e.sort(Qr.comparator)}static empty(){return new G([])}unionWith(e){let t=new T(Qr.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new G(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return fr(this.fields,e.fields,(t,s)=>t.isEqual(s))}}class me{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new me(t)}static fromUint8Array(e){const t=function(s){let l="";for(let d=0;d<s.length;++d)l+=String.fromCharCode(s[d]);return l}(e);return new me(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Kn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}me.EMPTY_BYTE_STRING=new me("");const Pe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yt(i){if(Tn(!!i),"string"==typeof i){let e=0;const t=Pe.exec(i);if(Tn(!!t),t[1]){let l=t[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:jt(i.seconds),nanos:jt(i.nanos)}}function jt(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Qn(i){return"string"==typeof i?me.fromBase64String(i):me.fromUint8Array(i)}function vn(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=i?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function xr(i){const e=i.mapValue.fields.__previous_value__;return vn(e)?xr(e):e}function ms(i){const e=yt(i.mapValue.fields.__local_write_time__.timestampValue);return new Jr(e.seconds,e.nanos)}class jo{constructor(e,t,s,l,d,y,P,q){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=l,this.ssl=d,this.forceLongPolling=y,this.autoDetectLongPolling=P,this.useFetchStreams=q}}class Xi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xi&&e.projectId===this.projectId&&e.database===this.database}}function Fs(i){return null==i}function mo(i){return 0===i&&1/i==-1/0}function $a(i){return"number"==typeof i&&Number.isInteger(i)&&!mo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Ao={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ha={nullValue:"NULL_VALUE"};function Ba(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?vn(i)?4:er(i)?9007199254740991:10:cn()}function vi(i,e){if(i===e)return!0;const t=Ba(i);if(t!==Ba(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return ms(i).isEqual(ms(e));case 3:return function(s,l){if("string"==typeof s.timestampValue&&"string"==typeof l.timestampValue&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const d=yt(s.timestampValue),y=yt(l.timestampValue);return d.seconds===y.seconds&&d.nanos===y.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return l=e,Qn(i.bytesValue).isEqual(Qn(l.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(s,l){return jt(s.geoPointValue.latitude)===jt(l.geoPointValue.latitude)&&jt(s.geoPointValue.longitude)===jt(l.geoPointValue.longitude)}(i,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return jt(s.integerValue)===jt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const d=jt(s.doubleValue),y=jt(l.doubleValue);return d===y?mo(d)===mo(y):isNaN(d)&&isNaN(y)}return!1}(i,e);case 9:return fr(i.arrayValue.values||[],e.arrayValue.values||[],vi);case 10:return function(s,l){const d=s.mapValue.fields||{},y=l.mapValue.fields||{};if(Za(d)!==Za(y))return!1;for(const P in d)if(d.hasOwnProperty(P)&&(void 0===y[P]||!vi(d[P],y[P])))return!1;return!0}(i,e);default:return cn()}var l}function Il(i,e){return void 0!==(i.values||[]).find(t=>vi(t,e))}function B(i,e){if(i===e)return 0;const t=Ba(i),s=Ba(e);if(t!==s)return Kn(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Kn(i.booleanValue,e.booleanValue);case 2:return function(l,d){const y=jt(l.integerValue||l.doubleValue),P=jt(d.integerValue||d.doubleValue);return y<P?-1:y>P?1:y===P?0:isNaN(y)?isNaN(P)?0:-1:1}(i,e);case 3:return Z(i.timestampValue,e.timestampValue);case 4:return Z(ms(i),ms(e));case 5:return Kn(i.stringValue,e.stringValue);case 6:return function(l,d){const y=Qn(l),P=Qn(d);return y.compareTo(P)}(i.bytesValue,e.bytesValue);case 7:return function(l,d){const y=l.split("/"),P=d.split("/");for(let q=0;q<y.length&&q<P.length;q++){const J=Kn(y[q],P[q]);if(0!==J)return J}return Kn(y.length,P.length)}(i.referenceValue,e.referenceValue);case 8:return function(l,d){const y=Kn(jt(l.latitude),jt(d.latitude));return 0!==y?y:Kn(jt(l.longitude),jt(d.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(l,d){const y=l.values||[],P=d.values||[];for(let q=0;q<y.length&&q<P.length;++q){const J=B(y[q],P[q]);if(J)return J}return Kn(y.length,P.length)}(i.arrayValue,e.arrayValue);case 10:return function(l,d){if(l===Ao.mapValue&&d===Ao.mapValue)return 0;if(l===Ao.mapValue)return 1;if(d===Ao.mapValue)return-1;const y=l.fields||{},P=Object.keys(y),q=d.fields||{},J=Object.keys(q);P.sort(),J.sort();for(let de=0;de<P.length&&de<J.length;++de){const ke=Kn(P[de],J[de]);if(0!==ke)return ke;const it=B(y[P[de]],q[J[de]]);if(0!==it)return it}return Kn(P.length,J.length)}(i.mapValue,e.mapValue);default:throw cn()}}function Z(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Kn(i,e);const t=yt(i),s=yt(e),l=Kn(t.seconds,s.seconds);return 0!==l?l:Kn(t.nanos,s.nanos)}function se(i){return we(i)}function we(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(s){const l=yt(s);return`time(${l.seconds},${l.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Qn(i.bytesValue).toBase64():"referenceValue"in i?sn.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(s){let l="[",d=!0;for(const y of s.values||[])d?d=!1:l+=",",l+=we(y);return l+"]"}(i.arrayValue):"mapValue"in i?function(s){const l=Object.keys(s.fields||{}).sort();let d="{",y=!0;for(const P of l)y?y=!1:d+=",",d+=`${P}:${we(s.fields[P])}`;return d+"}"}(i.mapValue):cn();var e}function Qe(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function gt(i){return!!i&&"integerValue"in i}function Bt(i){return!!i&&"arrayValue"in i}function hn(i){return!!i&&"nullValue"in i}function Jn(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function ir(i){return!!i&&"mapValue"in i}function vr(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return Uo(i.mapValue.fields,(t,s)=>e.mapValue.fields[t]=vr(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=vr(i.arrayValue.values[t]);return e}return Object.assign({},i)}function er(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function ys(i){return"nullValue"in i?ha:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Qe(Xi.empty(),sn.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?{mapValue:{}}:cn()}function yo(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Qe(Xi.empty(),sn.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?{mapValue:{}}:"mapValue"in i?Ao:cn()}function Ya(i,e){const t=B(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function Qa(i,e){const t=B(i.value,e.value);return 0!==t?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class us{constructor(e){this.value=e}static empty(){return new us({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ir(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=vr(t)}setAll(e){let t=Qr.emptyPath(),s={},l=[];e.forEach((y,P)=>{if(!t.isImmediateParentOf(P)){const q=this.getFieldsMap(t);this.applyChanges(q,s,l),s={},l=[],t=P.popLast()}y?s[P.lastSegment()]=vr(y):l.push(P.lastSegment())});const d=this.getFieldsMap(t);this.applyChanges(d,s,l)}delete(e){const t=this.field(e.popLast());ir(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=t.mapValue.fields[e.get(s)];ir(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=l),t=l}return t.mapValue.fields}applyChanges(e,t,s){Uo(t,(l,d)=>e[l]=d);for(const l of s)delete e[l]}clone(){return new us(vr(this.value))}}function Xa(i){const e=[];return Uo(i.fields,(t,s)=>{const l=new Qr([t]);if(ir(s)){const d=Xa(s.mapValue).fields;if(0===d.length)e.push(l);else for(const y of d)e.push(l.child(y))}else e.push(l)}),new G(e)}class ni{constructor(e,t,s,l,d,y){this.key=e,this.documentType=t,this.version=s,this.readTime=l,this.data=d,this.documentState=y}static newInvalidDocument(e){return new ni(e,0,bn.min(),bn.min(),us.empty(),0)}static newFoundDocument(e,t,s){return new ni(e,1,t,bn.min(),s,0)}static newNoDocument(e,t){return new ni(e,2,t,bn.min(),us.empty(),0)}static newUnknownDocument(e,t){return new ni(e,3,t,bn.min(),us.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=us.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=us.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof ni&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ni(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ja{constructor(e,t=null,s=[],l=[],d=null,y=null,P=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=l,this.limit=d,this.startAt=y,this.endAt=P,this.ht=null}}function el(i,e=null,t=[],s=[],l=null,d=null,y=null){return new Ja(i,e,t,s,l,d,y)}function Xo(i){const e=Zt(i);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(s=>{return(l=s).field.canonicalString()+l.op.toString()+se(l.value);var l}).join(","),t+="|ob:",t+=e.orderBy.map(s=>{return(l=s).field.canonicalString()+l.dir;var l}).join(","),Fs(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(s=>se(s)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(s=>se(s)).join(",")),e.ht=t}return e.ht}function zl(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let l=0;l<i.orderBy.length;l++)if(!Gl(i.orderBy[l],e.orderBy[l]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let l=0;l<i.filters.length;l++)if((t=i.filters[l]).op!==(s=e.filters[l]).op||!t.field.isEqual(s.field)||!vi(t.value,s.value))return!1;var t,s;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!_h(i.startAt,e.startAt)&&_h(i.endAt,e.endAt)}function Ju(i){return sn.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function ec(i,e){return i.filters.filter(t=>t instanceof Vs&&t.field.isEqual(e))}function Jc(i,e,t){let s=ha,l=!0;for(const d of ec(i,e)){let y=ha,P=!0;switch(d.op){case"<":case"<=":y=ys(d.value);break;case"==":case"in":case">=":y=d.value;break;case">":y=d.value,P=!1;break;case"!=":case"not-in":y=ha}Ya({value:s,inclusive:l},{value:y,inclusive:P})<0&&(s=y,l=P)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const y=t.position[d];Ya({value:s,inclusive:l},{value:y,inclusive:t.inclusive})<0&&(s=y,l=t.inclusive);break}return{value:s,inclusive:l}}function wu(i,e,t){let s=Ao,l=!0;for(const d of ec(i,e)){let y=Ao,P=!0;switch(d.op){case">=":case">":y=yo(d.value),P=!1;break;case"==":case"in":case"<=":y=d.value;break;case"<":y=d.value,P=!1;break;case"!=":case"not-in":y=Ao}Qa({value:s,inclusive:l},{value:y,inclusive:P})>0&&(s=y,l=P)}if(null!==t)for(let d=0;d<i.orderBy.length;++d)if(i.orderBy[d].field.isEqual(e)){const y=t.position[d];Qa({value:s,inclusive:l},{value:y,inclusive:t.inclusive})>0&&(s=y,l=t.inclusive);break}return{value:s,inclusive:l}}class Vs extends class{}{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,s):new rp(e,t,s):"array-contains"===t?new Mm(e,s):"in"===t?new td(e,s):"not-in"===t?new ip(e,s):"array-contains-any"===t?new yh(e,s):new Vs(e,t,s)}static lt(e,t,s){return"in"===t?new mh(e,s):new Am(e,s)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(B(t,this.value)):null!==t&&Ba(this.value)===Ba(t)&&this.ft(B(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return cn()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class rp extends Vs{constructor(e,t,s){super(e,t,s),this.key=sn.fromName(s.referenceValue)}matches(e){const t=sn.comparator(e.key,this.key);return this.ft(t)}}class mh extends Vs{constructor(e,t){super(e,"in",t),this.keys=ed(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Am extends Vs{constructor(e,t){super(e,"not-in",t),this.keys=ed(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ed(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(s=>sn.fromName(s.referenceValue))}class Mm extends Vs{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Bt(t)&&Il(t.arrayValue,this.value)}}class td extends Vs{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Il(this.value.arrayValue,t)}}class ip extends Vs{constructor(e,t){super(e,"not-in",t)}matches(e){if(Il(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Il(this.value.arrayValue,t)}}class yh extends Vs{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Bt(t)||!t.arrayValue.values)&&t.arrayValue.values.some(s=>Il(this.value.arrayValue,s))}}class fa{constructor(e,t){this.position=e,this.inclusive=t}}class hl{constructor(e,t="asc"){this.field=e,this.dir=t}}function Gl(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function vh(i,e,t){let s=0;for(let l=0;l<i.position.length;l++){const d=e[l],y=i.position[l];if(s=d.field.isKeyField()?sn.comparator(sn.fromName(y.referenceValue),t.key):B(y,t.data.field(d.field)),"desc"===d.dir&&(s*=-1),0!==s)break}return s}function _h(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!vi(i.position[t],e.position[t]))return!1;return!0}class fl{constructor(e,t=null,s=[],l=[],d=null,y="F",P=null,q=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=l,this.limit=d,this.limitType=y,this.startAt=P,this.endAt=q,this._t=null,this.wt=null}}function Wl(i,e,t,s,l,d,y,P){return new fl(i,e,t,s,l,d,y,P)}function pl(i){return new fl(i)}function nd(i){return 0===i.filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())}function tc(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function nc(i){for(const e of i.filters)if(e.dt())return e.field;return null}function ql(i){return null!==i.collectionGroup}function Kl(i){const e=Zt(i);if(null===e._t){e._t=[];const t=nc(e),s=tc(e);if(null!==t&&null===s)t.isKeyField()||e._t.push(new hl(t)),e._t.push(new hl(Qr.keyField(),"asc"));else{let l=!1;for(const d of e.explicitOrderBy)e._t.push(d),d.field.isKeyField()&&(l=!0);if(!l){const d=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new hl(Qr.keyField(),d))}}}return e._t}function Mo(i){const e=Zt(i);if(!e.wt)if("F"===e.limitType)e.wt=el(e.path,e.collectionGroup,Kl(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const d of Kl(e))t.push(new hl(d.field,"desc"===d.dir?"asc":"desc"));const s=e.endAt?new fa(e.endAt.position,e.endAt.inclusive):null,l=e.startAt?new fa(e.startAt.position,e.startAt.inclusive):null;e.wt=el(e.path,e.collectionGroup,t,e.filters,e.limit,s,l)}return e.wt}function rc(i,e,t){return new fl(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function Zl(i,e){return zl(Mo(i),Mo(e))&&i.limitType===e.limitType}function Eh(i){return`${Xo(Mo(i))}|lt:${i.limitType}`}function ba(i){return`Query(target=${function Xu(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(s=t).field.canonicalString()} ${s.op} ${se(s.value)}`;var s}).join(", ")}]`),Fs(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(s=t).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>se(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>se(t)).join(",")),`Target(${e})`}(Mo(i))}; limitType=${i.limitType})`}function Cl(i,e){return e.isFoundDocument()&&function(t,s){const l=s.key.path;return null!==t.collectionGroup?s.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(l):sn.isDocumentKey(t.path)?t.path.isEqual(l):t.path.isImmediateParentOf(l)}(i,e)&&function(t,s){for(const l of t.explicitOrderBy)if(!l.field.isKeyField()&&null===s.data.field(l.field))return!1;return!0}(i,e)&&function(t,s){for(const l of t.filters)if(!l.matches(s))return!1;return!0}(i,e)&&(s=e,!((t=i).startAt&&!function(l,d,y){const P=vh(l,d,y);return l.inclusive?P<=0:P<0}(t.startAt,Kl(t),s)||t.endAt&&!function(l,d,y){const P=vh(l,d,y);return l.inclusive?P>=0:P>0}(t.endAt,Kl(t),s)));var t,s}function rd(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function bh(i){return(e,t)=>{let s=!1;for(const l of Kl(i)){const d=xm(l,e,t);if(0!==d)return d;s=s||l.field.isKeyField()}return 0}}function xm(i,e,t){const s=i.field.isKeyField()?sn.comparator(e.key,t.key):function(l,d,y){const P=d.data.field(l),q=y.data.field(l);return null!==P&&null!==q?B(P,q):cn()}(i.field,e,t);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return cn()}}function sp(i,e){if(i.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mo(e)?"-0":e}}function op(i){return{integerValue:""+i}}function ap(i,e){return $a(e)?op(e):sp(i,e)}class Du{constructor(){this._=void 0}}function Ih(i,e,t){return i instanceof Ia?function(s,l){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&(d.fields.__previous_value__=l),{mapValue:d}}(t,e):i instanceof tl?Ua(i,e):i instanceof pa?id(i,e):function(s,l){const d=up(s,l),y=sd(d)+sd(s.yt);return gt(d)&&gt(s.yt)?op(y):sp(s.It,y)}(i,e)}function lp(i,e,t){return i instanceof tl?Ua(i,e):i instanceof pa?id(i,e):t}function up(i,e){return i instanceof nl?gt(t=e)||(s=t)&&"doubleValue"in s?e:{integerValue:0}:null;var s,t}class Ia extends Du{}class tl extends Du{constructor(e){super(),this.elements=e}}function Ua(i,e){const t=cp(e);for(const s of i.elements)t.some(l=>vi(l,s))||t.push(s);return{arrayValue:{values:t}}}class pa extends Du{constructor(e){super(),this.elements=e}}function id(i,e){let t=cp(e);for(const s of i.elements)t=t.filter(l=>!vi(l,s));return{arrayValue:{values:t}}}class nl extends Du{constructor(e,t){super(),this.It=e,this.yt=t}}function sd(i){return jt(i.integerValue||i.doubleValue)}function cp(i){return Bt(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class Yl{constructor(e,t){this.field=e,this.transform=t}}class od{constructor(e,t){this.version=e,this.transformResults=t}}class Ni{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ni}static exists(e){return new Ni(void 0,e)}static updateTime(e){return new Ni(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ad(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class ld{}function ud(i,e){if(!i.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return i.isNoDocument()?new cs(i.key,Ni.none()):new wl(i.key,i.data,Ni.none());{const t=i.data,s=us.empty();let l=new T(Qr.comparator);for(let d of e.fields)if(!l.has(d)){let y=t.field(d);null===y&&d.length>1&&(d=d.popLast(),y=t.field(d)),null===y?s.delete(d):s.set(d,y),l=l.add(d)}return new Ca(i.key,s,new G(l.toArray()),Ni.none())}}function dp(i,e,t){i instanceof wl?function(s,l,d){const y=s.value.clone(),P=Ql(s.fieldTransforms,l,d.transformResults);y.setAll(P),l.convertToFoundDocument(d.version,y).setHasCommittedMutations()}(i,e,t):i instanceof Ca?function(s,l,d){if(!ad(s.precondition,l))return void l.convertToUnknownDocument(d.version);const y=Ql(s.fieldTransforms,l,d.transformResults),P=l.data;P.setAll(sc(s)),P.setAll(y),l.convertToFoundDocument(d.version,P).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Tu(i,e,t,s){return i instanceof wl?function(l,d,y,P){if(!ad(l.precondition,d))return y;const q=l.value.clone(),J=wh(l.fieldTransforms,P,d);return q.setAll(J),d.convertToFoundDocument(d.version,q).setHasLocalMutations(),null}(i,e,t,s):i instanceof Ca?function(l,d,y,P){if(!ad(l.precondition,d))return y;const q=wh(l.fieldTransforms,P,d),J=d.data;return J.setAll(sc(l)),J.setAll(q),d.convertToFoundDocument(d.version,J).setHasLocalMutations(),null===y?null:y.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(de=>de.field))}(i,e,t,s):(y=t,ad(i.precondition,d=e)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):y);var d,y}function Ch(i,e){let t=null;for(const s of i.fieldTransforms){const l=e.data.field(s.field),d=up(s.transform,l||null);null!=d&&(null===t&&(t=us.empty()),t.set(s.field,d))}return t||null}function ic(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(s=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===s||t&&s&&fr(t,s,(l,d)=>function Pm(i,e){return i.field.isEqual(e.field)&&(s=e.transform,(t=i.transform)instanceof tl&&s instanceof tl||t instanceof pa&&s instanceof pa?fr(t.elements,s.elements,vi):t instanceof nl&&s instanceof nl?vi(t.yt,s.yt):t instanceof Ia&&s instanceof Ia);var t,s}(l,d))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,s}class wl extends ld{constructor(e,t,s,l=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Ca extends ld{constructor(e,t,s,l,d=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=l,this.fieldTransforms=d,this.type=1}getFieldMask(){return this.fieldMask}}function sc(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const s=i.data.field(t);e.set(t,s)}}),e}function Ql(i,e,t){const s=new Map;Tn(i.length===t.length);for(let l=0;l<t.length;l++){const d=i[l],y=d.transform,P=e.data.field(d.field);s.set(d.field,lp(y,P,t[l]))}return s}function wh(i,e,t){const s=new Map;for(const l of i){const d=l.transform,y=t.data.field(l.field);s.set(l.field,Ih(d,y,e))}return s}class cs extends ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Xl extends ld{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class hp{constructor(e){this.count=e}}var Ns,ri;function cd(i){switch(i){default:return cn();case ht.CANCELLED:case ht.UNKNOWN:case ht.DEADLINE_EXCEEDED:case ht.RESOURCE_EXHAUSTED:case ht.INTERNAL:case ht.UNAVAILABLE:case ht.UNAUTHENTICATED:return!1;case ht.INVALID_ARGUMENT:case ht.NOT_FOUND:case ht.ALREADY_EXISTS:case ht.PERMISSION_DENIED:case ht.FAILED_PRECONDITION:case ht.ABORTED:case ht.OUT_OF_RANGE:case ht.UNIMPLEMENTED:case ht.DATA_LOSS:return!0}}function Dh(i){if(void 0===i)return sr("GRPC error has no .code"),ht.UNKNOWN;switch(i){case Ns.OK:return ht.OK;case Ns.CANCELLED:return ht.CANCELLED;case Ns.UNKNOWN:return ht.UNKNOWN;case Ns.DEADLINE_EXCEEDED:return ht.DEADLINE_EXCEEDED;case Ns.RESOURCE_EXHAUSTED:return ht.RESOURCE_EXHAUSTED;case Ns.INTERNAL:return ht.INTERNAL;case Ns.UNAVAILABLE:return ht.UNAVAILABLE;case Ns.UNAUTHENTICATED:return ht.UNAUTHENTICATED;case Ns.INVALID_ARGUMENT:return ht.INVALID_ARGUMENT;case Ns.NOT_FOUND:return ht.NOT_FOUND;case Ns.ALREADY_EXISTS:return ht.ALREADY_EXISTS;case Ns.PERMISSION_DENIED:return ht.PERMISSION_DENIED;case Ns.FAILED_PRECONDITION:return ht.FAILED_PRECONDITION;case Ns.ABORTED:return ht.ABORTED;case Ns.OUT_OF_RANGE:return ht.OUT_OF_RANGE;case Ns.UNIMPLEMENTED:return ht.UNIMPLEMENTED;case Ns.DATA_LOSS:return ht.DATA_LOSS;default:return cn()}}(ri=Ns||(Ns={}))[ri.OK=0]="OK",ri[ri.CANCELLED=1]="CANCELLED",ri[ri.UNKNOWN=2]="UNKNOWN",ri[ri.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ri[ri.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ri[ri.NOT_FOUND=5]="NOT_FOUND",ri[ri.ALREADY_EXISTS=6]="ALREADY_EXISTS",ri[ri.PERMISSION_DENIED=7]="PERMISSION_DENIED",ri[ri.UNAUTHENTICATED=16]="UNAUTHENTICATED",ri[ri.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ri[ri.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ri[ri.ABORTED=10]="ABORTED",ri[ri.OUT_OF_RANGE=11]="OUT_OF_RANGE",ri[ri.UNIMPLEMENTED=12]="UNIMPLEMENTED",ri[ri.INTERNAL=13]="INTERNAL",ri[ri.UNAVAILABLE=14]="UNAVAILABLE",ri[ri.DATA_LOSS=15]="DATA_LOSS";class gl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0!==s)for(const[l,d]of s)if(this.equalsFn(l,e))return d}has(e){return void 0!==this.get(e)}set(e,t){const s=this.mapKeyFn(e),l=this.inner[s];if(void 0===l)return this.inner[s]=[[e,t]],void this.innerSize++;for(let d=0;d<l.length;d++)if(this.equalsFn(l[d][0],e))return void(l[d]=[e,t]);l.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(void 0===s)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return 1===s.length?delete this.inner[t]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,(t,s)=>{for(const[l,d]of s)e(l,d)})}isEmpty(){return Va(this.inner)}size(){return this.innerSize}}const fp=new Gr(sn.comparator);function ra(){return fp}const Su=new Gr(sn.comparator);function oc(...i){let e=Su;for(const t of i)e=e.insert(t.key,t);return e}function Dl(i){let e=Su;return i.forEach((t,s)=>e=e.insert(t,s.overlayedDocument)),e}function wa(){return Jl()}function dd(){return Jl()}function Jl(){return new gl(i=>i.toString(),(i,e)=>i.isEqual(e))}const Th=new Gr(sn.comparator),Sh=new T(sn.comparator);function Dr(...i){let e=Sh;for(const t of i)e=e.add(t);return e}const ac=new T(Kn);function Tl(){return ac}class lc{constructor(e,t,s,l,d){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=d}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const l=new Map;return l.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new lc(bn.min(),l,Tl(),ra(),Dr())}}class Sl{constructor(e,t,s,l,d){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=d}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Sl(s,t,Dr(),Dr(),Dr())}}class eu{constructor(e,t,s,l){this.Tt=e,this.removedTargetIds=t,this.key=s,this.Et=l}}class Jo{constructor(e,t){this.targetId=e,this.At=t}}class Al{constructor(e,t,s=me.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=l}}class rl{constructor(){this.Rt=0,this.bt=Ml(),this.Pt=me.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=Dr(),t=Dr(),s=Dr();return this.bt.forEach((l,d)=>{switch(d){case 0:e=e.add(l);break;case 2:t=t.add(l);break;case 1:s=s.add(l);break;default:cn()}}),new Sl(this.Pt,this.vt,e,t,s)}Nt(){this.Vt=!1,this.bt=Ml()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class pp{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ra(),this.qt=tu(),this.Kt=new T(Kn)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const s=this.zt(t);switch(e.state){case 0:this.Ht(t)&&s.Ct(e.resumeToken);break;case 1:s.Ft(),s.St||s.Nt(),s.Ct(e.resumeToken);break;case 2:s.Ft(),s.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(s.$t(),s.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),s.Ct(e.resumeToken));break;default:cn()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((s,l)=>{this.Ht(l)&&t(l)})}Yt(e){const t=e.targetId,s=e.At.count,l=this.Xt(t);if(l){const d=l.target;if(Ju(d))if(0===s){const y=new sn(d.path);this.jt(t,y,ni.newNoDocument(y,bn.min()))}else Tn(1===s);else this.Zt(t)!==s&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((d,y)=>{const P=this.Xt(y);if(P){if(d.current&&Ju(P.target)){const q=new sn(P.target.path);null!==this.Ut.get(q)||this.ee(y,q)||this.jt(y,q,ni.newNoDocument(q,e))}d.Dt&&(t.set(y,d.xt()),d.Nt())}});let s=Dr();this.qt.forEach((d,y)=>{let P=!0;y.forEachWhile(q=>{const J=this.Xt(q);return!J||2===J.purpose||(P=!1,!1)}),P&&(s=s.add(d))}),this.Ut.forEach((d,y)=>y.setReadTime(e));const l=new lc(e,t,this.Kt,this.Ut,s);return this.Ut=ra(),this.qt=tu(),this.Kt=new T(Kn),l}Qt(e,t){if(!this.Ht(e))return;const s=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,s),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,s){if(!this.Ht(e))return;const l=this.zt(e);this.ee(e,t)?l.kt(t,1):l.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),s&&(this.Ut=this.Ut.insert(t,s))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new rl,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new T(Kn),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||Dt("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new rl),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function tu(){return new Gr(sn.comparator)}function Ml(){return new Gr(sn.comparator)}const gp={asc:"ASCENDING",desc:"DESCENDING"},uc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class cc{constructor(e,t){this.databaseId=e,this.gt=t}}function vo(i,e){return i.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dc(i,e){return i.gt?e.toBase64():e.toUint8Array()}function hd(i,e){return vo(i,e.toTimestamp())}function _o(i){return Tn(!!i),bn.fromTimestamp(function(e){const t=yt(e);return new Jr(t.seconds,t.nanos)}(i))}function fd(i,e){return(t=i,new $n(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function hc(i){const e=$n.fromString(i);return Tn(tr(e)),e}function Ds(i,e){return fd(i.databaseId,e.path)}function Da(i,e){const t=hc(e);if(t.get(1)!==i.databaseId.projectId)throw new xt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new xt(ht.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new sn(ml(t))}function Au(i,e){return fd(i.databaseId,e)}function Ah(i){const e=hc(i);return 4===e.length?$n.emptyPath():ml(e)}function ga(i){return new $n(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function ml(i){return Tn(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function pd(i,e,t){return{name:Ds(i,e),fields:t.value.mapValue.fields}}function fc(i,e,t){const s=Da(i,e.name),l=_o(e.updateTime),d=new us({mapValue:{fields:e.fields}}),y=ni.newFoundDocument(s,l,d);return t&&y.setHasCommittedMutations(),t?y.setHasCommittedMutations():y}function gc(i,e){let t;if(e instanceof wl)t={update:pd(i,e.key,e.value)};else if(e instanceof cs)t={delete:Ds(i,e.key)};else if(e instanceof Ca)t={update:pd(i,e.key,e.data),updateMask:or(e.fieldMask)};else{if(!(e instanceof Xl))return cn();t={verify:Ds(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(s=>function(l,d){const y=d.transform;if(y instanceof Ia)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof pa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof nl)return{fieldPath:d.field.canonicalString(),increment:y.yt};throw cn()}(0,s))),e.precondition.isNone||(t.currentDocument=void 0!==(l=e.precondition).updateTime?{updateTime:hd(i,l.updateTime)}:void 0!==l.exists?{exists:l.exists}:cn()),t;var l}function gd(i,e){const t=e.currentDocument?void 0!==(l=e.currentDocument).updateTime?Ni.updateTime(_o(l.updateTime)):void 0!==l.exists?Ni.exists(l.exists):Ni.none():Ni.none(),s=e.updateTransforms?e.updateTransforms.map(l=>function(d,y){let P=null;"setToServerValue"in y?(Tn("REQUEST_TIME"===y.setToServerValue),P=new Ia):"appendMissingElements"in y?P=new tl(y.appendMissingElements.values||[]):"removeAllFromArray"in y?P=new pa(y.removeAllFromArray.values||[]):"increment"in y?P=new nl(d,y.increment):cn();const q=Qr.fromServerFormat(y.fieldPath);return new Yl(q,P)}(i,l)):[];var l;if(e.update){const l=Da(i,e.update.name),d=new us({mapValue:{fields:e.update.fields}});if(e.updateMask){const y=new G((e.updateMask.fieldPaths||[]).map(J=>Qr.fromServerFormat(J)));return new Ca(l,d,y,t,s)}return new wl(l,d,t,s)}if(e.delete){const l=Da(i,e.delete);return new cs(l,t)}if(e.verify){const l=Da(i,e.verify);return new Xl(l,t)}return cn()}function Mh(i,e){return{documents:[Au(i,e.path)]}}function E(i,e){const t={structuredQuery:{}},s=e.path;null!==e.collectionGroup?(t.parent=Au(i,s),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Au(i,s.popLast()),t.structuredQuery.from=[{collectionId:s.lastSegment()}]);const l=function(q){if(0===q.length)return;const J=q.map(de=>function(ke){if("=="===ke.op){if(Jn(ke.value))return{unaryFilter:{field:ze(ke.field),op:"IS_NAN"}};if(hn(ke.value))return{unaryFilter:{field:ze(ke.field),op:"IS_NULL"}}}else if("!="===ke.op){if(Jn(ke.value))return{unaryFilter:{field:ze(ke.field),op:"IS_NOT_NAN"}};if(hn(ke.value))return{unaryFilter:{field:ze(ke.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ze(ke.field),op:ue(ke.op),value:ke.value}}}(de));return 1===J.length?J[0]:{compositeFilter:{op:"AND",filters:J}}}(e.filters);l&&(t.structuredQuery.where=l);const d=function(q){if(0!==q.length)return q.map(J=>{return{field:ze((de=J).field),direction:X(de.dir)};var de})}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const y=(J=e.limit,i.gt||Fs(J)?J:{value:J});var J,P,q;return null!==y&&(t.structuredQuery.limit=y),e.startAt&&(t.structuredQuery.startAt={before:(P=e.startAt).inclusive,values:P.position}),e.endAt&&(t.structuredQuery.endAt={before:!(q=e.endAt).inclusive,values:q.position}),t}function h(i){let e=Ah(i.parent);const t=i.structuredQuery,s=t.from?t.from.length:0;let l=null;if(s>0){Tn(1===s);const de=t.from[0];de.allDescendants?l=de.collectionId:e=e.child(de.collectionId)}let d=[];t.where&&(d=A(t.where));let y=[];t.orderBy&&(y=t.orderBy.map(de=>{return new hl(_t((ke=de).field),function(it){switch(it){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ke.direction));var ke}));let P=null;t.limit&&(P=function(de){let ke;return ke="object"==typeof de?de.value:de,Fs(ke)?null:ke}(t.limit));let q=null;var de;t.startAt&&(q=new fa((de=t.startAt).values||[],!!de.before));let J=null;return t.endAt&&(J=function(de){return new fa(de.values||[],!de.before)}(t.endAt)),Wl(e,l,y,d,P,"F",q,J)}function A(i){return i?void 0!==i.unaryFilter?[On(i)]:void 0!==i.fieldFilter?[en(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>A(e)).reduce((e,t)=>e.concat(t)):cn():[]}function X(i){return gp[i]}function ue(i){return uc[i]}function ze(i){return{fieldPath:i.canonicalString()}}function _t(i){return Qr.fromServerFormat(i.fieldPath)}function en(i){return Vs.create(_t(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return cn()}}(i.fieldFilter.op),i.fieldFilter.value)}function On(i){switch(i.unaryFilter.op){case"IS_NAN":const e=_t(i.unaryFilter.field);return Vs.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=_t(i.unaryFilter.field);return Vs.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=_t(i.unaryFilter.field);return Vs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=_t(i.unaryFilter.field);return Vs.create(l,"!=",{nullValue:"NULL_VALUE"});default:return cn()}}function or(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function tr(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function li(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=mc(e)),e=ma(i.get(t),e);return mc(e)}function ma(i,e){let t=e;const s=i.length;for(let l=0;l<s;l++){const d=i.charAt(l);switch(d){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=d}}return t}function mc(i){return i+"\x01\x01"}function ja(i){const e=i.length;if(Tn(e>=2),2===e)return Tn("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),$n.emptyPath();const t=e-2,s=[];let l="";for(let d=0;d<e;){const y=i.indexOf("\x01",d);switch((y<0||y>t)&&cn(),i.charAt(y+1)){case"\x01":const P=i.substring(d,y);let q;0===l.length?q=P:(l+=P,q=l,l=""),s.push(q);break;case"\x10":l+=i.substring(d,y),l+="\0";break;case"\x11":l+=i.substring(d,y+1);break;default:cn()}d=y+2}return new $n(s)}const nu=["userId","batchId"];function yc(i,e){return[i,li(e)]}function xh(i,e,t){return[i,li(e),t]}const Ph={},yp=["prefixPath","collectionGroup","readTime","documentId"],vp=["prefixPath","collectionGroup","documentId"],md=["collectionGroup","readTime","prefixPath","documentId"],yd=["canonicalId","targetId"],vd=["targetId","path"],vc=["path","targetId"],Nh=["collectionId","parent"],Nm=["indexId","uid"],_p=["uid","sequenceNumber"],P_=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Ep=["indexId","uid","orderedDocumentKey"],_d=["userId","collectionPath","documentId"],N_=["userId","collectionPath","largestBatchId"],O_=["userId","collectionGroup","largestBatchId"],Om=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Rm=[...Om,"documentOverlays"],km=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Lm=km,R_=[...Lm,"indexConfiguration","indexState","indexEntries"];class bp extends Pa{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Eo(i,e){const t=Zt(i);return Ws.M(t.ie,e)}class Ip{constructor(e,t,s,l){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let l=0;l<this.mutations.length;l++){const d=this.mutations[l];d.key.isEqual(e.key)&&dp(d,e,s[l])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Tu(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Tu(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=dd();return this.mutations.forEach(l=>{const d=e.get(l.key),y=d.overlayedDocument;let P=this.applyToLocalView(y,d.mutatedFields);P=t.has(l.key)?null:P;const q=ud(y,P);null!==q&&s.set(l.key,q),y.isValidDocument()||y.convertToNoDocument(bn.min())}),s}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Dr())}isEqual(e){return this.batchId===e.batchId&&fr(this.mutations,e.mutations,(t,s)=>ic(t,s))&&fr(this.baseMutations,e.baseMutations,(t,s)=>ic(t,s))}}class Cp{constructor(e,t,s,l){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=l}static from(e,t,s){Tn(e.mutations.length===s.length);let l=Th;const d=e.mutations;for(let y=0;y<d.length;y++)l=l.insert(d[y].key,s[y].version);return new Cp(e,t,s,l)}}class wp{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xl{constructor(e,t,s,l,d=bn.min(),y=bn.min(),P=me.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=d,this.lastLimboFreeSnapshotVersion=y,this.resumeToken=P}withSequenceNumber(e){return new xl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Fm{constructor(e){this.re=e}}function ia(i,e){const t=e.key,s={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:_c(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())s.document={name:Ds(l=i.re,(d=e).key),fields:d.data.value.mapValue.fields,updateTime:vo(l,d.version.toTimestamp())};else if(e.isNoDocument())s.noDocument={path:t.path.toArray(),readTime:ru(e.version)};else{if(!e.isUnknownDocument())return cn();s.unknownDocument={path:t.path.toArray(),version:ru(e.version)}}var l,d;return s}function _c(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ru(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Pl(i){const e=new Jr(i.seconds,i.nanoseconds);return bn.fromTimestamp(e)}function Ks(i,e){const t=(e.baseMutations||[]).map(d=>gd(i.re,d));for(let d=0;d<e.mutations.length-1;++d){const y=e.mutations[d];d+1<e.mutations.length&&void 0!==e.mutations[d+1].transform&&(y.updateTransforms=e.mutations[d+1].transform.fieldTransforms,e.mutations.splice(d+1,1),++d)}const s=e.mutations.map(d=>gd(i.re,d)),l=Jr.fromMillis(e.localWriteTimeMs);return new Ip(e.batchId,l,t,s)}function Nl(i){const e=Pl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Pl(i.lastLimboFreeSnapshotVersion):bn.min();let s;var l;return void 0!==i.query.documents?(Tn(1===(l=i.query).documents.length),s=Mo(pl(Ah(l.documents[0])))):s=Mo(h(i.query)),new xl(s,i.targetId,0,i.lastListenSequenceNumber,e,t,me.fromBase64String(i.resumeToken))}function Dp(i,e){const t=ru(e.snapshotVersion),s=ru(e.lastLimboFreeSnapshotVersion);let l;l=Ju(e.target)?Mh(i.re,e.target):E(i.re,e.target);const d=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Xo(e.target),readTime:t,resumeToken:d,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:s,query:l}}function Tp(i){const e=h({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?rc(e,e.limit,"L"):e}function Sp(i,e){return new wp(e.largestBatchId,gd(i.re,e.overlayMutation))}function Ap(i,e){const t=e.path.lastSegment();return[i,li(e.path.popLast()),t]}function Vm(i,e,t,s){return{indexId:i,uid:e.uid||"",sequenceNumber:t,readTime:ru(s.readTime),documentKey:li(s.documentKey.path),largestBatchId:s.largestBatchId}}class $m{getBundleMetadata(e,t){return Bm(e).get(t).next(s=>{if(s)return{id:(l=s).bundleId,createTime:Pl(l.createTime),version:l.version};var l})}saveBundleMetadata(e,t){return Bm(e).put({bundleId:(s=t).id,createTime:ru(_o(s.createTime)),version:s.version});var s}getNamedQuery(e,t){return Mp(e).get(t).next(s=>{if(s)return{name:(l=s).name,query:Tp(l.bundledQuery),readTime:Pl(l.readTime)};var l})}saveNamedQuery(e,t){return Mp(e).put({name:(s=t).name,readTime:ru(_o(s.readTime)),bundledQuery:s.bundledQuery});var s}}function Bm(i){return Eo(i,"bundles")}function Mp(i){return Eo(i,"namedQueries")}class Oh{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new Oh(e,t.uid||"")}getOverlay(e,t){return Ed(e).get(Ap(this.userId,t)).next(s=>s?Sp(this.It,s):null)}getOverlays(e,t){const s=wa();return rt.forEach(t,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,t,s){const l=[];return s.forEach((d,y)=>{const P=new wp(t,y);l.push(this.ue(e,P))}),rt.waitFor(l)}removeOverlaysForBatchId(e,t,s){const l=new Set;t.forEach(y=>l.add(li(y.getCollectionPath())));const d=[];return l.forEach(y=>{const P=IDBKeyRange.bound([this.userId,y,s],[this.userId,y,s+1],!1,!0);d.push(Ed(e).Y("collectionPathOverlayIndex",P))}),rt.waitFor(d)}getOverlaysForCollection(e,t,s){const l=wa(),d=li(t),y=IDBKeyRange.bound([this.userId,d,s],[this.userId,d,Number.POSITIVE_INFINITY],!0);return Ed(e).W("collectionPathOverlayIndex",y).next(P=>{for(const q of P){const J=Sp(this.It,q);l.set(J.getKey(),J)}return l})}getOverlaysForCollectionGroup(e,t,s,l){const d=wa();let y;const P=IDBKeyRange.bound([this.userId,t,s],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Ed(e).Z({index:"collectionGroupOverlayIndex",range:P},(q,J,de)=>{const ke=Sp(this.It,J);d.size()<l||ke.largestBatchId===y?(d.set(ke.getKey(),ke),y=ke.largestBatchId):de.done()}).next(()=>d)}ue(e,t){return Ed(e).put(function(s,l,d){const[y,P,q]=Ap(l,d.mutation.key);return{userId:l,collectionPath:P,documentId:q,collectionGroup:d.mutation.key.getCollectionGroup(),largestBatchId:d.largestBatchId,overlayMutation:gc(s.re,d.mutation)}}(this.It,this.userId,t))}}function Ed(i){return Eo(i,"documentOverlays")}class iu{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(jt(e.integerValue));else if("doubleValue"in e){const s=jt(e.doubleValue);isNaN(s)?this.le(t,13):(this.le(t,15),mo(s)?t.fe(0):t.fe(s))}else if("timestampValue"in e){const s=e.timestampValue;this.le(t,20),"string"==typeof s?t.de(s):(t.de(`${s.seconds||""}`),t.fe(s.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Qn(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const s=e.geoPointValue;this.le(t,45),t.fe(s.latitude||0),t.fe(s.longitude||0)}else"mapValue"in e?er(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):cn()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const s=e.fields||{};this.le(t,55);for(const l of Object.keys(s))this._e(l,t),this.ae(s[l],t)}pe(e,t){const s=e.values||[];this.le(t,50);for(const l of s)this.ae(l,t)}ge(e,t){this.le(t,37),sn.fromName(e).path.forEach(s=>{this.le(t,60),this.Ie(s,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function L_(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Um(i){const e=64-function(t){let s=0;for(let l=0;l<8;++l){const d=L_(255&t[l]);if(s+=d,8!==d)break}return s}(i);return Math.ceil(e/8)}iu.Te=new iu;class Ec{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Ae(s.value),s=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let s=t.next();for(;!s.done;)this.Pe(s.value),s=t.next();this.ve()}Ve(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Ae(s);else if(s<2048)this.Ae(960|s>>>6),this.Ae(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|s>>>12),this.Ae(128|63&s>>>6),this.Ae(128|63&s);else{const l=t.codePointAt(0);this.Ae(240|l>>>18),this.Ae(128|63&l>>>12),this.Ae(128|63&l>>>6),this.Ae(128|63&l)}}this.Re()}Se(e){for(const t of e){const s=t.charCodeAt(0);if(s<128)this.Pe(s);else if(s<2048)this.Pe(960|s>>>6),this.Pe(128|63&s);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|s>>>12),this.Pe(128|63&s>>>6),this.Pe(128|63&s);else{const l=t.codePointAt(0);this.Pe(240|l>>>18),this.Pe(128|63&l>>>12),this.Pe(128|63&l>>>6),this.Pe(128|63&l)}}this.ve()}De(e){const t=this.Ce(e),s=Um(t);this.xe(1+s),this.buffer[this.position++]=255&s;for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=255&t[l]}Ne(e){const t=this.Ce(e),s=Um(t);this.xe(1+s),this.buffer[this.position++]=~(255&s);for(let l=t.length-s;l<t.length;++l)this.buffer[this.position++]=~(255&t[l])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(l){const d=new DataView(new ArrayBuffer(8));return d.setFloat64(0,l,!1),new Uint8Array(d.buffer)}(e),s=0!=(128&t[0]);t[0]^=s?255:128;for(let l=1;l<t.length;++l)t[l]^=s?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let s=2*this.buffer.length;s<t&&(s=t);const l=new Uint8Array(s);l.set(this.buffer),this.buffer=l}}class Ol{constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class F_{constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class bd{constructor(){this.Be=new Ec,this.Le=new Ol(this.Be),this.Ue=new F_(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class bc{constructor(e,t,s,l){this.indexId=e,this.documentKey=t,this.arrayValue=s,this.directionalValue=l}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,s=new Uint8Array(t);return s.set(this.directionalValue,0),t!==e?s.set([0],this.directionalValue.length):++s[s.length-1],new bc(this.indexId,this.documentKey,this.arrayValue,s)}}function Ic(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=xp(i.arrayValue,e.arrayValue),0!==t?t:(t=xp(i.directionalValue,e.directionalValue),0!==t?t:sn.comparator(i.documentKey,e.documentKey)))}function xp(i,e){for(let t=0;t<i.length&&t<e.length;++t){const s=i[t]-e[t];if(0!==s)return s}return i.length-e.length}class ZE{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const s=t;s.dt()?this.je=s:this.Qe.push(s)}}We(e){const t=da(e);if(void 0!==t&&!this.ze(t))return!1;const s=Gs(e);let l=0,d=0;for(;l<s.length&&this.ze(s[l]);++l);if(l===s.length)return!0;if(void 0!==this.je){const y=s[l];if(!this.He(this.je,y)||!this.Je(this.Ge[d++],y))return!1;++l}for(;l<s.length;++l){const y=s[l];if(d>=this.Ge.length||!this.Je(this.Ge[d++],y))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class yl{constructor(){this.Ye=new Id}addToCollectionParentIndex(e,t){return this.Ye.add(t),rt.resolve()}getCollectionParents(e,t){return rt.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return rt.resolve()}deleteFieldIndex(e,t){return rt.resolve()}getDocumentsMatchingTarget(e,t){return rt.resolve(null)}getIndexType(e,t){return rt.resolve(0)}getFieldIndexes(e,t){return rt.resolve([])}getNextCollectionGroupToUpdate(e){return rt.resolve(null)}getMinOffset(e,t){return rt.resolve(Yo.min())}getMinOffsetFromCollectionGroup(e,t){return rt.resolve(Yo.min())}updateCollectionGroup(e,t,s){return rt.resolve()}updateIndexEntries(e,t){return rt.resolve()}}class Id{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t]||new T($n.comparator),d=!l.has(s);return this.index[t]=l.add(s),d}has(e){const t=e.lastSegment(),s=e.popLast(),l=this.index[t];return l&&l.has(s)}getEntries(e){return(this.index[e]||new T($n.comparator)).toArray()}}const Cc=new Uint8Array(0);class V_{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Id,this.Ze=new gl(s=>Xo(s),(s,l)=>zl(s,l)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const s=t.lastSegment(),l=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const d={collectionId:s,parent:li(l)};return Pp(e).put(d)}return rt.resolve()}getCollectionParents(e,t){const s=[],l=IDBKeyRange.bound([t,""],[_a(t),""],!1,!0);return Pp(e).W(l).next(d=>{for(const y of d){if(y.collectionId!==t)break;s.push(ja(y.parent))}return s})}addFieldIndex(e,t){const s=su(e),l={indexId:(y=t).indexId,collectionGroup:y.collectionGroup,fields:y.fields.map(P=>[P.fieldPath.canonicalString(),P.kind])};var y;delete l.indexId;const d=s.add(l);if(t.indexState){const y=wd(e);return d.next(P=>{y.put(Vm(P,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return d.next()}deleteFieldIndex(e,t){const s=su(e),l=wd(e),d=Cd(e);return s.delete(t.indexId).next(()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>d.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const s=Cd(e);let l=!0;const d=new Map;return rt.forEach(this.tn(t),y=>this.en(e,y).next(P=>{l&&(l=!!P),d.set(y,P)})).next(()=>{if(l){let y=Dr();const P=[];return rt.forEach(d,(q,J)=>{var de;Dt("IndexedDbIndexManager",`Using index ${de=q,`id=${de.indexId}|cg=${de.collectionGroup}|f=${de.fields.map(qr=>`${qr.fieldPath}:${qr.kind}`).join(",")}`} to execute ${Xo(t)}`);const ke=function(qr,$r){const Br=da($r);if(void 0===Br)return null;for(const Kr of ec(qr,Br.fieldPath))switch(Kr.op){case"array-contains-any":return Kr.value.arrayValue.values||[];case"array-contains":return[Kr.value]}return null}(J,q),it=function(qr,$r){const Br=new Map;for(const Kr of Gs($r))for(const No of ec(qr,Kr.fieldPath))switch(No.op){case"==":case"in":Br.set(Kr.fieldPath.canonicalString(),No.value);break;case"not-in":case"!=":return Br.set(Kr.fieldPath.canonicalString(),No.value),Array.from(Br.values())}return null}(J,q),Tt=function(qr,$r){const Br=[];let Kr=!0;for(const No of Gs($r)){const fh=0===No.kind?Jc(qr,No.fieldPath,qr.startAt):wu(qr,No.fieldPath,qr.startAt);Br.push(fh.value),Kr&&(Kr=fh.inclusive)}return new fa(Br,Kr)}(J,q),Vt=function(qr,$r){const Br=[];let Kr=!0;for(const No of Gs($r)){const fh=0===No.kind?wu(qr,No.fieldPath,qr.endAt):Jc(qr,No.fieldPath,qr.endAt);Br.push(fh.value),Kr&&(Kr=fh.inclusive)}return new fa(Br,Kr)}(J,q),fn=this.nn(q,J,Tt),En=this.nn(q,J,Vt),Wr=this.sn(q,J,it),Ii=this.rn(q.indexId,ke,fn,Tt.inclusive,En,Vt.inclusive,Wr);return rt.forEach(Ii,qr=>s.J(qr,t.limit).next($r=>{$r.forEach(Br=>{const Kr=sn.fromSegments(Br.documentKey);y.has(Kr)||(y=y.add(Kr),P.push(Kr))})}))}).next(()=>P)}return rt.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,s,l,d,y,P){const q=(null!=t?t.length:1)*Math.max(s.length,d.length),J=q/(null!=t?t.length:1),de=[];for(let ke=0;ke<q;++ke){const it=t?this.on(t[ke/J]):Cc,Tt=this.un(e,it,s[ke%J],l),Vt=this.cn(e,it,d[ke%J],y),fn=P.map(En=>this.un(e,it,En,!0));de.push(...this.createRange(Tt,Vt,fn))}return de}un(e,t,s,l){const d=new bc(e,sn.empty(),t,s);return l?d:d.Ke()}cn(e,t,s,l){const d=new bc(e,sn.empty(),t,s);return l?d.Ke():d}en(e,t){const s=new ZE(t),l=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,l).next(d=>{let y=null;for(const P of d)s.We(P)&&(!y||P.fields.length>y.fields.length)&&(y=P);return y})}getIndexType(e,t){let s=2;return rt.forEach(this.tn(t),l=>this.en(e,l).next(d=>{d?0!==s&&d.fields.length<function(y){let P=new T(Qr.comparator),q=!1;for(const J of y.filters){const de=J;de.field.isKeyField()||("array-contains"===de.op||"array-contains-any"===de.op?q=!0:P=P.add(de.field))}for(const J of y.orderBy)J.field.isKeyField()||(P=P.add(J.field));return P.size+(q?1:0)}(l)&&(s=1):s=0})).next(()=>s)}an(e,t){const s=new bd;for(const l of Gs(e)){const d=t.data.field(l.fieldPath);if(null==d)return null;const y=s.qe(l.kind);iu.Te.ce(d,y)}return s.$e()}on(e){const t=new bd;return iu.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const s=new bd;return iu.Te.ce(Qe(this.databaseId,t),s.qe(function(l){const d=Gs(l);return 0===d.length?0:d[d.length-1].kind}(e))),s.$e()}sn(e,t,s){if(null===s)return[];let l=[];l.push(new bd);let d=0;for(const y of Gs(e)){const P=s[d++];for(const q of l)if(this.ln(t,y.fieldPath)&&Bt(P))l=this.fn(l,y,P);else{const J=q.qe(y.kind);iu.Te.ce(P,J)}}return this.dn(l)}nn(e,t,s){return this.sn(e,t,s.position)}dn(e){const t=[];for(let s=0;s<e.length;++s)t[s]=e[s].$e();return t}fn(e,t,s){const l=[...e],d=[];for(const y of s.arrayValue.values||[])for(const P of l){const q=new bd;q.seed(P.$e()),iu.Te.ce(y,q.qe(t.kind)),d.push(q)}return d}ln(e,t){return!!e.filters.find(s=>s instanceof Vs&&s.field.isEqual(t)&&("in"===s.op||"not-in"===s.op))}getFieldIndexes(e,t){const s=su(e),l=wd(e);return(t?s.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):s.W()).next(d=>{const y=[];return rt.forEach(d,P=>l.get([P.indexId,this.uid]).next(q=>{y.push(function(J,de){const ke=de?new qa(de.sequenceNumber,new Yo(Pl(de.readTime),new sn(ja(de.documentKey)),de.largestBatchId)):qa.empty(),it=J.fields.map(([Tt,Vt])=>new ei(Qr.fromServerFormat(Tt),Vt));return new Aa(J.indexId,J.collectionGroup,it,ke)}(P,q))})).next(()=>y)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((s,l)=>{const d=s.indexState.sequenceNumber-l.indexState.sequenceNumber;return 0!==d?d:Kn(s.collectionGroup,l.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,s){const l=su(e),d=wd(e);return this._n(e).next(y=>l.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(P=>rt.forEach(P,q=>d.put(Vm(q.indexId,this.user,y,s)))))}updateIndexEntries(e,t){const s=new Map;return rt.forEach(t,(l,d)=>{const y=s.get(l.collectionGroup);return(y?rt.resolve(y):this.getFieldIndexes(e,l.collectionGroup)).next(P=>(s.set(l.collectionGroup,P),rt.forEach(P,q=>this.wn(e,l,q).next(J=>{const de=this.mn(d,q);return J.isEqual(de)?rt.resolve():this.gn(e,d,q,J,de)}))))})}yn(e,t,s,l){return Cd(e).put({indexId:l.indexId,uid:this.uid,arrayValue:l.arrayValue,directionalValue:l.directionalValue,orderedDocumentKey:this.hn(s,t.key),documentKey:t.key.path.toArray()})}pn(e,t,s,l){return Cd(e).delete([l.indexId,this.uid,l.arrayValue,l.directionalValue,this.hn(s,t.key),t.key.path.toArray()])}wn(e,t,s){const l=Cd(e);let d=new T(Ic);return l.Z({index:"documentKeyIndex",range:IDBKeyRange.only([s.indexId,this.uid,this.hn(s,t)])},(y,P)=>{d=d.add(new bc(s.indexId,t,P.arrayValue,P.directionalValue))}).next(()=>d)}mn(e,t){let s=new T(Ic);const l=this.an(t,e);if(null==l)return s;const d=da(t);if(null!=d){const y=e.data.field(d.fieldPath);if(Bt(y))for(const P of y.arrayValue.values||[])s=s.add(new bc(t.indexId,e.key,this.on(P),l))}else s=s.add(new bc(t.indexId,e.key,Cc,l));return s}gn(e,t,s,l,d){Dt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const y=[];return function(P,q,J,de,ke){const it=P.getIterator(),Tt=q.getIterator();let Vt=L(it),fn=L(Tt);for(;Vt||fn;){let En=!1,Wr=!1;if(Vt&&fn){const Ii=J(Vt,fn);Ii<0?Wr=!0:Ii>0&&(En=!0)}else null!=Vt?Wr=!0:En=!0;En?(de(fn),fn=L(Tt)):Wr?(ke(Vt),Vt=L(it)):(Vt=L(it),fn=L(Tt))}}(l,d,Ic,P=>{y.push(this.yn(e,t,s,P))},P=>{y.push(this.pn(e,t,s,P))}),rt.waitFor(y)}_n(e){let t=1;return wd(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(s,l,d)=>{d.done(),t=l.sequenceNumber+1}).next(()=>t)}createRange(e,t,s){s=s.sort((y,P)=>Ic(y,P)).filter((y,P,q)=>!P||0!==Ic(y,q[P-1]));const l=[];l.push(e);for(const y of s){const P=Ic(y,e),q=Ic(y,t);if(0===P)l[0]=e.Ke();else if(P>0&&q<0)l.push(y),l.push(y.Ke());else if(q>0)break}l.push(t);const d=[];for(let y=0;y<l.length;y+=2)d.push(IDBKeyRange.bound([l[y].indexId,this.uid,l[y].arrayValue,l[y].directionalValue,Cc,[]],[l[y+1].indexId,this.uid,l[y+1].arrayValue,l[y+1].directionalValue,Cc,[]]));return d}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(jm)}getMinOffset(e,t){return rt.mapArray(this.tn(t),s=>this.en(e,s).next(l=>l||cn())).next(jm)}}function Pp(i){return Eo(i,"collectionParents")}function Cd(i){return Eo(i,"indexEntries")}function su(i){return Eo(i,"indexConfiguration")}function wd(i){return Eo(i,"indexState")}function jm(i){Tn(0!==i.length);let e=i[0].indexState.offset,t=e.largestBatchId;for(let s=1;s<i.length;s++){const l=i[s].indexState.offset;Ka(l,e)<0&&(e=l),t<l.largestBatchId&&(t=l.largestBatchId)}return new Yo(e.readTime,e.documentKey,t)}const Rh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class sa{constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}static withCacheSize(e){return new sa(e,sa.DEFAULT_COLLECTION_PERCENTILE,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Np(i,e,t){const s=i.store("mutations"),l=i.store("documentMutations"),d=[],y=IDBKeyRange.only(t.batchId);let P=0;const q=s.Z({range:y},(de,ke,it)=>(P++,it.delete()));d.push(q.next(()=>{Tn(1===P)}));const J=[];for(const de of t.mutations){const ke=xh(e,de.key.path,t.batchId);d.push(l.delete(ke)),J.push(de.key)}return rt.waitFor(d).next(()=>J)}function Op(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw cn();e=i.noDocument}return JSON.stringify(e).length}sa.DEFAULT_COLLECTION_PERCENTILE=10,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sa.DEFAULT=new sa(41943040,sa.DEFAULT_COLLECTION_PERCENTILE,sa.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sa.DISABLED=new sa(-1,0,0);class Rl{constructor(e,t,s,l){this.userId=e,this.It=t,this.indexManager=s,this.referenceDelegate=l,this.In={}}static oe(e,t,s,l){Tn(""!==e.uid);const d=e.isAuthenticated()?e.uid:"";return new Rl(d,t,s,l)}checkEmpty(e){let t=!0;const s=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return kl(e).Z({index:"userMutationsIndex",range:s},(l,d,y)=>{t=!1,y.done()}).next(()=>t)}addMutationBatch(e,t,s,l){const d=wc(e),y=kl(e);return y.add({}).next(P=>{Tn("number"==typeof P);const q=new Ip(P,t,s,l),J=function(it,Tt,Vt){const fn=Vt.baseMutations.map(Wr=>gc(it.re,Wr)),En=Vt.mutations.map(Wr=>gc(it.re,Wr));return{userId:Tt,batchId:Vt.batchId,localWriteTimeMs:Vt.localWriteTime.toMillis(),baseMutations:fn,mutations:En}}(this.It,this.userId,q),de=[];let ke=new T((it,Tt)=>Kn(it.canonicalString(),Tt.canonicalString()));for(const it of l){const Tt=xh(this.userId,it.key.path,P);ke=ke.add(it.key.path.popLast()),de.push(y.put(J)),de.push(d.put(Tt,Ph))}return ke.forEach(it=>{de.push(this.indexManager.addToCollectionParentIndex(e,it))}),e.addOnCommittedListener(()=>{this.In[P]=q.keys()}),rt.waitFor(de).next(()=>q)})}lookupMutationBatch(e,t){return kl(e).get(t).next(s=>s?(Tn(s.userId===this.userId),Ks(this.It,s)):null)}Tn(e,t){return this.In[t]?rt.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(s=>{if(s){const l=s.keys();return this.In[t]=l,l}return null})}getNextMutationBatchAfterBatchId(e,t){const s=t+1,l=IDBKeyRange.lowerBound([this.userId,s]);let d=null;return kl(e).Z({index:"userMutationsIndex",range:l},(y,P,q)=>{P.userId===this.userId&&(Tn(P.batchId>=s),d=Ks(this.It,P)),q.done()}).next(()=>d)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let s=-1;return kl(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(l,d,y)=>{s=d.batchId,y.done()}).next(()=>s)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return kl(e).W("userMutationsIndex",t).next(s=>s.map(l=>Ks(this.It,l)))}getAllMutationBatchesAffectingDocumentKey(e,t){const s=yc(this.userId,t.path),l=IDBKeyRange.lowerBound(s),d=[];return wc(e).Z({range:l},(y,P,q)=>{const[J,de,ke]=y,it=ja(de);if(J===this.userId&&t.path.isEqual(it))return kl(e).get(ke).next(Tt=>{if(!Tt)throw cn();Tn(Tt.userId===this.userId),d.push(Ks(this.It,Tt))});q.done()}).next(()=>d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new T(Kn);const l=[];return t.forEach(d=>{const y=yc(this.userId,d.path),P=IDBKeyRange.lowerBound(y),q=wc(e).Z({range:P},(J,de,ke)=>{const[it,Tt,Vt]=J,fn=ja(Tt);it===this.userId&&d.path.isEqual(fn)?s=s.add(Vt):ke.done()});l.push(q)}),rt.waitFor(l).next(()=>this.En(e,s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1,d=yc(this.userId,s),y=IDBKeyRange.lowerBound(d);let P=new T(Kn);return wc(e).Z({range:y},(q,J,de)=>{const[ke,it,Tt]=q,Vt=ja(it);ke===this.userId&&s.isPrefixOf(Vt)?Vt.length===l&&(P=P.add(Tt)):de.done()}).next(()=>this.En(e,P))}En(e,t){const s=[],l=[];return t.forEach(d=>{l.push(kl(e).get(d).next(y=>{if(null===y)throw cn();Tn(y.userId===this.userId),s.push(Ks(this.It,y))}))}),rt.waitFor(l).next(()=>s)}removeMutationBatch(e,t){return Np(e.ie,this.userId,t).next(s=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),rt.forEach(s,l=>this.referenceDelegate.markPotentiallyOrphaned(e,l))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return rt.resolve();const s=IDBKeyRange.lowerBound([this.userId]),l=[];return wc(e).Z({range:s},(d,y,P)=>{if(d[0]===this.userId){const q=ja(d[1]);l.push(q)}else P.done()}).next(()=>{Tn(0===l.length)})})}containsKey(e,t){return kh(e,this.userId,t)}Rn(e){return Lh(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function kh(i,e,t){const s=yc(e,t.path),l=s[1],d=IDBKeyRange.lowerBound(s);let y=!1;return wc(i).Z({range:d,X:!0},(P,q,J)=>{const[de,ke,it]=P;de===e&&ke===l&&(y=!0),J.done()}).next(()=>y)}function kl(i){return Eo(i,"mutations")}function wc(i){return Eo(i,"documentMutations")}function Lh(i){return Eo(i,"mutationQueues")}class xu{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new xu(0)}static vn(){return new xu(-1)}}class $_{constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const s=new xu(t.highestTargetId);return t.highestTargetId=s.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>bn.fromTimestamp(new Jr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,s){return this.Vn(e).next(l=>(l.highestListenSequenceNumber=t,s&&(l.lastRemoteSnapshotVersion=s.toTimestamp()),t>l.highestListenSequenceNumber&&(l.highestListenSequenceNumber=t),this.Sn(e,l)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(s=>(s.targetCount+=1,this.Cn(t,s),this.Sn(e,s))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Dc(e).delete(t.targetId)).next(()=>this.Vn(e)).next(s=>(Tn(s.targetCount>0),s.targetCount-=1,this.Sn(e,s)))}removeTargets(e,t,s){let l=0;const d=[];return Dc(e).Z((y,P)=>{const q=Nl(P);q.sequenceNumber<=t&&null===s.get(q.targetId)&&(l++,d.push(this.removeTargetData(e,q)))}).next(()=>rt.waitFor(d)).next(()=>l)}forEachTarget(e,t){return Dc(e).Z((s,l)=>{const d=Nl(l);t(d)})}Vn(e){return Hm(e).get("targetGlobalKey").next(t=>(Tn(null!==t),t))}Sn(e,t){return Hm(e).put("targetGlobalKey",t)}Dn(e,t){return Dc(e).put(Dp(this.It,t))}Cn(e,t){let s=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,s=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,s=!0),s}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const s=Xo(t),l=IDBKeyRange.bound([s,Number.NEGATIVE_INFINITY],[s,Number.POSITIVE_INFINITY]);let d=null;return Dc(e).Z({range:l,index:"queryTargetsIndex"},(y,P,q)=>{const J=Nl(P);zl(t,J.target)&&(d=J,q.done())}).next(()=>d)}addMatchingKeys(e,t,s){const l=[],d=ou(e);return t.forEach(y=>{const P=li(y.path);l.push(d.put({targetId:s,path:P})),l.push(this.referenceDelegate.addReference(e,s,y))}),rt.waitFor(l)}removeMatchingKeys(e,t,s){const l=ou(e);return rt.forEach(t,d=>{const y=li(d.path);return rt.waitFor([l.delete([s,y]),this.referenceDelegate.removeReference(e,s,d)])})}removeMatchingKeysForTargetId(e,t){const s=ou(e),l=IDBKeyRange.bound([t],[t+1],!1,!0);return s.delete(l)}getMatchingKeysForTargetId(e,t){const s=IDBKeyRange.bound([t],[t+1],!1,!0),l=ou(e);let d=Dr();return l.Z({range:s,X:!0},(y,P,q)=>{const J=ja(y[1]),de=new sn(J);d=d.add(de)}).next(()=>d)}containsKey(e,t){const s=li(t.path),l=IDBKeyRange.bound([s],[_a(s)],!1,!0);let d=0;return ou(e).Z({index:"documentTargetsIndex",X:!0,range:l},([y,P],q,J)=>{0!==y&&(d++,J.done())}).next(()=>d>0)}se(e,t){return Dc(e).get(t).next(s=>s?Nl(s):null)}}function Dc(i){return Eo(i,"targets")}function Hm(i){return Eo(i,"targetGlobal")}function ou(i){return Eo(i,"targetDocuments")}function zm([i,e],[t,s]){const l=Kn(i,t);return 0===l?Kn(e,s):l}class Gm{constructor(e){this.xn=e,this.buffer=new T(zm),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();zm(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Rp{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;Dt("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,xe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(s){ws(s)?Dt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):yield Na(s)}yield t.Fn(3e5)}))}}class Wm{constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(s=>Math.floor(t/100*s))}nthSequenceNumber(e,t){if(0===t)return rt.resolve(qs.at);const s=new Gm(t);return this.$n.forEachTarget(e,l=>s.On(l.sequenceNumber)).next(()=>this.$n.Ln(e,l=>s.On(l))).next(()=>s.maxValue)}removeTargets(e,t,s){return this.$n.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(Rh)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(Dt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Rh):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let s,l,d,y,P,q,J;const de=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(ke=>(ke>this.params.maximumSequenceNumbersToCollect?(Dt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${ke}`),l=this.params.maximumSequenceNumbersToCollect):l=ke,y=Date.now(),this.nthSequenceNumber(e,l))).next(ke=>(s=ke,P=Date.now(),this.removeTargets(e,s,t))).next(ke=>(d=ke,q=Date.now(),this.removeOrphanedDocuments(e,s))).next(ke=>(J=Date.now(),qn()<=$t.in.DEBUG&&Dt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${y-de}ms\n\tDetermined least recently used ${l} in `+(P-y)+`ms\n\tRemoved ${d} targets in `+(q-P)+`ms\n\tRemoved ${ke} documents in `+(J-q)+`ms\nTotal Duration: ${J-de}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:d,documentsRemoved:ke})))}}class kp{constructor(e,t){this.db=e,this.garbageCollector=new Wm(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(s=>t.next(l=>s+l))}qn(e){let t=0;return this.Ln(e,s=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(s,l)=>t(l))}addReference(e,t,s){return Fh(e,s)}removeReference(e,t,s){return Fh(e,s)}removeTargets(e,t,s){return this.db.getTargetCache().removeTargets(e,t,s)}markPotentiallyOrphaned(e,t){return Fh(e,t)}Gn(e,t){return function(s,l){let d=!1;return Lh(s).tt(y=>kh(s,y,l).next(P=>(P&&(d=!0),rt.resolve(!P)))).next(()=>d)}(e,t)}removeOrphanedDocuments(e,t){const s=this.db.getRemoteDocumentCache().newChangeBuffer(),l=[];let d=0;return this.Kn(e,(y,P)=>{if(P<=t){const q=this.Gn(e,y).next(J=>{if(!J)return d++,s.getEntry(e,y).next(()=>(s.removeEntry(y,bn.min()),ou(e).delete([0,li(y.path)])))});l.push(q)}}).next(()=>rt.waitFor(l)).next(()=>s.apply(e)).next(()=>d)}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,s)}updateLimboDocument(e,t){return Fh(e,t)}Kn(e,t){const s=ou(e);let l,d=qs.at;return s.Z({index:"documentTargetsIndex"},([y,P],{path:q,sequenceNumber:J})=>{0===y?(d!==qs.at&&t(new sn(ja(l)),d),d=J,l=q):d=qs.at}).next(()=>{d!==qs.at&&t(new sn(ja(l)),d)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Fh(i,e){return ou(i).put((s=i.currentSequenceNumber,{targetId:0,path:li(e.path),sequenceNumber:s}));var s}class qm{constructor(){this.changes=new gl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ni.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return void 0!==s?rt.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Km{constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,s){return au(e).put(s)}removeEntry(e,t,s){return au(e).delete(function(l,d){const y=l.path.toArray();return[y.slice(0,y.length-2),y[y.length-2],_c(d),y[y.length-1]]}(t,s))}updateMetadata(e,t){return this.getMetadata(e).next(s=>(s.byteSize+=t,this.Qn(e,s)))}getEntry(e,t){let s=ni.newInvalidDocument(t);return au(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Dd(t))},(l,d)=>{s=this.jn(t,d)}).next(()=>s)}Wn(e,t){let s={size:0,document:ni.newInvalidDocument(t)};return au(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(Dd(t))},(l,d)=>{s={document:this.jn(t,d),size:Op(d)}}).next(()=>s)}getEntries(e,t){let s=ra();return this.zn(e,t,(l,d)=>{const y=this.jn(l,d);s=s.insert(l,y)}).next(()=>s)}Hn(e,t){let s=ra(),l=new Gr(sn.comparator);return this.zn(e,t,(d,y)=>{const P=this.jn(d,y);s=s.insert(d,P),l=l.insert(d,Op(y))}).next(()=>({documents:s,Jn:l}))}zn(e,t,s){if(t.isEmpty())return rt.resolve();let l=new T(Td);t.forEach(q=>l=l.add(q));const d=IDBKeyRange.bound(Dd(l.first()),Dd(l.last())),y=l.getIterator();let P=y.getNext();return au(e).Z({index:"documentKeyIndex",range:d},(q,J,de)=>{const ke=sn.fromSegments([...J.prefixPath,J.collectionGroup,J.documentId]);for(;P&&Td(P,ke)<0;)s(P,null),P=y.getNext();P&&P.isEqual(ke)&&(s(P,J),P=y.hasNext()?y.getNext():null),P?de.j(Dd(P)):de.done()}).next(()=>{for(;P;)s(P,null),P=y.hasNext()?y.getNext():null})}getAllFromCollection(e,t,s){const l=[t.popLast().toArray(),t.lastSegment(),_c(s.readTime),s.documentKey.path.isEmpty()?"":s.documentKey.path.lastSegment()],d=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return au(e).W(IDBKeyRange.bound(l,d,!0)).next(y=>{let P=ra();for(const q of y){const J=this.jn(sn.fromSegments(q.prefixPath.concat(q.collectionGroup,q.documentId)),q);P=P.insert(J.key,J)}return P})}getAllFromCollectionGroup(e,t,s,l){let d=ra();const y=B_(t,s),P=B_(t,Yo.max());return au(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(y,P,!0)},(q,J,de)=>{const ke=this.jn(sn.fromSegments(J.prefixPath.concat(J.collectionGroup,J.documentId)),J);d=d.insert(ke.key,ke),d.size===l&&de.done()}).next(()=>d)}newChangeBuffer(e){return new Pu(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Fp(e).get("remoteDocumentGlobalKey").next(t=>(Tn(!!t),t))}Qn(e,t){return Fp(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const s=function k_(i,e){let t;if(e.document)t=fc(i.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const s=sn.fromSegments(e.noDocument.path),l=Pl(e.noDocument.readTime);t=ni.newNoDocument(s,l),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return cn();{const s=sn.fromSegments(e.unknownDocument.path),l=Pl(e.unknownDocument.version);t=ni.newUnknownDocument(s,l)}}return e.readTime&&t.setReadTime(function(s){const l=new Jr(s[0],s[1]);return bn.fromTimestamp(l)}(e.readTime)),t}(this.It,t);if(!s.isNoDocument()||!s.version.isEqual(bn.min()))return s}return ni.newInvalidDocument(e)}}function Lp(i){return new Km(i)}class Pu extends qm{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new gl(s=>s.toString(),(s,l)=>s.isEqual(l))}applyChanges(e){const t=[];let s=0,l=new T((d,y)=>Kn(d.canonicalString(),y.canonicalString()));return this.changes.forEach((d,y)=>{const P=this.Xn.get(d);if(t.push(this.Yn.removeEntry(e,d,P.readTime)),y.isValidDocument()){const q=ia(this.Yn.It,y);l=l.add(d.path.popLast()),s+=Op(q)-P.size,t.push(this.Yn.addEntry(e,d,q))}else if(s-=P.size,this.trackRemovals){const q=ia(this.Yn.It,y.convertToNoDocument(bn.min()));t.push(this.Yn.addEntry(e,d,q))}}),l.forEach(d=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,d))}),t.push(this.Yn.updateMetadata(e,s)),rt.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(s=>(this.Xn.set(t,{size:s.size,readTime:s.document.readTime}),s.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:s,Jn:l})=>(l.forEach((d,y)=>{this.Xn.set(d,{size:y,readTime:s.get(d).readTime})}),s))}}function Fp(i){return Eo(i,"remoteDocumentGlobal")}function au(i){return Eo(i,"remoteDocumentsV14")}function Dd(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function B_(i,e){const t=e.documentKey.path.toArray();return[i,_c(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Td(i,e){const t=i.path.toArray(),s=e.path.toArray();let l=0;for(let d=0;d<t.length-2&&d<s.length-2;++d)if(l=Kn(t[d],s[d]),l)return l;return l=Kn(t.length,s.length),l||(l=Kn(t[t.length-2],s[s.length-2]),l||Kn(t[t.length-1],s[s.length-1]))}class U_{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Vp{constructor(e,t,s,l){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next(l=>(s=l,this.getBaseDocument(e,t,s))).next(l=>(null!==s&&Tu(s.mutation,l,G.empty(),Jr.now()),l))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.getLocalViewOfDocuments(e,s,Dr()).next(()=>s))}getLocalViewOfDocuments(e,t,s=Dr()){const l=wa();return this.populateOverlays(e,l,t).next(()=>this.computeViews(e,t,l,s).next(d=>{let y=oc();return d.forEach((P,q)=>{y=y.insert(P,q.overlayedDocument)}),y}))}getOverlayedDocuments(e,t){const s=wa();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,Dr()))}populateOverlays(e,t,s){const l=[];return s.forEach(d=>{t.has(d)||l.push(d)}),this.documentOverlayCache.getOverlays(e,l).next(d=>{d.forEach((y,P)=>{t.set(y,P)})})}computeViews(e,t,s,l){let d=ra();const y=Jl(),P=Jl();return t.forEach((q,J)=>{const de=s.get(J.key);l.has(J.key)&&(void 0===de||de.mutation instanceof Ca)?d=d.insert(J.key,J):void 0!==de&&(y.set(J.key,de.mutation.getFieldMask()),Tu(de.mutation,J,de.mutation.getFieldMask(),Jr.now()))}),this.recalculateAndSaveOverlays(e,d).next(q=>(q.forEach((J,de)=>y.set(J,de)),t.forEach((J,de)=>{var ke;return P.set(J,new U_(de,null!==(ke=y.get(J))&&void 0!==ke?ke:null))}),P))}recalculateAndSaveOverlays(e,t){const s=Jl();let l=new Gr((y,P)=>y-P),d=Dr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(y=>{for(const P of y)P.keys().forEach(q=>{const J=t.get(q);if(null===J)return;let de=s.get(q)||G.empty();de=P.applyToLocalView(J,de),s.set(q,de);const ke=(l.get(P.batchId)||Dr()).add(q);l=l.insert(P.batchId,ke)})}).next(()=>{const y=[],P=l.getReverseIterator();for(;P.hasNext();){const q=P.getNext(),J=q.key,de=q.value,ke=dd();de.forEach(it=>{if(!d.has(it)){const Tt=ud(t.get(it),s.get(it));null!==Tt&&ke.set(it,Tt),d=d.add(it)}}),y.push(this.documentOverlayCache.saveOverlays(e,J,ke))}return rt.waitFor(y)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,t,s){return sn.isDocumentKey((l=t).path)&&null===l.collectionGroup&&0===l.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):ql(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s):this.getDocumentsMatchingCollectionQuery(e,t,s);var l}getNextDocuments(e,t,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,l).next(d=>{const y=l-d.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,l-d.size):rt.resolve(wa());let P=-1,q=d;return y.next(J=>rt.forEach(J,(de,ke)=>(P<ke.largestBatchId&&(P=ke.largestBatchId),d.get(de)?rt.resolve():this.getBaseDocument(e,de,ke).next(it=>{q=q.insert(de,it)}))).next(()=>this.populateOverlays(e,J,d)).next(()=>this.computeViews(e,q,J,Dr())).next(de=>({batchId:P,changes:Dl(de)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new sn(t)).next(s=>{let l=oc();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(e,t,s){const l=t.collectionGroup;let d=oc();return this.indexManager.getCollectionParents(e,l).next(y=>rt.forEach(y,P=>{const q=(J=t,de=P.child(l),new fl(de,null,J.explicitOrderBy.slice(),J.filters.slice(),J.limit,J.limitType,J.startAt,J.endAt));var J,de;return this.getDocumentsMatchingCollectionQuery(e,q,s).next(J=>{J.forEach((de,ke)=>{d=d.insert(de,ke)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,s){let l;return this.remoteDocumentCache.getAllFromCollection(e,t.path,s).next(d=>(l=d,this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId))).next(d=>{d.forEach((P,q)=>{const J=q.getKey();null===l.get(J)&&(l=l.insert(J,ni.newInvalidDocument(J)))});let y=oc();return l.forEach((P,q)=>{const J=d.get(P);void 0!==J&&Tu(J.mutation,q,G.empty(),Jr.now()),Cl(t,q)&&(y=y.insert(P,q))}),y})}getBaseDocument(e,t,s){return null===s||1===s.mutation.type?this.remoteDocumentCache.getEntry(e,t):rt.resolve(ni.newInvalidDocument(t))}}class Zm{constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return rt.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var s;return this.Zn.set(t.id,{id:(s=t).id,version:s.version,createTime:_o(s.createTime)}),rt.resolve()}getNamedQuery(e,t){return rt.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(s=t).name,query:Tp(s.bundledQuery),readTime:_o(s.readTime)}),rt.resolve();var s}}class Ym{constructor(){this.overlays=new Gr(sn.comparator),this.es=new Map}getOverlay(e,t){return rt.resolve(this.overlays.get(t))}getOverlays(e,t){const s=wa();return rt.forEach(t,l=>this.getOverlay(e,l).next(d=>{null!==d&&s.set(l,d)})).next(()=>s)}saveOverlays(e,t,s){return s.forEach((l,d)=>{this.ue(e,t,d)}),rt.resolve()}removeOverlaysForBatchId(e,t,s){const l=this.es.get(s);return void 0!==l&&(l.forEach(d=>this.overlays=this.overlays.remove(d)),this.es.delete(s)),rt.resolve()}getOverlaysForCollection(e,t,s){const l=wa(),d=t.length+1,y=new sn(t.child("")),P=this.overlays.getIteratorFrom(y);for(;P.hasNext();){const q=P.getNext().value,J=q.getKey();if(!t.isPrefixOf(J.path))break;J.path.length===d&&q.largestBatchId>s&&l.set(q.getKey(),q)}return rt.resolve(l)}getOverlaysForCollectionGroup(e,t,s,l){let d=new Gr((J,de)=>J-de);const y=this.overlays.getIterator();for(;y.hasNext();){const J=y.getNext().value;if(J.getKey().getCollectionGroup()===t&&J.largestBatchId>s){let de=d.get(J.largestBatchId);null===de&&(de=wa(),d=d.insert(J.largestBatchId,de)),de.set(J.getKey(),J)}}const P=wa(),q=d.getIterator();for(;q.hasNext()&&(q.getNext().value.forEach((J,de)=>P.set(J,de)),!(P.size()>=l)););return rt.resolve(P)}ue(e,t,s){const l=this.overlays.get(s.key);if(null!==l){const y=this.es.get(l.largestBatchId).delete(s.key);this.es.set(l.largestBatchId,y)}this.overlays=this.overlays.insert(s.key,new wp(t,s));let d=this.es.get(t);void 0===d&&(d=Dr(),this.es.set(t,d)),this.es.set(t,d.add(s.key))}}class Sd{constructor(){this.ns=new T(xo.ss),this.rs=new T(xo.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const s=new xo(e,t);this.ns=this.ns.add(s),this.rs=this.rs.add(s)}us(e,t){e.forEach(s=>this.addReference(s,t))}removeReference(e,t){this.cs(new xo(e,t))}hs(e,t){e.forEach(s=>this.removeReference(s,t))}ls(e){const t=new sn(new $n([])),s=new xo(t,e),l=new xo(t,e+1),d=[];return this.rs.forEachInRange([s,l],y=>{this.cs(y),d.push(y.key)}),d}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new sn(new $n([])),s=new xo(t,e),l=new xo(t,e+1);let d=Dr();return this.rs.forEachInRange([s,l],y=>{d=d.add(y.key)}),d}containsKey(e){const t=new xo(e,0),s=this.ns.firstAfterOrEqual(t);return null!==s&&e.isEqual(s.key)}}class xo{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return sn.comparator(e.key,t.key)||Kn(e._s,t._s)}static os(e,t){return Kn(e._s,t._s)||sn.comparator(e.key,t.key)}}class Vh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new T(xo.ss)}checkEmpty(e){return rt.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,s,l){const d=this.ws;this.ws++;const y=new Ip(d,t,s,l);this.mutationQueue.push(y);for(const P of l)this.gs=this.gs.add(new xo(P.key,d)),this.indexManager.addToCollectionParentIndex(e,P.key.path.popLast());return rt.resolve(y)}lookupMutationBatch(e,t){return rt.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const l=this.ps(t+1),d=l<0?0:l;return rt.resolve(this.mutationQueue.length>d?this.mutationQueue[d]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new xo(t,0),l=new xo(t,Number.POSITIVE_INFINITY),d=[];return this.gs.forEachInRange([s,l],y=>{const P=this.ys(y._s);d.push(P)}),rt.resolve(d)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new T(Kn);return t.forEach(l=>{const d=new xo(l,0),y=new xo(l,Number.POSITIVE_INFINITY);this.gs.forEachInRange([d,y],P=>{s=s.add(P._s)})}),rt.resolve(this.Is(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,l=s.length+1;let d=s;sn.isDocumentKey(d)||(d=d.child(""));const y=new xo(new sn(d),0);let P=new T(Kn);return this.gs.forEachWhile(q=>{const J=q.key.path;return!!s.isPrefixOf(J)&&(J.length===l&&(P=P.add(q._s)),!0)},y),rt.resolve(this.Is(P))}Is(e){const t=[];return e.forEach(s=>{const l=this.ys(s);null!==l&&t.push(l)}),t}removeMutationBatch(e,t){Tn(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let s=this.gs;return rt.forEach(t.mutations,l=>{const d=new xo(l.key,t.batchId);return s=s.delete(d),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)}).next(()=>{this.gs=s})}An(e){}containsKey(e,t){const s=new xo(t,0),l=this.gs.firstAfterOrEqual(s);return rt.resolve(t.isEqual(l&&l.key))}performConsistencyCheck(e){return rt.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class $h{constructor(e){this.Es=e,this.docs=new Gr(sn.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,l=this.docs.get(s),d=l?l.size:0,y=this.Es(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:y}),this.size+=y-d,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return rt.resolve(s?s.document.mutableCopy():ni.newInvalidDocument(t))}getEntries(e,t){let s=ra();return t.forEach(l=>{const d=this.docs.get(l);s=s.insert(l,d?d.document.mutableCopy():ni.newInvalidDocument(l))}),rt.resolve(s)}getAllFromCollection(e,t,s){let l=ra();const d=new sn(t.child("")),y=this.docs.getIteratorFrom(d);for(;y.hasNext();){const{key:P,value:{document:q}}=y.getNext();if(!t.isPrefixOf(P.path))break;P.path.length>t.length+1||Ka(bl(q),s)<=0||(l=l.insert(q.key,q.mutableCopy()))}return rt.resolve(l)}getAllFromCollectionGroup(e,t,s,l){cn()}As(e,t){return rt.forEach(this.docs,s=>t(s))}newChangeBuffer(e){return new Qm(this)}getSize(e){return rt.resolve(this.size)}}class Qm extends qm{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?t.push(this.Yn.addEntry(e,l)):this.Yn.removeEntry(s)}),rt.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class $p{constructor(e){this.persistence=e,this.Rs=new gl(t=>Xo(t),zl),this.lastRemoteSnapshotVersion=bn.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Sd,this.targetCount=0,this.vs=xu.Pn()}forEachTarget(e,t){return this.Rs.forEach((s,l)=>t(l)),rt.resolve()}getLastRemoteSnapshotVersion(e){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rt.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.bs&&(this.bs=t),rt.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new xu(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,rt.resolve()}updateTargetData(e,t){return this.Dn(t),rt.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,rt.resolve()}removeTargets(e,t,s){let l=0;const d=[];return this.Rs.forEach((y,P)=>{P.sequenceNumber<=t&&null===s.get(P.targetId)&&(this.Rs.delete(y),d.push(this.removeMatchingKeysForTargetId(e,P.targetId)),l++)}),rt.waitFor(d).next(()=>l)}getTargetCount(e){return rt.resolve(this.targetCount)}getTargetData(e,t){const s=this.Rs.get(t)||null;return rt.resolve(s)}addMatchingKeys(e,t,s){return this.Ps.us(t,s),rt.resolve()}removeMatchingKeys(e,t,s){this.Ps.hs(t,s);const l=this.persistence.referenceDelegate,d=[];return l&&t.forEach(y=>{d.push(l.markPotentiallyOrphaned(e,y))}),rt.waitFor(d)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),rt.resolve()}getMatchingKeysForTargetId(e,t){const s=this.Ps.ds(t);return rt.resolve(s)}containsKey(e,t){return rt.resolve(this.Ps.containsKey(t))}}class Bp{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new qs(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new $p(this),this.indexManager=new yl,this.remoteDocumentCache=new $h(s=>this.referenceDelegate.xs(s)),this.It=new Fm(t),this.Ns=new Zm(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ym,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.Vs[e.toKey()];return s||(s=new Vh(t,this.referenceDelegate),this.Vs[e.toKey()]=s),s}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,s){Dt("MemoryPersistence","Starting transaction:",e);const l=new Up(this.Ss.next());return this.referenceDelegate.ks(),s(l).next(d=>this.referenceDelegate.Os(l).next(()=>d)).toPromise().then(d=>(l.raiseOnCommittedEvent(),d))}Ms(e,t){return rt.or(Object.values(this.Vs).map(s=>()=>s.containsKey(e,t)))}}class Up extends Pa{constructor(e){super(),this.currentSequenceNumber=e}}class lu{constructor(e){this.persistence=e,this.Fs=new Sd,this.$s=null}static Bs(e){return new lu(e)}get Ls(){if(this.$s)return this.$s;throw cn()}addReference(e,t,s){return this.Fs.addReference(s,t),this.Ls.delete(s.toString()),rt.resolve()}removeReference(e,t,s){return this.Fs.removeReference(s,t),this.Ls.add(s.toString()),rt.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),rt.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(l=>this.Ls.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next(l=>{l.forEach(d=>this.Ls.add(d.toString()))}).next(()=>s.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.Ls,s=>{const l=sn.fromPath(s);return this.Us(e,l).next(d=>{d||t.removeEntry(l,bn.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(s=>{s?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return rt.or([()=>rt.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class j_{constructor(e){this.It=e}$(e,t,s,l){const d=new Oa("createOrUpgrade",t);var P;s<1&&l>=1&&(e.createObjectStore("owner"),(P=e).createObjectStore("mutationQueues",{keyPath:"userId"}),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nu,{unique:!0}),P.createObjectStore("documentMutations"),jp(e),function(P){P.createObjectStore("remoteDocuments")}(e));let y=rt.resolve();return s<3&&l>=3&&(0!==s&&(function(P){P.deleteObjectStore("targetDocuments"),P.deleteObjectStore("targets"),P.deleteObjectStore("targetGlobal")}(e),jp(e)),y=y.next(()=>function(P){const q=P.store("targetGlobal"),J={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:bn.min().toTimestamp(),targetCount:0};return q.put("targetGlobalKey",J)}(d))),s<4&&l>=4&&(0!==s&&(y=y.next(()=>function(P,q){return q.store("mutations").W().next(J=>{P.deleteObjectStore("mutations"),P.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nu,{unique:!0});const de=q.store("mutations"),ke=J.map(it=>de.put(it));return rt.waitFor(ke)})}(e,d))),y=y.next(()=>{!function(P){P.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),s<5&&l>=5&&(y=y.next(()=>this.qs(d))),s<6&&l>=6&&(y=y.next(()=>(function(P){P.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(d)))),s<7&&l>=7&&(y=y.next(()=>this.Gs(d))),s<8&&l>=8&&(y=y.next(()=>this.Qs(e,d))),s<9&&l>=9&&(y=y.next(()=>{!function(P){P.objectStoreNames.contains("remoteDocumentChanges")&&P.deleteObjectStore("remoteDocumentChanges")}(e)})),s<10&&l>=10&&(y=y.next(()=>this.js(d))),s<11&&l>=11&&(y=y.next(()=>{(function(P){P.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(P){P.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),s<12&&l>=12&&(y=y.next(()=>{!function(P){const q=P.createObjectStore("documentOverlays",{keyPath:_d});q.createIndex("collectionPathOverlayIndex",N_,{unique:!1}),q.createIndex("collectionGroupOverlayIndex",O_,{unique:!1})}(e)})),s<13&&l>=13&&(y=y.next(()=>function(P){const q=P.createObjectStore("remoteDocumentsV14",{keyPath:yp});q.createIndex("documentKeyIndex",vp),q.createIndex("collectionGroupIndex",md)}(e)).next(()=>this.Ws(e,d)).next(()=>e.deleteObjectStore("remoteDocuments"))),s<14&&l>=14&&(y=y.next(()=>this.zs(e,d))),s<15&&l>=15&&(y=y.next(()=>function(P){P.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),P.createObjectStore("indexState",{keyPath:Nm}).createIndex("sequenceNumberIndex",_p,{unique:!1}),P.createObjectStore("indexEntries",{keyPath:P_}).createIndex("documentKeyIndex",Ep,{unique:!1})}(e))),y}Ks(e){let t=0;return e.store("remoteDocuments").Z((s,l)=>{t+=Op(l)}).next(()=>{const s={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",s)})}qs(e){const t=e.store("mutationQueues"),s=e.store("mutations");return t.W().next(l=>rt.forEach(l,d=>{const y=IDBKeyRange.bound([d.userId,-1],[d.userId,d.lastAcknowledgedBatchId]);return s.W("userMutationsIndex",y).next(P=>rt.forEach(P,q=>{Tn(q.userId===d.userId);const J=Ks(this.It,q);return Np(e,d.userId,J).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),s=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(l=>{const d=[];return s.Z((y,P)=>{const q=new $n(y),J=[0,li(q)];d.push(t.get(J).next(de=>de?rt.resolve():t.put({targetId:0,path:li(q),sequenceNumber:l.highestListenSequenceNumber})))}).next(()=>rt.waitFor(d))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Nh});const s=t.store("collectionParents"),l=new Id,d=y=>{if(l.add(y)){const P=y.lastSegment(),q=y.popLast();return s.put({collectionId:P,parent:li(q)})}};return t.store("remoteDocuments").Z({X:!0},(y,P)=>{const q=new $n(y);return d(q.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([y,P,q],J)=>{const de=ja(P);return d(de.popLast())}))}js(e){const t=e.store("targets");return t.Z((s,l)=>{const d=Nl(l),y=Dp(this.It,d);return t.put(y)})}Ws(e,t){const s=t.store("remoteDocuments"),l=[];return s.Z((d,y)=>{const P=t.store("remoteDocumentsV14"),q=(J=y,J.document?new sn($n.fromString(J.document.name).popFirst(5)):J.noDocument?sn.fromSegments(J.noDocument.path):J.unknownDocument?sn.fromSegments(J.unknownDocument.path):cn()).path.toArray();var J;const de={prefixPath:q.slice(0,q.length-2),collectionGroup:q[q.length-2],documentId:q[q.length-1],readTime:y.readTime||[0,0],unknownDocument:y.unknownDocument,noDocument:y.noDocument,document:y.document,hasCommittedMutations:!!y.hasCommittedMutations};l.push(P.put(de))}).next(()=>rt.waitFor(l))}zs(e,t){const s=t.store("mutations"),l=Lp(this.It),d=new Bp(lu.Bs,this.It.re);return s.W().next(y=>{const P=new Map;return y.forEach(q=>{var J;let de=null!==(J=P.get(q.userId))&&void 0!==J?J:Dr();Ks(this.It,q).keys().forEach(ke=>de=de.add(ke)),P.set(q.userId,de)}),rt.forEach(P,(q,J)=>{const de=new Mn(J),ke=Oh.oe(this.It,de),it=d.getIndexManager(de),Tt=Rl.oe(de,this.It,it,d.referenceDelegate);return new Vp(l,Tt,ke,it).recalculateAndSaveOverlaysForDocumentKeys(new bp(t,qs.at),q).next()})})}}function jp(i){i.createObjectStore("targetDocuments",{keyPath:vd}).createIndex("documentTargetsIndex",vc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",yd,{unique:!0}),i.createObjectStore("targetGlobal")}const Hp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class zp{constructor(e,t,s,l,d,y,P,q,J,de,ke=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=s,this.Hs=d,this.window=y,this.document=P,this.Js=J,this.Ys=de,this.Xs=ke,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=it=>Promise.resolve(),!zp.C())throw new xt(ht.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new kp(this,l),this.ii=t+"main",this.It=new Fm(q),this.ri=new Ws(this.ii,this.Xs,new j_(this.It)),this.Cs=new $_(this.referenceDelegate,this.It),this.remoteDocumentCache=Lp(this.It),this.Ns=new $m,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===de&&sr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new xt(ht.FAILED_PRECONDITION,Hp);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new qs(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var s=(0,xe.Z)(function*(l){if(t.started)return e(l)});return function(l){return s.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,xe.Z)(function*(s){null===s.newVersion&&(yield e())});return function(s){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,xe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Sc(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(ws(e))return Dt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Dt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Tc(e).get("owner").next(t=>rt.resolve(this.mi(t)))}gi(e){return Sc(e).delete(this.clientId)}yi(){var e=this;return(0,xe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const l=Eo(s,"clientMetadata");return l.W().next(d=>{const y=e.Ii(d,18e5),P=d.filter(q=>-1===y.indexOf(q));return rt.forEach(P,q=>l.delete(q.clientId)).next(()=>P)})}).catch(()=>[]);if(e.oi)for(const s of t)e.oi.removeItem(e.Ti(s.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?rt.resolve(!0):Tc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new xt(ht.FAILED_PRECONDITION,Hp);return!1}}return!(!this.networkEnabled||!this.inForeground)||Sc(e).W().next(s=>void 0===this.Ii(s,5e3).find(l=>{if(this.clientId!==l.clientId){const y=!this.inForeground&&l.inForeground,P=this.networkEnabled===l.networkEnabled;if(!this.networkEnabled&&l.networkEnabled||y&&P)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Dt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,xe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const s=new bp(t,qs.at);return e._i(s).next(()=>e.gi(s))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(s=>this.pi(s.updateTimeMs,t)&&!this.Ei(s.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>Sc(e).W().next(t=>this.Ii(t,18e5).map(s=>s.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return Rl.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new V_(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return Oh.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,s){Dt("IndexedDbPersistence","Starting transaction:",e);const l="readonly"===t?"readonly":"readwrite",d=15===(y=this.Xs)?R_:14===y?Lm:13===y?km:12===y?Rm:11===y?Om:void cn();var y;let P;return this.ri.runTransaction(e,l,d,q=>(P=new bp(q,this.Ss?this.Ss.next():qs.at),"readwrite-primary"===t?this.fi(P).next(J=>!!J||this.di(P)).next(J=>{if(!J)throw sr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new xt(ht.FAILED_PRECONDITION,Iu);return s(P)}).next(J=>this.wi(P).next(()=>J)):this.Vi(P).next(()=>s(P)))).then(q=>(P.raiseOnCommittedEvent(),q))}Vi(e){return Tc(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new xt(ht.FAILED_PRECONDITION,Hp)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Tc(e).put("owner",t)}static C(){return Ws.C()}_i(e){const t=Tc(e);return t.get("owner").next(s=>this.mi(s)?(Dt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):rt.resolve())}pi(e,t){const s=Date.now();return!(e<s-t||e>s&&(sr(`Detected an update time that is in the future: ${e} > ${s}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Et.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const s=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return Dt("IndexedDbPersistence",`Client '${e}' ${s?"is":"is not"} zombied in LocalStorage`),s}catch(s){return sr("IndexedDbPersistence","Failed to get zombied client id.",s),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){sr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Tc(i){return Eo(i,"owner")}function Sc(i){return Eo(i,"clientMetadata")}function Bh(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Xm{constructor(e,t,s,l){this.targetId=e,this.fromCache=t,this.Si=s,this.Di=l}static Ci(e,t){let s=Dr(),l=Dr();for(const d of t.docChanges)switch(d.type){case 0:s=s.add(d.doc.key);break;case 1:l=l.add(d.doc.key)}return new Xm(e,t.fromCache,s,l)}}class Gp{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,s,l){return this.ki(e,t).next(d=>d||this.Oi(e,t,l,s)).next(d=>d||this.Mi(e,t))}ki(e,t){if(nd(t))return rt.resolve(null);let s=Mo(t);return this.indexManager.getIndexType(e,s).next(l=>0===l?null:(null!==t.limit&&1===l&&(t=rc(t,null,"F"),s=Mo(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next(d=>{const y=Dr(...d);return this.Ni.getDocuments(e,y).next(P=>this.indexManager.getMinOffset(e,s).next(q=>{const J=this.Fi(t,P);return this.$i(t,J,y,q.readTime)?this.ki(e,rc(t,null,"F")):this.Bi(e,J,t,q)}))})))}Oi(e,t,s,l){return nd(t)||l.isEqual(bn.min())?this.Mi(e,t):this.Ni.getDocuments(e,s).next(d=>{const y=this.Fi(t,d);return this.$i(t,y,s,l)?this.Mi(e,t):(qn()<=$t.in.DEBUG&&Dt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),ba(t)),this.Bi(e,y,t,xa(l,-1)))})}Fi(e,t){let s=new T(bh(e));return t.forEach((l,d)=>{Cl(e,d)&&(s=s.add(d))}),s}$i(e,t,s,l){if(null===e.limit)return!1;if(s.size!==t.size)return!0;const d="F"===e.limitType?t.last():t.first();return!!d&&(d.hasPendingWrites||d.version.compareTo(l)>0)}Mi(e,t){return qn()<=$t.in.DEBUG&&Dt("QueryEngine","Using full collection scan to execute query:",ba(t)),this.Ni.getDocumentsMatchingQuery(e,t,Yo.min())}Bi(e,t,s,l){return this.Ni.getDocumentsMatchingQuery(e,s,l).next(d=>(t.forEach(y=>{d=d.insert(y.key,y)}),d))}}class H_{constructor(e,t,s,l){this.persistence=e,this.Li=t,this.It=l,this.Ui=new Gr(Kn),this.qi=new gl(d=>Xo(d),zl),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(s)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Vp(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function Wp(i,e,t,s){return new H_(i,e,t,s)}function Jm(i,e){return qp.apply(this,arguments)}function qp(){return qp=(0,xe.Z)(function*(i,e){const t=Zt(i);return yield t.persistence.runTransaction("Handle user change","readonly",s=>{let l;return t.mutationQueue.getAllMutationBatches(s).next(d=>(l=d,t.Qi(e),t.mutationQueue.getAllMutationBatches(s))).next(d=>{const y=[],P=[];let q=Dr();for(const J of l){y.push(J.batchId);for(const de of J.mutations)q=q.add(de.key)}for(const J of d){P.push(J.batchId);for(const de of J.mutations)q=q.add(de.key)}return t.localDocuments.getDocuments(s,q).next(J=>({ji:J,removedBatchIds:y,addedBatchIds:P}))})})}),qp.apply(this,arguments)}function il(i,e){const t=Zt(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const l=e.batch.keys(),d=t.Gi.newChangeBuffer({trackRemovals:!0});return function(y,P,q,J){const de=q.batch,ke=de.keys();let it=rt.resolve();return ke.forEach(Tt=>{it=it.next(()=>J.getEntry(P,Tt)).next(Vt=>{const fn=q.docVersions.get(Tt);Tn(null!==fn),Vt.version.compareTo(fn)<0&&(de.applyToRemoteDocument(Vt,q),Vt.isValidDocument()&&(Vt.setReadTime(q.commitVersion),J.addEntry(Vt)))})}),it.next(()=>y.mutationQueue.removeMutationBatch(P,de))}(t,s,e,d).next(()=>d.apply(s)).next(()=>t.mutationQueue.performConsistencyCheck(s)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(y){let P=Dr();for(let q=0;q<y.mutationResults.length;++q)y.mutationResults[q].transformResults.length>0&&(P=P.add(y.batch.mutations[q].key));return P}(e))).next(()=>t.localDocuments.getDocuments(s,l))})}function ey(i){const e=Zt(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function ty(i,e){const t=Zt(i),s=e.snapshotVersion;let l=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",d=>{const y=t.Gi.newChangeBuffer({trackRemovals:!0});l=t.Ui;const P=[];e.targetChanges.forEach((de,ke)=>{const it=l.get(ke);if(!it)return;P.push(t.Cs.removeMatchingKeys(d,de.removedDocuments,ke).next(()=>t.Cs.addMatchingKeys(d,de.addedDocuments,ke)));let Tt=it.withSequenceNumber(d.currentSequenceNumber);var Vt,fn,En;e.targetMismatches.has(ke)?Tt=Tt.withResumeToken(me.EMPTY_BYTE_STRING,bn.min()).withLastLimboFreeSnapshotVersion(bn.min()):de.resumeToken.approximateByteSize()>0&&(Tt=Tt.withResumeToken(de.resumeToken,s)),l=l.insert(ke,Tt),fn=Tt,En=de,(0===(Vt=it).resumeToken.approximateByteSize()||fn.snapshotVersion.toMicroseconds()-Vt.snapshotVersion.toMicroseconds()>=3e8||En.addedDocuments.size+En.modifiedDocuments.size+En.removedDocuments.size>0)&&P.push(t.Cs.updateTargetData(d,Tt))});let q=ra(),J=Dr();if(e.documentUpdates.forEach(de=>{e.resolvedLimboDocuments.has(de)&&P.push(t.persistence.referenceDelegate.updateLimboDocument(d,de))}),P.push(ny(d,y,e.documentUpdates).next(de=>{q=de.Wi,J=de.zi})),!s.isEqual(bn.min())){const de=t.Cs.getLastRemoteSnapshotVersion(d).next(ke=>t.Cs.setTargetsMetadata(d,d.currentSequenceNumber,s));P.push(de)}return rt.waitFor(P).next(()=>y.apply(d)).next(()=>t.localDocuments.getLocalViewOfDocuments(d,q,J)).next(()=>q)}).then(d=>(t.Ui=l,d))}function ny(i,e,t){let s=Dr(),l=Dr();return t.forEach(d=>s=s.add(d)),e.getEntries(i,s).next(d=>{let y=ra();return t.forEach((P,q)=>{const J=d.get(P);q.isFoundDocument()!==J.isFoundDocument()&&(l=l.add(P)),q.isNoDocument()&&q.version.isEqual(bn.min())?(e.removeEntry(P,q.readTime),y=y.insert(P,q)):!J.isValidDocument()||q.version.compareTo(J.version)>0||0===q.version.compareTo(J.version)&&J.hasPendingWrites?(e.addEntry(q),y=y.insert(P,q)):Dt("LocalStore","Ignoring outdated watch update for ",P,". Current version:",J.version," Watch version:",q.version)}),{Wi:y,zi:l}})}function z_(i,e){const t=Zt(i);return t.persistence.runTransaction("Get next mutation batch","readonly",s=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function Ac(i,e){const t=Zt(i);return t.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return t.Cs.getTargetData(s,e).next(d=>d?(l=d,rt.resolve(l)):t.Cs.allocateTargetId(s).next(y=>(l=new xl(e,y,0,s.currentSequenceNumber),t.Cs.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=t.Ui.get(s.targetId);return(null===l||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(s.targetId,s),t.qi.set(e,s.targetId)),s})}function Mc(i,e,t){return Uh.apply(this,arguments)}function Uh(){return Uh=(0,xe.Z)(function*(i,e,t){const s=Zt(i),l=s.Ui.get(e),d=t?"readwrite":"readwrite-primary";try{t||(yield s.persistence.runTransaction("Release target",d,y=>s.persistence.referenceDelegate.removeTarget(y,l)))}catch(y){if(!ws(y))throw y;Dt("LocalStore",`Failed to update sequence numbers for target ${e}: ${y}`)}s.Ui=s.Ui.remove(e),s.qi.delete(l.target)}),Uh.apply(this,arguments)}function jh(i,e,t){const s=Zt(i);let l=bn.min(),d=Dr();return s.persistence.runTransaction("Execute query","readonly",y=>function(P,q,J){const de=Zt(P),ke=de.qi.get(J);return void 0!==ke?rt.resolve(de.Ui.get(ke)):de.Cs.getTargetData(q,J)}(s,y,Mo(e)).next(P=>{if(P)return l=P.lastLimboFreeSnapshotVersion,s.Cs.getMatchingKeysForTargetId(y,P.targetId).next(q=>{d=q})}).next(()=>s.Li.getDocumentsMatchingQuery(y,e,t?l:bn.min(),t?d:Dr())).next(P=>(Pr(s,rd(e),P),{documents:P,Hi:d})))}function ry(i,e){const t=Zt(i),s=Zt(t.Cs),l=t.Ui.get(e);return l?Promise.resolve(l.target):t.persistence.runTransaction("Get target data","readonly",d=>s.se(d,e).next(y=>y?y.target:null))}function iy(i,e){const t=Zt(i),s=t.Ki.get(e)||bn.min();return t.persistence.runTransaction("Get new document changes","readonly",l=>t.Gi.getAllFromCollectionGroup(l,e,xa(s,-1),Number.MAX_SAFE_INTEGER)).then(l=>(Pr(t,e,l),l))}function Pr(i,e,t){let s=i.Ki.get(e)||bn.min();t.forEach((l,d)=>{d.readTime.compareTo(s)>0&&(s=d.readTime)}),i.Ki.set(e,s)}function Hh(){return Hh=(0,xe.Z)(function*(i,e,t,s){const l=Zt(i);let d=Dr(),y=ra();for(const J of t){const de=e.Ji(J.metadata.name);J.document&&(d=d.add(de));const ke=e.Yi(J);ke.setReadTime(e.Xi(J.metadata.readTime)),y=y.insert(de,ke)}const P=l.Gi.newChangeBuffer({trackRemovals:!0}),q=yield Ac(l,(J=s,Mo(pl($n.fromString(`__bundle__/docs/${J}`)))));var J;return l.persistence.runTransaction("Apply bundle documents","readwrite",J=>ny(J,P,y).next(de=>(P.apply(J),de)).next(de=>l.Cs.removeMatchingKeysForTargetId(J,q.targetId).next(()=>l.Cs.addMatchingKeys(J,d,q.targetId)).next(()=>l.localDocuments.getLocalViewOfDocuments(J,de.Wi,de.zi)).next(()=>de.Wi)))}),Hh.apply(this,arguments)}function oy(i,e){return Kp.apply(this,arguments)}function Kp(){return Kp=(0,xe.Z)(function*(i,e,t=Dr()){const s=yield Ac(i,Mo(Tp(e.bundledQuery))),l=Zt(i);return l.persistence.runTransaction("Save named query","readwrite",d=>{const y=_o(e.readTime);if(s.snapshotVersion.compareTo(y)>=0)return l.Ns.saveNamedQuery(d,e);const P=s.withResumeToken(me.EMPTY_BYTE_STRING,y);return l.Ui=l.Ui.insert(P.targetId,P),l.Cs.updateTargetData(d,P).next(()=>l.Cs.removeMatchingKeysForTargetId(d,s.targetId)).next(()=>l.Cs.addMatchingKeys(d,t,s.targetId)).next(()=>l.Ns.saveNamedQuery(d,e))})}),Kp.apply(this,arguments)}function ay(i,e){return`firestore_clients_${i}_${e}`}function Zp(i,e,t){let s=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(s+=`_${e.uid}`),s}function Yp(i,e){return`firestore_targets_${i}_${e}`}class Ad{constructor(e,t,s,l){this.user=e,this.batchId=t,this.state=s,this.error=l}static Zi(e,t,s){const l=JSON.parse(s);let d,y="object"==typeof l&&-1!==["pending","acknowledged","rejected"].indexOf(l.state)&&(void 0===l.error||"object"==typeof l.error);return y&&l.error&&(y="string"==typeof l.error.message&&"string"==typeof l.error.code,y&&(d=new xt(l.error.code,l.error.message))),y?new Ad(e,t,l.state,d):(sr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${s}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Md{constructor(e,t,s){this.targetId=e,this.state=t,this.error=s}static Zi(e,t){const s=JSON.parse(t);let l,d="object"==typeof s&&-1!==["not-current","current","rejected"].indexOf(s.state)&&(void 0===s.error||"object"==typeof s.error);return d&&s.error&&(d="string"==typeof s.error.message&&"string"==typeof s.error.code,d&&(l=new xt(s.error.code,s.error.message))),d?new Md(e,s.state,l):(sr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class zh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const s=JSON.parse(t);let l="object"==typeof s&&s.activeTargetIds instanceof Array,d=Tl();for(let y=0;l&&y<s.activeTargetIds.length;++y)l=$a(s.activeTargetIds[y]),d=d.add(s.activeTargetIds[y]);return l?new zh(e,d):(sr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class ly{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new ly(t.clientId,t.onlineState):(sr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Gh{constructor(){this.activeTargetIds=Tl()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Wh{constructor(e,t,s,l,d){this.window=e,this.Hs=t,this.persistenceKey=s,this.sr=l,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Gr(Kn),this.started=!1,this.cr=[];const y=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=d,this.ar=ay(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Gh),this.lr=new RegExp(`^firestore_clients_${y}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${y}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${y}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(P){return`firestore_bundle_loaded_v2_${P}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,xe.Z)(function*(){const t=yield e.syncEngine.vi();for(const l of t){if(l===e.sr)continue;const d=e.getItem(ay(e.persistenceKey,l));if(d){const y=zh.Zi(l,d);y&&(e.ur=e.ur.insert(y.clientId,y))}}e.gr();const s=e.storage.getItem(e.wr);if(s){const l=e.yr(s);l&&e.pr(l)}for(const l of e.cr)e.rr(l);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((s,l)=>{l.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,s){this.Tr(e,t,s),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const s=this.storage.getItem(Yp(this.persistenceKey,e));if(s){const l=Md.Zi(e,s);l&&(t=l.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Yp(this.persistenceKey,e))}updateQueryState(e,t,s){this.Rr(e,t,s)}handleUserChange(e,t,s){t.forEach(l=>{this.Er(l)}),this.currentUser=e,s.forEach(l=>{this.addPendingMutation(l)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Dt("SharedClientState","READ",e,t),t}setItem(e,t){Dt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Dt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const s=e;if(s.storageArea===this.storage){if(Dt("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ar)return void sr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,xe.Z)(function*(){if(t.started){if(null!==s.key)if(t.lr.test(s.key)){if(null==s.newValue){const l=t.vr(s.key);return t.Vr(l,null)}{const l=t.Sr(s.key,s.newValue);if(l)return t.Vr(l.clientId,l)}}else if(t.dr.test(s.key)){if(null!==s.newValue){const l=t.Dr(s.key,s.newValue);if(l)return t.Cr(l)}}else if(t._r.test(s.key)){if(null!==s.newValue){const l=t.Nr(s.key,s.newValue);if(l)return t.kr(l)}}else if(s.key===t.wr){if(null!==s.newValue){const l=t.yr(s.newValue);if(l)return t.pr(l)}}else if(s.key===t.hr){const l=function(d){let y=qs.at;if(null!=d)try{const P=JSON.parse(d);Tn("number"==typeof P),y=P}catch(P){sr("SharedClientState","Failed to read sequence number from WebStorage",P)}return y}(s.newValue);l!==qs.at&&t.sequenceNumberHandler(l)}else if(s.key===t.mr){const l=t.Or(s.newValue);yield Promise.all(l.map(d=>t.syncEngine.Mr(d)))}}else t.cr.push(s)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,s){const l=new Ad(this.currentUser,e,t,s),d=Zp(this.persistenceKey,this.currentUser,e);this.setItem(d,l.tr())}Er(e){const t=Zp(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,s){const l=Yp(this.persistenceKey,e),d=new Md(e,t,s);this.setItem(l,d.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const s=this.vr(e);return zh.Zi(s,t)}Dr(e,t){const s=this.dr.exec(e),l=Number(s[1]);return Ad.Zi(new Mn(void 0!==s[2]?s[2]:null),l,t)}Nr(e,t){const s=this._r.exec(e),l=Number(s[1]);return Md.Zi(l,t)}yr(e){return ly.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,xe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);Dt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const s=t?this.ur.insert(e,t):this.ur.remove(e),l=this.Ir(this.ur),d=this.Ir(s),y=[],P=[];return d.forEach(q=>{l.has(q)||y.push(q)}),l.forEach(q=>{d.has(q)||P.push(q)}),this.syncEngine.Br(y,P).then(()=>{this.ur=s})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=Tl();return e.forEach((s,l)=>{t=t.unionWith(l.activeTargetIds)}),t}}class uu{constructor(){this.Lr=new Gh,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,s){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Gh,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class G_{qr(e){}shutdown(){}}class qh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Dt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Dt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Qp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class W_{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class YE extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,s,l,d){const y=this.ho(e,t);Dt("RestConnection","Sending: ",y,s);const P={};return this.lo(P,l,d),this.fo(e,y,P,s).then(q=>(Dt("RestConnection","Received: ",q),q),q=>{throw cr("RestConnection",`${e} failed with error: `,q,"url: ",y,"request:",s),q})}_o(e,t,s,l,d,y){return this.ao(e,t,s,l,d)}lo(e,t,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+jn,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((l,d)=>e[d]=l),s&&s.headers.forEach((l,d)=>e[d]=l)}ho(e,t){return`${this.oo}/v1/${t}:${Qp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,s,l){return new Promise((d,y)=>{const P=new ln;P.setWithCredentials(!0),P.listenOnce(te.COMPLETE,()=>{var J;try{switch(P.getLastErrorCode()){case Q.NO_ERROR:const de=P.getResponseJson();Dt("Connection","XHR received:",JSON.stringify(de)),d(de);break;case Q.TIMEOUT:Dt("Connection",'RPC "'+e+'" timed out'),y(new xt(ht.DEADLINE_EXCEEDED,"Request time out"));break;case Q.HTTP_ERROR:const ke=P.getStatus();if(Dt("Connection",'RPC "'+e+'" failed with status:',ke,"response text:",P.getResponseText()),ke>0){let it=P.getResponseJson();Array.isArray(it)&&(it=it[0]);const Tt=null===(J=it)||void 0===J?void 0:J.error;if(Tt&&Tt.status&&Tt.message){const Vt=function(fn){const En=fn.toLowerCase().replace(/_/g,"-");return Object.values(ht).indexOf(En)>=0?En:ht.UNKNOWN}(Tt.status);y(new xt(Vt,Tt.message))}else y(new xt(ht.UNKNOWN,"Server responded with status "+P.getStatus()))}else y(new xt(ht.UNAVAILABLE,"Connection failed."));break;default:cn()}}finally{Dt("Connection",'RPC "'+e+'" completed.')}});const q=JSON.stringify(l);P.send(t,"POST",q,s,15)})}wo(e,t,s){const l=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=C(),y=R(),P={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(P.xmlHttpFactory=new Je({})),this.lo(P.initMessageHeaders,t,s),P.encodeInitMessageHeaders=!0;const q=l.join("");Dt("Connection","Creating WebChannel: "+q,P);const J=d.createWebChannel(q,P);let de=!1,ke=!1;const it=new W_({Hr:Vt=>{ke?Dt("Connection","Not sending because WebChannel is closed:",Vt):(de||(Dt("Connection","Opening WebChannel transport."),J.open(),de=!0),Dt("Connection","WebChannel sending:",Vt),J.send(Vt))},Jr:()=>J.close()}),Tt=(Vt,fn,En)=>{Vt.listen(fn,Wr=>{try{En(Wr)}catch(Ii){setTimeout(()=>{throw Ii},0)}})};return Tt(J,wt.EventType.OPEN,()=>{ke||Dt("Connection","WebChannel transport opened.")}),Tt(J,wt.EventType.CLOSE,()=>{ke||(ke=!0,Dt("Connection","WebChannel transport closed"),it.io())}),Tt(J,wt.EventType.ERROR,Vt=>{ke||(ke=!0,cr("Connection","WebChannel transport errored:",Vt),it.io(new xt(ht.UNAVAILABLE,"The operation could not be completed")))}),Tt(J,wt.EventType.MESSAGE,Vt=>{var fn;if(!ke){const En=Vt.data[0];Tn(!!En);const Wr=En,Ii=Wr.error||(null===(fn=Wr[0])||void 0===fn?void 0:fn.error);if(Ii){Dt("Connection","WebChannel received error:",Ii);const qr=Ii.status;let $r=function(Kr){const No=Ns[Kr];if(void 0!==No)return Dh(No)}(qr),Br=Ii.message;void 0===$r&&($r=ht.INTERNAL,Br="Unknown error status: "+qr+" with message "+Ii.message),ke=!0,it.io(new xt($r,Br)),J.close()}else Dt("Connection","WebChannel received:",En),it.ro(En)}}),Tt(y,be.STAT_EVENT,Vt=>{Vt.stat===Te.PROXY?Dt("Connection","Detected buffering proxy"):Vt.stat===Te.NOPROXY&&Dt("Connection","Detected no buffering proxy")}),setTimeout(()=>{it.so()},0),it}}function q_(){return typeof window<"u"?window:null}function Xp(){return typeof document<"u"?document:null}function xd(i){return new cc(i,!0)}class Kh{constructor(e,t,s=1e3,l=1.5,d=6e4){this.Hs=e,this.timerId=t,this.mo=s,this.yo=l,this.po=d,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),s=Math.max(0,Date.now()-this.Eo),l=Math.max(0,t-s);l>0&&Dt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,l,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class K_{constructor(e,t,s,l,d,y,P,q){this.Hs=e,this.vo=s,this.Vo=l,this.connection=d,this.authCredentialsProvider=y,this.appCheckCredentialsProvider=P,this.listener=q,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new Kh(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,xe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,xe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var s=this;return(0,xe.Z)(function*(){s.Lo(),s.Uo(),s.xo.cancel(),s.So++,4!==e?s.xo.reset():t&&t.code===ht.RESOURCE_EXHAUSTED?(sr(t.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),s.xo.Ao()):t&&t.code===ht.UNAUTHENTICATED&&3!==s.state&&(s.authCredentialsProvider.invalidateToken(),s.appCheckCredentialsProvider.invalidateToken()),null!==s.stream&&(s.qo(),s.stream.close(),s.stream=null),s.state=e,yield s.listener.Zr(t)})()}qo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.So===t&&this.Go(s,l)},s=>{e(()=>{const l=new xt(ht.UNKNOWN,"Fetching auth token failed: "+s.message);return this.Qo(l)})})}Go(e,t){const s=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{s(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(l=>{s(()=>this.Qo(l))}),this.stream.onMessage(l=>{s(()=>this.onMessage(l))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,xe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Dt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Dt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Z_ extends K_{constructor(e,t,s,l,d,y){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,l,y),this.It=d}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function pc(i,e){let t;if("targetChange"in e){const s="NO_CHANGE"===(q=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===q?1:"REMOVE"===q?2:"CURRENT"===q?3:"RESET"===q?4:cn(),l=e.targetChange.targetIds||[],d=function(q,J){return q.gt?(Tn(void 0===J||"string"==typeof J),me.fromBase64String(J||"")):(Tn(void 0===J||J instanceof Uint8Array),me.fromUint8Array(J||new Uint8Array))}(i,e.targetChange.resumeToken),y=e.targetChange.cause,P=y&&function(q){const J=void 0===q.code?ht.UNKNOWN:Dh(q.code);return new xt(J,q.message||"")}(y);t=new Al(s,l,d,P||null)}else if("documentChange"in e){const s=e.documentChange,l=Da(i,s.document.name),d=_o(s.document.updateTime),y=new us({mapValue:{fields:s.document.fields}}),P=ni.newFoundDocument(l,d,y);t=new eu(s.targetIds||[],s.removedTargetIds||[],P.key,P)}else if("documentDelete"in e){const s=e.documentDelete,l=Da(i,s.document),d=s.readTime?_o(s.readTime):bn.min(),y=ni.newNoDocument(l,d);t=new eu([],s.removedTargetIds||[],y.key,y)}else if("documentRemove"in e){const s=e.documentRemove,l=Da(i,s.document);t=new eu([],s.removedTargetIds||[],l,null)}else{if(!("filter"in e))return cn();{const s=e.filter,d=new hp(s.count||0);t=new Jo(s.targetId,d)}}var q;return t}(this.It,e),s=function(l){if(!("targetChange"in l))return bn.min();const d=l.targetChange;return d.targetIds&&d.targetIds.length?bn.min():d.readTime?_o(d.readTime):bn.min()}(e);return this.listener.Wo(t,s)}zo(e){const t={};t.database=ga(this.It),t.addTarget=function(l,d){let y;const P=d.target;return y=Ju(P)?{documents:Mh(l,P)}:{query:E(l,P)},y.targetId=d.targetId,d.resumeToken.approximateByteSize()>0?y.resumeToken=dc(l,d.resumeToken):d.snapshotVersion.compareTo(bn.min())>0&&(y.readTime=vo(l,d.snapshotVersion.toTimestamp())),y}(this.It,e);const s=function p(i,e){const t=function(s,l){switch(l){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return cn()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);s&&(t.labels=s),this.Bo(t)}Ho(e){const t={};t.database=ga(this.It),t.removeTarget=e,this.Bo(t)}}class xc extends K_{constructor(e,t,s,l,d,y){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,l,y),this.It=d,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(Tn(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function Mu(i,e){return i&&i.length>0?(Tn(void 0!==e),i.map(t=>function(s,l){let d=_o(s.updateTime?s.updateTime:l);return d.isEqual(bn.min())&&(d=_o(l)),new od(d,s.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),s=_o(e.commitTime);return this.listener.Zo(s,t)}return Tn(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=ga(this.It),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(s=>gc(this.It,s))};this.Bo(t)}}class Y_ extends class{}{constructor(e,t,s,l){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.It=l,this.nu=!1}su(){if(this.nu)throw new xt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,d])=>this.connection.ao(e,t,s,l,d)).catch(l=>{throw"FirebaseError"===l.name?(l.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new xt(ht.UNKNOWN,l.toString())})}_o(e,t,s,l){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,y])=>this.connection._o(e,t,s,d,y,l)).catch(d=>{throw"FirebaseError"===d.name?(d.code===ht.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new xt(ht.UNKNOWN,d.toString())})}terminate(){this.nu=!0}}class Q_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(sr(t),this.ou=!1):Dt("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class cy{constructor(e,t,s,l,d){var y=this;this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=d,this.mu.qr(P=>{s.enqueueAndForget((0,xe.Z)(function*(){var q;cu(y)&&(Dt("RemoteStore","Restarting streams for network reachability change."),yield(q=(0,xe.Z)(function*(J){const de=Zt(J);de._u.add(4),yield Nc(de),de.gu.set("Unknown"),de._u.delete(4),yield Pd(de)}),function(J){return q.apply(this,arguments)})(y))}))}),this.gu=new Q_(s,l)}}function Pd(i){return Jp.apply(this,arguments)}function Jp(){return Jp=(0,xe.Z)(function*(i){if(cu(i))for(const e of i.wu)yield e(!0)}),Jp.apply(this,arguments)}function Nc(i){return eg.apply(this,arguments)}function eg(){return eg=(0,xe.Z)(function*(i){for(const e of i.wu)yield e(!1)}),eg.apply(this,arguments)}function Zh(i,e){const t=Zt(i);t.du.has(e.targetId)||(t.du.set(e.targetId,e),Nd(t)?Yh(t):Nu(t).ko()&&tg(t,e))}function Oc(i,e){const t=Zt(i),s=Nu(t);t.du.delete(e),s.ko()&&ng(t,e),0===t.du.size&&(s.ko()?s.Fo():cu(t)&&t.gu.set("Unknown"))}function tg(i,e){i.yu.Mt(e.targetId),Nu(i).zo(e)}function ng(i,e){i.yu.Mt(e),Nu(i).Ho(e)}function Yh(i){i.yu=new pp({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),se:e=>i.du.get(e)||null}),Nu(i).start(),i.gu.uu()}function Nd(i){return cu(i)&&!Nu(i).No()&&i.du.size>0}function cu(i){return 0===Zt(i)._u.size}function Qh(i){i.yu=void 0}function X_(i){return dy.apply(this,arguments)}function dy(){return dy=(0,xe.Z)(function*(i){i.du.forEach((e,t)=>{tg(i,e)})}),dy.apply(this,arguments)}function Rc(i,e){return Xh.apply(this,arguments)}function Xh(){return Xh=(0,xe.Z)(function*(i,e){Qh(i),Nd(i)?(i.gu.hu(e),Yh(i)):i.gu.set("Unknown")}),Xh.apply(this,arguments)}function hy(i,e,t){return kc.apply(this,arguments)}function kc(){return kc=(0,xe.Z)(function*(i,e,t){if(i.gu.set("Online"),e instanceof Al&&2===e.state&&e.cause)try{yield(s=(0,xe.Z)(function*(l,d){const y=d.cause;for(const P of d.targetIds)l.du.has(P)&&(yield l.remoteSyncer.rejectListen(P,y),l.du.delete(P),l.yu.removeTarget(P))}),function(l,d){return s.apply(this,arguments)})(i,e)}catch(s){Dt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),yield Ta(i,s)}else if(e instanceof eu?i.yu.Gt(e):e instanceof Jo?i.yu.Yt(e):i.yu.Wt(e),!t.isEqual(bn.min()))try{const s=yield ey(i.localStore);t.compareTo(s)>=0&&(yield function(l,d){const y=l.yu.te(d);return y.targetChanges.forEach((P,q)=>{if(P.resumeToken.approximateByteSize()>0){const J=l.du.get(q);J&&l.du.set(q,J.withResumeToken(P.resumeToken,d))}}),y.targetMismatches.forEach(P=>{const q=l.du.get(P);if(!q)return;l.du.set(P,q.withResumeToken(me.EMPTY_BYTE_STRING,q.snapshotVersion)),ng(l,P);const J=new xl(q.target,P,1,q.sequenceNumber);tg(l,J)}),l.remoteSyncer.applyRemoteEvent(y)}(i,t))}catch(s){Dt("RemoteStore","Failed to raise snapshot:",s),yield Ta(i,s)}var s}),kc.apply(this,arguments)}function Ta(i,e,t){return Jh.apply(this,arguments)}function Jh(){return Jh=(0,xe.Z)(function*(i,e,t){if(!ws(e))throw e;i._u.add(1),yield Nc(i),i.gu.set("Offline"),t||(t=()=>ey(i.localStore)),i.asyncQueue.enqueueRetryable((0,xe.Z)(function*(){Dt("RemoteStore","Retrying IndexedDB access"),yield t(),i._u.delete(1),yield Pd(i)}))}),Jh.apply(this,arguments)}function fy(i,e){return e().catch(t=>Ta(i,t,e))}function du(i){return sl.apply(this,arguments)}function sl(){return sl=(0,xe.Z)(function*(i){const e=Zt(i),t=Ou(e);let s=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;rg(e);)try{const l=yield z_(e.localStore,s);if(null===l){0===e.fu.length&&t.Fo();break}s=l.batchId,py(e,l)}catch(l){yield Ta(e,l)}ef(e)&&J_(e)}),sl.apply(this,arguments)}function rg(i){return cu(i)&&i.fu.length<10}function py(i,e){i.fu.push(e);const t=Ou(i);t.ko()&&t.Yo&&t.Xo(e.mutations)}function ef(i){return cu(i)&&!Ou(i).No()&&i.fu.length>0}function J_(i){Ou(i).start()}function gy(i){return my.apply(this,arguments)}function my(){return my=(0,xe.Z)(function*(i){Ou(i).eu()}),my.apply(this,arguments)}function tf(i){return Lc.apply(this,arguments)}function Lc(){return Lc=(0,xe.Z)(function*(i){const e=Ou(i);for(const t of i.fu)e.Xo(t.mutations)}),Lc.apply(this,arguments)}function ig(i,e,t){return Od.apply(this,arguments)}function Od(){return Od=(0,xe.Z)(function*(i,e,t){const s=i.fu.shift(),l=Cp.from(s,e,t);yield fy(i,()=>i.remoteSyncer.applySuccessfulWrite(l)),yield du(i)}),Od.apply(this,arguments)}function sg(i,e){return yy.apply(this,arguments)}function yy(){return yy=(0,xe.Z)(function*(i,e){var t;e&&Ou(i).Yo&&(yield(t=(0,xe.Z)(function*(s,l){if(cd(d=l.code)&&d!==ht.ABORTED){const y=s.fu.shift();Ou(s).Mo(),yield fy(s,()=>s.remoteSyncer.rejectFailedWrite(y.batchId,l)),yield du(s)}var d}),function(s,l){return t.apply(this,arguments)})(i,e)),ef(i)&&J_(i)}),yy.apply(this,arguments)}function vy(i,e){return og.apply(this,arguments)}function og(){return og=(0,xe.Z)(function*(i,e){const t=Zt(i);t.asyncQueue.verifyOperationInProgress(),Dt("RemoteStore","RemoteStore received new credentials");const s=cu(t);t._u.add(3),yield Nc(t),s&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Pd(t)}),og.apply(this,arguments)}function ag(i,e){return lg.apply(this,arguments)}function lg(){return lg=(0,xe.Z)(function*(i,e){const t=Zt(i);e?(t._u.delete(2),yield Pd(t)):e||(t._u.add(2),yield Nc(t),t.gu.set("Unknown"))}),lg.apply(this,arguments)}function Nu(i){return i.pu||(i.pu=function(e,t,s){const l=Zt(e);return l.su(),new Z_(t,l.connection,l.authCredentials,l.appCheckCredentials,l.It,s)}(i.datastore,i.asyncQueue,{Yr:X_.bind(null,i),Zr:Rc.bind(null,i),Wo:hy.bind(null,i)}),i.wu.push(function(){var e=(0,xe.Z)(function*(t){t?(i.pu.Mo(),Nd(i)?Yh(i):i.gu.set("Unknown")):(yield i.pu.stop(),Qh(i))});return function(t){return e.apply(this,arguments)}}())),i.pu}function Ou(i){return i.Iu||(i.Iu=function(e,t,s){const l=Zt(e);return l.su(),new xc(t,l.connection,l.authCredentials,l.appCheckCredentials,l.It,s)}(i.datastore,i.asyncQueue,{Yr:gy.bind(null,i),Zr:sg.bind(null,i),tu:tf.bind(null,i),Zo:ig.bind(null,i)}),i.wu.push(function(){var e=(0,xe.Z)(function*(t){t?(i.Iu.Mo(),yield du(i)):(yield i.Iu.stop(),i.fu.length>0&&(Dt("RemoteStore",`Stopping write stream with ${i.fu.length} pending writes`),i.fu=[]))});return function(t){return e.apply(this,arguments)}}())),i.Iu}class ug{constructor(e,t,s,l,d){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=l,this.removalCallback=d,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(y=>{})}static createAndSchedule(e,t,s,l,d){const y=Date.now()+s,P=new ug(e,t,y,l,d);return P.start(s),P}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new xt(ht.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Rd(i,e){if(sr("AsyncQueue",`${e}: ${i}`),ws(i))return new xt(ht.UNAVAILABLE,`${e}: ${i}`);throw i}class Ru{constructor(e){this.comparator=e?(t,s)=>e(t,s)||sn.comparator(t.key,s.key):(t,s)=>sn.comparator(t.key,s.key),this.keyedMap=oc(),this.sortedSet=new Gr(this.comparator)}static emptySet(e){return new Ru(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,s)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ru)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const l=t.getNext().key,d=s.getNext().key;if(!l.isEqual(d))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const s=new Ru;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}class cg{constructor(){this.Tu=new Gr(sn.comparator)}track(e){const t=e.doc.key,s=this.Tu.get(t);s?0!==e.type&&3===s.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==s.type?this.Tu=this.Tu.insert(t,{type:s.type,doc:e.doc}):2===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===s.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===s.type?this.Tu=this.Tu.remove(t):1===e.type&&2===s.type?this.Tu=this.Tu.insert(t,{type:1,doc:s.doc}):0===e.type&&1===s.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):cn():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,s)=>{e.push(s)}),e}}class Fc{constructor(e,t,s,l,d,y,P,q,J){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=d,this.fromCache=y,this.syncStateChanged=P,this.excludesMetadataChanges=q,this.hasCachedResults=J}static fromInitialDocuments(e,t,s,l,d){const y=[];return t.forEach(P=>{y.push({type:0,doc:P})}),new Fc(e,t,Ru.emptySet(t),y,s,l,!0,!1,d)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let l=0;l<t.length;l++)if(t[l].type!==s[l].type||!t[l].doc.isEqual(s[l].doc))return!1;return!0}}class dg{constructor(){this.Au=void 0,this.listeners=[]}}class QE{constructor(){this.queries=new gl(e=>Eh(e),Zl),this.onlineState="Unknown",this.Ru=new Set}}function _y(i,e){return Ey.apply(this,arguments)}function Ey(){return Ey=(0,xe.Z)(function*(i,e){const t=Zt(i),s=e.query;let l=!1,d=t.queries.get(s);if(d||(l=!0,d=new dg),l)try{d.Au=yield t.onListen(s)}catch(y){const P=Rd(y,`Initialization of query '${ba(e.query)}' failed`);return void e.onError(P)}t.queries.set(s,d),d.listeners.push(e),e.bu(t.onlineState),d.Au&&e.Pu(d.Au)&&Cy(t)}),Ey.apply(this,arguments)}function by(i,e){return Iy.apply(this,arguments)}function Iy(){return Iy=(0,xe.Z)(function*(i,e){const t=Zt(i),s=e.query;let l=!1;const d=t.queries.get(s);if(d){const y=d.listeners.indexOf(e);y>=0&&(d.listeners.splice(y,1),l=0===d.listeners.length)}if(l)return t.queries.delete(s),t.onUnlisten(s)}),Iy.apply(this,arguments)}function XE(i,e){const t=Zt(i);let s=!1;for(const l of e){const y=t.queries.get(l.query);if(y){for(const P of y.listeners)P.Pu(l)&&(s=!0);y.Au=l}}s&&Cy(t)}function JE(i,e,t){const s=Zt(i),l=s.queries.get(e);if(l)for(const d of l.listeners)d.onError(t);s.queries.delete(e)}function Cy(i){i.Ru.forEach(e=>{e.next()})}class wy{constructor(e,t,s){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=s||{}}Pu(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)3!==l.type&&s.push(l);e=new Fc(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=Fc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class eb{constructor(e,t){this.ku=e,this.byteLength=t}Ou(){return"metadata"in this.ku}}class Ll{constructor(e){this.It=e}Ji(e){return Da(this.It,e)}Yi(e){return e.metadata.exists?fc(this.It,e.document,!1):ni.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return _o(e)}}class hg{constructor(e,t,s){this.Mu=e,this.localStore=t,this.It=s,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=Dy(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.ku.namedQuery)this.queries.push(e.ku.namedQuery);else if(e.ku.documentMetadata){this.documents.push({metadata:e.ku.documentMetadata}),e.ku.documentMetadata.exists||++t;const s=$n.fromString(e.ku.documentMetadata.name);this.collectionGroups.add(s.get(s.length-2))}else e.ku.document&&(this.documents[this.documents.length-1].document=e.ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,s=new Ll(this.It);for(const l of e)if(l.metadata.queries){const d=s.Ji(l.metadata.name);for(const y of l.metadata.queries){const P=(t.get(y)||Dr()).add(d);t.set(y,P)}}return t}complete(){var e=this;return(0,xe.Z)(function*(){const t=yield function sy(i,e,t,s){return Hh.apply(this,arguments)}(e.localStore,new Ll(e.It),e.documents,e.Mu.id),s=e.$u(e.documents);for(const l of e.queries)yield oy(e.localStore,l,s.get(l.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function Dy(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class fg{constructor(e){this.key=e}}class nf{constructor(e){this.key=e}}class pg{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Dr(),this.mutatedKeys=Dr(),this.Gu=bh(e),this.Qu=new Ru(this.Gu)}get ju(){return this.Uu}Wu(e,t){const s=t?t.zu:new cg,l=t?t.Qu:this.Qu;let d=t?t.mutatedKeys:this.mutatedKeys,y=l,P=!1;const q="F"===this.query.limitType&&l.size===this.query.limit?l.last():null,J="L"===this.query.limitType&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal((de,ke)=>{const it=l.get(de),Tt=Cl(this.query,ke)?ke:null,Vt=!!it&&this.mutatedKeys.has(it.key),fn=!!Tt&&(Tt.hasLocalMutations||this.mutatedKeys.has(Tt.key)&&Tt.hasCommittedMutations);let En=!1;it&&Tt?it.data.isEqual(Tt.data)?Vt!==fn&&(s.track({type:3,doc:Tt}),En=!0):this.Hu(it,Tt)||(s.track({type:2,doc:Tt}),En=!0,(q&&this.Gu(Tt,q)>0||J&&this.Gu(Tt,J)<0)&&(P=!0)):!it&&Tt?(s.track({type:0,doc:Tt}),En=!0):it&&!Tt&&(s.track({type:1,doc:it}),En=!0,(q||J)&&(P=!0)),En&&(Tt?(y=y.add(Tt),d=fn?d.add(de):d.delete(de)):(y=y.delete(de),d=d.delete(de)))}),null!==this.query.limit)for(;y.size>this.query.limit;){const de="F"===this.query.limitType?y.last():y.first();y=y.delete(de.key),d=d.delete(de.key),s.track({type:1,doc:de})}return{Qu:y,zu:s,$i:P,mutatedKeys:d}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s){const l=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const d=e.zu.Eu();d.sort((J,de)=>function(ke,it){const Tt=Vt=>{switch(Vt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return cn()}};return Tt(ke)-Tt(it)}(J.type,de.type)||this.Gu(J.doc,de.doc)),this.Ju(s);const y=t?this.Yu():[],P=0===this.Ku.size&&this.current?1:0,q=P!==this.qu;return this.qu=P,0!==d.length||q?{snapshot:new Fc(this.query,e.Qu,l,d,e.mutatedKeys,0===P,q,!1,!!s&&s.resumeToken.approximateByteSize()>0),Xu:y}:{Xu:y}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new cg,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Dr(),this.Qu.forEach(s=>{this.Zu(s.key)&&(this.Ku=this.Ku.add(s.key))});const t=[];return e.forEach(s=>{this.Ku.has(s)||t.push(new nf(s))}),this.Ku.forEach(s=>{e.has(s)||t.push(new fg(s))}),t}tc(e){this.Uu=e.Hi,this.Ku=Dr();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Fc.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class gg{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class e0{constructor(e){this.key=e,this.nc=!1}}class hu{constructor(e,t,s,l,d,y){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=l,this.currentUser=d,this.maxConcurrentLimboResolutions=y,this.sc={},this.ic=new gl(P=>Eh(P),Zl),this.rc=new Map,this.oc=new Set,this.uc=new Gr(sn.comparator),this.cc=new Map,this.ac=new Sd,this.hc={},this.lc=new Map,this.fc=xu.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function Ty(i,e){return mg.apply(this,arguments)}function mg(){return mg=(0,xe.Z)(function*(i,e){const t=xg(i);let s,l;const d=t.ic.get(e);if(d)s=d.targetId,t.sharedClientState.addLocalQueryTarget(s),l=d.view.ec();else{const y=yield Ac(t.localStore,Mo(e));t.isPrimaryClient&&Zh(t.remoteStore,y);const P=t.sharedClientState.addLocalQueryTarget(y.targetId);s=y.targetId,l=yield yg(t,e,s,"current"===P,y.resumeToken)}return l}),mg.apply(this,arguments)}function yg(i,e,t,s,l){return rf.apply(this,arguments)}function rf(){return rf=(0,xe.Z)(function*(i,e,t,s,l){i._c=(ke,it,Tt)=>{return(Vt=(0,xe.Z)(function*(fn,En,Wr,Ii){let qr=En.view.Wu(Wr);qr.$i&&(qr=yield jh(fn.localStore,En.query,!1).then(({documents:Kr})=>En.view.Wu(Kr,qr)));const $r=Ii&&Ii.targetChanges.get(En.targetId),Br=En.view.applyChanges(qr,fn.isPrimaryClient,$r);return hf(fn,En.targetId,Br.Xu),Br.snapshot}),function(fn,En,Wr,Ii){return Vt.apply(this,arguments)})(i,ke,it,Tt);var Vt};const d=yield jh(i.localStore,e,!0),y=new pg(e,d.Hi),P=y.Wu(d.documents),q=Sl.createSynthesizedTargetChangeForCurrentChange(t,s&&"Offline"!==i.onlineState,l),J=y.applyChanges(P,i.isPrimaryClient,q);hf(i,t,J.Xu);const de=new gg(e,t,y);return i.ic.set(e,de),i.rc.has(t)?i.rc.get(t).push(e):i.rc.set(t,[e]),J.snapshot}),rf.apply(this,arguments)}function t0(i,e){return vg.apply(this,arguments)}function vg(){return vg=(0,xe.Z)(function*(i,e){const t=Zt(i),s=t.ic.get(e),l=t.rc.get(s.targetId);if(l.length>1)return t.rc.set(s.targetId,l.filter(d=>!Zl(d,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(s.targetId),t.sharedClientState.isActiveQueryTarget(s.targetId)||(yield Mc(t.localStore,s.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(s.targetId),Oc(t.remoteStore,s.targetId),ku(t,s.targetId)}).catch(Na))):(ku(t,s.targetId),yield Mc(t.localStore,s.targetId,!0))}),vg.apply(this,arguments)}function fu(){return fu=(0,xe.Z)(function*(i,e,t){const s=Ry(i);try{const l=yield function(d,y){const P=Zt(d),q=Jr.now(),J=y.reduce((it,Tt)=>it.add(Tt.key),Dr());let de,ke;return P.persistence.runTransaction("Locally write mutations","readwrite",it=>{let Tt=ra(),Vt=Dr();return P.Gi.getEntries(it,J).next(fn=>{Tt=fn,Tt.forEach((En,Wr)=>{Wr.isValidDocument()||(Vt=Vt.add(En))})}).next(()=>P.localDocuments.getOverlayedDocuments(it,Tt)).next(fn=>{de=fn;const En=[];for(const Wr of y){const Ii=Ch(Wr,de.get(Wr.key).overlayedDocument);null!=Ii&&En.push(new Ca(Wr.key,Ii,Xa(Ii.value.mapValue),Ni.exists(!0)))}return P.mutationQueue.addMutationBatch(it,q,En,y)}).next(fn=>{ke=fn;const En=fn.applyToLocalDocumentSet(de,Vt);return P.documentOverlayCache.saveOverlays(it,fn.batchId,En)})}).then(()=>({batchId:ke.batchId,changes:Dl(de)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),function(d,y,P){let q=d.hc[d.currentUser.toKey()];q||(q=new Gr(Kn)),q=q.insert(y,P),d.hc[d.currentUser.toKey()]=q}(s,l.batchId,t),yield ro(s,l.changes),yield du(s.remoteStore)}catch(l){const d=Rd(l,"Failed to persist write");t.reject(d)}}),fu.apply(this,arguments)}function af(i,e){return pu.apply(this,arguments)}function pu(){return pu=(0,xe.Z)(function*(i,e){const t=Zt(i);try{const s=yield ty(t.localStore,e);e.targetChanges.forEach((l,d)=>{const y=t.cc.get(d);y&&(Tn(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?y.nc=!0:l.modifiedDocuments.size>0?Tn(y.nc):l.removedDocuments.size>0&&(Tn(y.nc),y.nc=!1))}),yield ro(t,s,e)}catch(s){yield Na(s)}}),pu.apply(this,arguments)}function lf(i,e,t){const s=Zt(i);if(s.isPrimaryClient&&0===t||!s.isPrimaryClient&&1===t){const l=[];s.ic.forEach((d,y)=>{const P=y.view.bu(e);P.snapshot&&l.push(P.snapshot)}),function(d,y){const P=Zt(d);P.onlineState=y;let q=!1;P.queries.forEach((J,de)=>{for(const ke of de.listeners)ke.bu(y)&&(q=!0)}),q&&Cy(P)}(s.eventManager,e),l.length&&s.sc.Wo(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}function uf(i,e,t){return cf.apply(this,arguments)}function cf(){return cf=(0,xe.Z)(function*(i,e,t){const s=Zt(i);s.sharedClientState.updateQueryState(e,"rejected",t);const l=s.cc.get(e),d=l&&l.key;if(d){let y=new Gr(sn.comparator);y=y.insert(d,ni.newNoDocument(d,bn.min()));const P=Dr().add(d),q=new lc(bn.min(),new Map,new T(Kn),y,P);yield af(s,q),s.uc=s.uc.remove(d),s.cc.delete(e),Cg(s)}else yield Mc(s.localStore,e,!1).then(()=>ku(s,e,t)).catch(Na)}),cf.apply(this,arguments)}function Sy(i,e){return kd.apply(this,arguments)}function kd(){return kd=(0,xe.Z)(function*(i,e){const t=Zt(i),s=e.batch.batchId;try{const l=yield il(t.localStore,e);Ig(t,s,null),Ay(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),yield ro(t,l)}catch(l){yield Na(l)}}),kd.apply(this,arguments)}function _g(i,e,t){return df.apply(this,arguments)}function df(){return df=(0,xe.Z)(function*(i,e,t){const s=Zt(i);try{const l=yield function(d,y){const P=Zt(d);return P.persistence.runTransaction("Reject batch","readwrite-primary",q=>{let J;return P.mutationQueue.lookupMutationBatch(q,y).next(de=>(Tn(null!==de),J=de.keys(),P.mutationQueue.removeMutationBatch(q,de))).next(()=>P.mutationQueue.performConsistencyCheck(q)).next(()=>P.documentOverlayCache.removeOverlaysForBatchId(q,J,y)).next(()=>P.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(q,J)).next(()=>P.localDocuments.getDocuments(q,J))})}(s.localStore,e);Ig(s,e,t),Ay(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),yield ro(s,l)}catch(l){yield Na(l)}}),df.apply(this,arguments)}function bg(){return bg=(0,xe.Z)(function*(i,e){const t=Zt(i);cu(t.remoteStore)||Dt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const s=yield function(d){const y=Zt(d);return y.persistence.runTransaction("Get highest unacknowledged batch id","readonly",P=>y.mutationQueue.getHighestUnacknowledgedBatchId(P))}(t.localStore);if(-1===s)return void e.resolve();const l=t.lc.get(s)||[];l.push(e),t.lc.set(s,l)}catch(s){const l=Rd(s,"Initialization of waitForPendingWrites() operation failed");e.reject(l)}}),bg.apply(this,arguments)}function Ay(i,e){(i.lc.get(e)||[]).forEach(t=>{t.resolve()}),i.lc.delete(e)}function Ig(i,e,t){const s=Zt(i);let l=s.hc[s.currentUser.toKey()];if(l){const d=l.get(e);d&&(t?d.reject(t):d.resolve(),l=l.remove(e)),s.hc[s.currentUser.toKey()]=l}}function ku(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.rc.get(e))i.ic.delete(s),t&&i.sc.wc(s,t);i.rc.delete(e),i.isPrimaryClient&&i.ac.ls(e).forEach(s=>{i.ac.containsKey(s)||My(i,s)})}function My(i,e){i.oc.delete(e.path.canonicalString());const t=i.uc.get(e);null!==t&&(Oc(i.remoteStore,t),i.uc=i.uc.remove(e),i.cc.delete(t),Cg(i))}function hf(i,e,t){for(const s of t)s instanceof fg?(i.ac.addReference(s.key,e),xy(i,s)):s instanceof nf?(Dt("SyncEngine","Document no longer in limbo: "+s.key),i.ac.removeReference(s.key,e),i.ac.containsKey(s.key)||My(i,s.key)):cn()}function xy(i,e){const t=e.key,s=t.path.canonicalString();i.uc.get(t)||i.oc.has(s)||(Dt("SyncEngine","New document in limbo: "+t),i.oc.add(s),Cg(i))}function Cg(i){for(;i.oc.size>0&&i.uc.size<i.maxConcurrentLimboResolutions;){const e=i.oc.values().next().value;i.oc.delete(e);const t=new sn($n.fromString(e)),s=i.fc.next();i.cc.set(s,new e0(t)),i.uc=i.uc.insert(t,s),Zh(i.remoteStore,new xl(Mo(pl(t.path)),s,2,qs.at))}}function ro(i,e,t){return ff.apply(this,arguments)}function ff(){return ff=(0,xe.Z)(function*(i,e,t){const s=Zt(i),l=[],d=[],y=[];var P;s.ic.isEmpty()||(s.ic.forEach((P,q)=>{y.push(s._c(q,e,t).then(J=>{if((J||t)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(q.targetId,J?.fromCache?"not-current":"current"),J){l.push(J);const de=Xm.Ci(q.targetId,J);d.push(de)}}))}),yield Promise.all(y),s.sc.Wo(l),yield(P=(0,xe.Z)(function*(q,J){const de=Zt(q);try{yield de.persistence.runTransaction("notifyLocalViewChanges","readwrite",ke=>rt.forEach(J,it=>rt.forEach(it.Si,Tt=>de.persistence.referenceDelegate.addReference(ke,it.targetId,Tt)).next(()=>rt.forEach(it.Di,Tt=>de.persistence.referenceDelegate.removeReference(ke,it.targetId,Tt)))))}catch(ke){if(!ws(ke))throw ke;Dt("LocalStore","Failed to update sequence numbers: "+ke)}for(const ke of J){const it=ke.targetId;if(!ke.fromCache){const Tt=de.Ui.get(it),fn=Tt.withLastLimboFreeSnapshotVersion(Tt.snapshotVersion);de.Ui=de.Ui.insert(it,fn)}}}),function(q,J){return P.apply(this,arguments)})(s.localStore,d))}),ff.apply(this,arguments)}function n0(i,e){return Py.apply(this,arguments)}function Py(){return Py=(0,xe.Z)(function*(i,e){const t=Zt(i);if(!t.currentUser.isEqual(e)){Dt("SyncEngine","User change. New user:",e.toKey());const s=yield Jm(t.localStore,e);t.currentUser=e,(l=t).lc.forEach(y=>{y.forEach(P=>{P.reject(new xt(ht.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),l.lc.clear(),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),yield ro(t,s.ji)}var l}),Py.apply(this,arguments)}function r0(i,e){const t=Zt(i),s=t.cc.get(e);if(s&&s.nc)return Dr().add(s.key);{let l=Dr();const d=t.rc.get(e);if(!d)return l;for(const y of d){const P=t.ic.get(y);l=l.unionWith(P.view.ju)}return l}}function wg(i,e){return pf.apply(this,arguments)}function pf(){return pf=(0,xe.Z)(function*(i,e){const t=Zt(i),s=yield jh(t.localStore,e.query,!0),l=e.view.tc(s);return t.isPrimaryClient&&hf(t,e.targetId,l.Xu),l}),pf.apply(this,arguments)}function s0(i,e){return Dg.apply(this,arguments)}function Dg(){return Dg=(0,xe.Z)(function*(i,e){const t=Zt(i);return iy(t.localStore,e).then(s=>ro(t,s))}),Dg.apply(this,arguments)}function o0(i,e,t,s){return gf.apply(this,arguments)}function gf(){return gf=(0,xe.Z)(function*(i,e,t,s){const l=Zt(i),d=yield function(y,P){const q=Zt(y),J=Zt(q.mutationQueue);return q.persistence.runTransaction("Lookup mutation documents","readonly",de=>J.Tn(de,P).next(ke=>ke?q.localDocuments.getDocuments(de,ke):rt.resolve(null)))}(l.localStore,e);var P;null!==d?("pending"===t?yield du(l.remoteStore):"acknowledged"===t||"rejected"===t?(Ig(l,e,s||null),Ay(l,e),P=e,Zt(Zt(l.localStore).mutationQueue).An(P)):cn(),yield ro(l,d)):Dt("SyncEngine","Cannot apply mutation batch with id: "+e)}),gf.apply(this,arguments)}function mf(){return mf=(0,xe.Z)(function*(i,e){const t=Zt(i);if(xg(t),Ry(t),!0===e&&!0!==t.dc){const s=t.sharedClientState.getAllActiveQueryTargets(),l=yield Ny(t,s.toArray());t.dc=!0,yield ag(t.remoteStore,!0);for(const d of l)Zh(t.remoteStore,d)}else if(!1===e&&!1!==t.dc){const s=[];let l=Promise.resolve();t.rc.forEach((d,y)=>{t.sharedClientState.isLocalQueryTarget(y)?s.push(y):l=l.then(()=>(ku(t,y),Mc(t.localStore,y,!0))),Oc(t.remoteStore,y)}),yield l,yield Ny(t,s),function(d){const y=Zt(d);y.cc.forEach((P,q)=>{Oc(y.remoteStore,q)}),y.ac.fs(),y.cc=new Map,y.uc=new Gr(sn.comparator)}(t),t.dc=!1,yield ag(t.remoteStore,!1)}}),mf.apply(this,arguments)}function Ny(i,e,t){return Tg.apply(this,arguments)}function Tg(){return Tg=(0,xe.Z)(function*(i,e,t){const s=Zt(i),l=[],d=[];for(const y of e){let P;const q=s.rc.get(y);if(q&&0!==q.length){P=yield Ac(s.localStore,Mo(q[0]));for(const J of q){const de=s.ic.get(J),ke=yield wg(s,de);ke.snapshot&&d.push(ke.snapshot)}}else{const J=yield ry(s.localStore,y);P=yield Ac(s.localStore,J),yield yg(s,Sg(J),y,!1,P.resumeToken)}l.push(P)}return s.sc.Wo(d),l}),Tg.apply(this,arguments)}function Sg(i){return Wl(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function Oy(i){const e=Zt(i);return Zt(Zt(e.localStore).persistence).vi()}function l0(i,e,t,s){return Ha.apply(this,arguments)}function Ha(){return Ha=(0,xe.Z)(function*(i,e,t,s){const l=Zt(i);if(l.dc)return void Dt("SyncEngine","Ignoring unexpected query state notification.");const d=l.rc.get(e);if(d&&d.length>0)switch(t){case"current":case"not-current":{const y=yield iy(l.localStore,rd(d[0])),P=lc.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,me.EMPTY_BYTE_STRING);yield ro(l,y,P);break}case"rejected":yield Mc(l.localStore,e,!0),ku(l,e,s);break;default:cn()}}),Ha.apply(this,arguments)}function Ag(i,e,t){return Mg.apply(this,arguments)}function Mg(){return Mg=(0,xe.Z)(function*(i,e,t){const s=xg(i);if(s.dc){for(const l of e){if(s.rc.has(l)){Dt("SyncEngine","Adding an already active target "+l);continue}const d=yield ry(s.localStore,l),y=yield Ac(s.localStore,d);yield yg(s,Sg(d),y.targetId,!1,y.resumeToken),Zh(s.remoteStore,y)}for(const l of t)s.rc.has(l)&&(yield Mc(s.localStore,l,!1).then(()=>{Oc(s.remoteStore,l),ku(s,l)}).catch(Na))}}),Mg.apply(this,arguments)}function xg(i){const e=Zt(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=af.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=r0.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uf.bind(null,e),e.sc.Wo=XE.bind(null,e.eventManager),e.sc.wc=JE.bind(null,e.eventManager),e}function Ry(i){const e=Zt(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Sy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_g.bind(null,e),e}class Ly{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,xe.Z)(function*(){t.It=xd(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return Wp(this.persistence,new Gp,e.initialUser,this.It)}yc(e){return new Bp(lu.Bs,this.It)}gc(e){return new uu}terminate(){var e=this;return(0,xe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Fy extends Ly{constructor(e,t,s){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=s,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,s=this;return(0,xe.Z)(function*(){yield t().call(s,e),yield s.Ac.initialize(s,e),yield Ry(s.Ac.syncEngine),yield du(s.Ac.remoteStore),yield s.persistence.li(()=>(s.gcScheduler&&!s.gcScheduler.started&&s.gcScheduler.start(),s.indexBackfillerScheduler&&!s.indexBackfillerScheduler.started&&s.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return Wp(this.persistence,new Gp,e.initialUser,this.It)}Tc(e,t){return new Rp(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const s=new Qu(t,this.persistence);return new dl(e.asyncQueue,s)}yc(e){const t=Bh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),s=void 0!==this.cacheSizeBytes?sa.withCacheSize(this.cacheSizeBytes):sa.DEFAULT;return new zp(this.synchronizeTabs,t,e.clientId,s,e.asyncQueue,q_(),Xp(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new uu}}class u0 extends Fy{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,s=this;return(0,xe.Z)(function*(){yield t().call(s,e);const l=s.Ac.syncEngine;s.sharedClientState instanceof Wh&&(s.sharedClientState.syncEngine={Fr:o0.bind(null,l),$r:l0.bind(null,l),Br:Ag.bind(null,l),vi:Oy.bind(null,l),Mr:s0.bind(null,l)},yield s.sharedClientState.start()),yield s.persistence.li(function(){var d=(0,xe.Z)(function*(y){yield function a0(i,e){return mf.apply(this,arguments)}(s.Ac.syncEngine,y),s.gcScheduler&&(y&&!s.gcScheduler.started?s.gcScheduler.start():y||s.gcScheduler.stop()),s.indexBackfillerScheduler&&(y&&!s.indexBackfillerScheduler.started?s.indexBackfillerScheduler.start():y||s.indexBackfillerScheduler.stop())});return function(y){return d.apply(this,arguments)}}())})()}gc(e){const t=q_();if(!Wh.C(t))throw new xt(ht.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const s=Bh(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Wh(t,e.asyncQueue,s,e.clientId,e.initialUser)}}class Ld{initialize(e,t){var s=this;return(0,xe.Z)(function*(){s.localStore||(s.localStore=e.localStore,s.sharedClientState=e.sharedClientState,s.datastore=s.createDatastore(t),s.remoteStore=s.createRemoteStore(t),s.eventManager=s.createEventManager(t),s.syncEngine=s.createSyncEngine(t,!e.synchronizeTabs),s.sharedClientState.onlineStateHandler=l=>lf(s.syncEngine,l,1),s.remoteStore.remoteSyncer.handleCredentialChange=n0.bind(null,s.syncEngine),yield ag(s.remoteStore,s.syncEngine.isPrimaryClient))})()}createEventManager(e){return new QE}createDatastore(e){const t=xd(e.databaseInfo.databaseId),s=new YE(e.databaseInfo);return new Y_(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return t=this.localStore,s=this.datastore,l=e.asyncQueue,d=P=>lf(this.syncEngine,P,0),y=qh.C()?new qh:new G_,new cy(t,s,l,d,y);var t,s,l,d,y}createSyncEngine(e,t){return function(s,l,d,y,P,q,J){const de=new hu(s,l,d,y,P,q);return J&&(de.dc=!0),de}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,xe.Z)(function*(t){const s=Zt(t);Dt("RemoteStore","RemoteStore shutting down."),s._u.add(5),yield Nc(s),s.mu.shutdown(),s.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function Pg(i,e,t){if(!t)throw new xt(ht.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Vy(i,e,t,s){if(!0===e&&!0===s)throw new xt(ht.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Fd(i){if(!sn.isDocumentKey(i))throw new xt(ht.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function yf(i){if(sn.isDocumentKey(i))throw new xt(ht.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Lu(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":cn()}function ui(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new xt(ht.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Lu(i);throw new xt(ht.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function vf(i,e){if(e<=0)throw new xt(ht.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}const c0=new Map;class Ng{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new xt(ht.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new xt(ht.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Vy("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Vc{constructor(e,t,s,l){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ng({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new xt(ht.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new xt(ht.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ng(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new To;switch(t.type){case"gapi":return new Rn(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new xt(ht.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=c0.get(e);t&&(Dt("ComponentProvider","Removing Datastore"),c0.delete(e),t.terminate())}(this),Promise.resolve()}}class vs{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vs(this.firestore,e,this._key)}}class Ho{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Ho(this.firestore,e,this._query)}}class zo extends Ho{constructor(e,t,s){super(e,t,pl(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vs(this.firestore,null,new sn(e))}withConverter(e){return new zo(this.firestore,e,this._path)}}function Vd(i,e,...t){if(i=(0,Et.m9)(i),Pg("collection","path",e),i instanceof Vc){const s=$n.fromString(e,...t);return yf(s),new zo(i,null,s)}{if(!(i instanceof vs||i instanceof zo))throw new xt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child($n.fromString(e,...t));return yf(s),new zo(i.firestore,null,s)}}function gu(i,e,...t){if(i=(0,Et.m9)(i),1===arguments.length&&(e=$i.R()),Pg("doc","path",e),i instanceof Vc){const s=$n.fromString(e,...t);return Fd(s),new vs(i,null,new sn(s))}{if(!(i instanceof vs||i instanceof zo))throw new xt(ht.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child($n.fromString(e,...t));return Fd(s),new vs(i.firestore,i instanceof zo?i.converter:null,new sn(s))}}function $y(i,e){return i=(0,Et.m9)(i),e=(0,Et.m9)(e),(i instanceof vs||i instanceof zo)&&(e instanceof vs||e instanceof zo)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function $d(i,e){return i=(0,Et.m9)(i),e=(0,Et.m9)(e),i instanceof Ho&&e instanceof Ho&&i.firestore===e.firestore&&Zl(i._query,e._query)&&i.converter===e.converter}function Rg(i,e=10240){let t=0;return{read:()=>(0,xe.Z)(function*(){if(t<i.byteLength){const s={value:i.slice(t,t+e),done:!1};return t+=e,s}return{done:!0}})(),cancel:()=>(0,xe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Ef{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):sr("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class d0{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new Di,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(s=>{s&&s.Ou()?this.metadata.resolve(s.ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(s?.ku)}`))},s=>this.metadata.reject(s))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,xe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,xe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,xe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const s=e.vc.decode(t),l=Number(s);isNaN(l)&&e.Dc(`length string (${s}) is not valid number`);const d=yield e.Cc(l);return new eb(JSON.parse(d),t.length+l)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,xe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const s=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),s})()}Cc(e){var t=this;return(0,xe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const s=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),s})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,xe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const s=new Uint8Array(e.buffer.length+t.value.length);s.set(e.buffer),s.set(t.value,e.buffer.length),e.buffer=s}return t.done})()}}class f0{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,xe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new xt(ht.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const s=yield(l=(0,xe.Z)(function*(d,y){const P=Zt(d),q=ga(P.It)+"/documents",J={documents:y.map(Tt=>Ds(P.It,Tt))},de=yield P._o("BatchGetDocuments",q,J,y.length),ke=new Map;de.forEach(Tt=>{const Vt=function mp(i,e){return"found"in e?function(t,s){Tn(!!s.found);const l=Da(t,s.found.name),d=_o(s.found.updateTime),y=new us({mapValue:{fields:s.found.fields}});return ni.newFoundDocument(l,d,y)}(i,e):"missing"in e?function(t,s){Tn(!!s.missing),Tn(!!s.readTime);const l=Da(t,s.missing),d=_o(s.readTime);return ni.newNoDocument(l,d)}(i,e):cn()}(P.It,Tt);ke.set(Vt.key.toString(),Vt)});const it=[];return y.forEach(Tt=>{const Vt=ke.get(Tt.toString());Tn(!!Vt),it.push(Vt)}),it}),function(d,y){return l.apply(this,arguments)})(t.datastore,e);var l;return s.forEach(l=>t.recordVersion(l)),s})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(s){this.lastWriteError=s}this.writtenDocs.add(e.toString())}delete(e){this.write(new cs(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,xe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var s;e.mutations.forEach(s=>{t.delete(s.key.toString())}),t.forEach((s,l)=>{const d=sn.fromPath(l);e.mutations.push(new Xl(d,e.precondition(d)))}),yield(s=(0,xe.Z)(function*(l,d){const y=Zt(l),P=ga(y.It)+"/documents",q={writes:d.map(J=>gc(y.It,J))};yield y.ao("Commit",P,q)}),function(l,d){return s.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw cn();t=bn.min()}const s=this.readVersions.get(e.key.toString());if(s){if(!t.isEqual(s))throw new xt(ht.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(bn.min())?Ni.exists(!1):Ni.updateTime(t):Ni.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(bn.min()))throw new xt(ht.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ni.updateTime(t)}return Ni.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class nb{constructor(e,t,s,l,d){this.asyncQueue=e,this.datastore=t,this.options=s,this.updateFunction=l,this.deferred=d,this.kc=s.maxAttempts,this.xo=new Kh(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.xo.Ro((0,xe.Z)(function*(){const t=new f0(e.datastore),s=e.Mc(t);s&&s.then(l=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(l)}).catch(d=>{e.Fc(d)}))}).catch(l=>{e.Fc(l)})}))}Mc(e){try{const t=this.updateFunction(e);return!Fs(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!cd(t)}return!1}}class p0{constructor(e,t,s,l){var d=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=l,this.user=Mn.UNAUTHENTICATED,this.clientId=$i.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,function(){var y=(0,xe.Z)(function*(P){Dt("FirestoreClient","Received user=",P.uid),yield d.authCredentialListener(P),d.user=P});return function(P){return y.apply(this,arguments)}}()),this.appCheckCredentials.start(s,y=>(Dt("FirestoreClient","Received new app check token=",y),this.appCheckCredentialListener(y,this.user)))}getConfiguration(){var e=this;return(0,xe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new xt(ht.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(s){const l=Rd(s,"Failed to shutdown persistence");t.reject(l)}})),t.promise}}function By(i,e){return kg.apply(this,arguments)}function kg(){return kg=(0,xe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),Dt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let s=t.initialUser;i.setCredentialChangeListener(function(){var l=(0,xe.Z)(function*(d){s.isEqual(d)||(yield Jm(e.localStore,d),s=d)});return function(d){return l.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),kg.apply(this,arguments)}function Lg(i,e){return Bd.apply(this,arguments)}function Bd(){return Bd=(0,xe.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Fg(i);Dt("FirestoreClient","Initializing OnlineComponentProvider");const s=yield i.getConfiguration();yield e.initialize(t,s),i.setCredentialChangeListener(l=>vy(e.remoteStore,l)),i.setAppCheckTokenChangeListener((l,d)=>vy(e.remoteStore,d)),i.onlineComponents=e}),Bd.apply(this,arguments)}function Fg(i){return Ud.apply(this,arguments)}function Ud(){return Ud=(0,xe.Z)(function*(i){return i.offlineComponents||(Dt("FirestoreClient","Using default OfflineComponentProvider"),yield By(i,new Ly)),i.offlineComponents}),Ud.apply(this,arguments)}function If(i){return Vg.apply(this,arguments)}function Vg(){return Vg=(0,xe.Z)(function*(i){return i.onlineComponents||(Dt("FirestoreClient","Using default OnlineComponentProvider"),yield Lg(i,new Ld)),i.onlineComponents}),Vg.apply(this,arguments)}function Uy(i){return Fg(i).then(e=>e.persistence)}function Cf(i){return Fg(i).then(e=>e.localStore)}function $g(i){return If(i).then(e=>e.remoteStore)}function Bg(i){return If(i).then(e=>e.syncEngine)}function za(i){return jy.apply(this,arguments)}function jy(){return jy=(0,xe.Z)(function*(i){const e=yield If(i),t=e.eventManager;return t.onListen=Ty.bind(null,e.syncEngine),t.onUnlisten=t0.bind(null,e.syncEngine),t}),jy.apply(this,arguments)}function wf(i,e,t={}){const s=new Di;return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(l,d,y,P,q){const J=new Ef({next:ke=>{d.enqueueAndForget(()=>by(l,de));const it=ke.docs.has(y);!it&&ke.fromCache?q.reject(new xt(ht.UNAVAILABLE,"Failed to get document because the client is offline.")):it&&ke.fromCache&&P&&"server"===P.source?q.reject(new xt(ht.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):q.resolve(ke)},error:ke=>q.reject(ke)}),de=new wy(pl(y.path),J,{includeMetadataChanges:!0,Nu:!0});return _y(l,de)}(yield za(i),i.asyncQueue,e,t,s)})),s.promise}function ol(i,e,t={}){const s=new Di;return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(l,d,y,P,q){const J=new Ef({next:ke=>{d.enqueueAndForget(()=>by(l,de)),ke.fromCache&&"server"===P.source?q.reject(new xt(ht.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):q.resolve(ke)},error:ke=>q.reject(ke)}),de=new wy(y,J,{includeMetadataChanges:!0,Nu:!0});return _y(l,de)}(yield za(i),i.asyncQueue,e,t,s)})),s.promise}class Df{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new Kh(this,"async_queue_retry"),this.Wc=()=>{const t=Xp();t&&Dt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=Xp();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=Xp();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new Di;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,xe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!ws(t))throw t;Dt("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(s=>{throw this.Kc=s,this.Gc=!1,sr("INTERNAL UNHANDLED ERROR: ",function(d){let y=d.message||"";return d.stack&&(y=d.stack.includes(d.message)?d.stack:d.message+"\n"+d.stack),y}(s)),s}).then(s=>(this.Gc=!1,s))));return this.Bc=t,t}enqueueAfterDelay(e,t,s){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const l=ug.createAndSchedule(this,e,t,s,d=>this.Yc(d));return this.qc.push(l),l}zc(){this.Kc&&cn()}verifyOperationInProgress(){}Xc(){var e=this;return(0,xe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,s)=>t.targetTimeMs-s.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function Sa(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const s=e;for(const l of["next","error","complete"])if(l in s&&"function"==typeof s[l])return!0;return!1}(i)}class Ug{constructor(){this._progressObserver={},this._taskCompletionResolver=new Di,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,s){this._progressObserver={next:e,error:t,complete:s}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Oi extends Vc{constructor(e,t,s,l){super(e,t,s,l),this.type="firestore",this._queue=new Df,this._persistenceKey=l?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||Vu(this),this._firestoreClient.terminate()}}function _s(i){return i._firestoreClient||Vu(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function Vu(i){var e;const t=i._freezeSettings(),s=(d=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new jo(i._databaseId,d,i._persistenceKey,(P=t).host,P.ssl,P.experimentalForceLongPolling,P.experimentalAutoDetectLongPolling,P.useFetchStreams));var d,P;i._firestoreClient=new p0(i._authCredentials,i._appCheckCredentials,i._queue,s)}function $u(i,e,t){const s=new Di;return i.asyncQueue.enqueue((0,xe.Z)(function*(){try{yield By(i,t),yield Lg(i,e),s.resolve()}catch(l){const d=l;if(!("FirebaseError"===(y=d).name?y.code===ht.FAILED_PRECONDITION||y.code===ht.UNIMPLEMENTED:!(typeof DOMException<"u"&&y instanceof DOMException)||22===y.code||20===y.code||11===y.code))throw d;cr("Error enabling offline persistence. Falling back to persistence disabled: "+d),s.reject(d)}var y})).then(()=>s.promise)}function jg(i){if(i._initialized||i._terminated)throw new xt(ht.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class al{constructor(e){this._byteString=e}static fromBase64String(e){try{return new al(me.fromBase64String(e))}catch(t){throw new xt(ht.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new al(me.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Fl{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new xt(ht.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class mu{constructor(e){this._methodName=e}}class Tf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new xt(ht.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new xt(ht.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Kn(this._lat,e._lat)||Kn(this._long,e._long)}}const Zy=/^__.*__$/;class Hg{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return null!==this.fieldMask?new Ca(e,this.data,this.fieldMask,t,this.fieldTransforms):new wl(e,this.data,t,this.fieldTransforms)}}class Sf{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Ca(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Yy(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw cn()}}class Bu{constructor(e,t,s,l,d,y){this.settings=e,this.databaseId=t,this.It=s,this.ignoreUndefinedProperties=l,void 0===d&&this.na(),this.fieldTransforms=d||[],this.fieldMask=y||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new Bu(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:s,oa:!1});return l.ua(e),l}ca(e){var t;const s=null===(t=this.path)||void 0===t?void 0:t.child(e),l=this.ia({path:s,oa:!1});return l.na(),l}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return Yd(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(Yy(this.sa)&&Zy.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Af{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=s||xd(e)}da(e,t,s,l=!1){return new Bu({sa:e,methodName:t,fa:s,path:Qr.emptyPath(),oa:!1,la:l},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function Vl(i){const e=i._freezeSettings(),t=xd(i._databaseId);return new Af(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Mf(i,e,t,s,l,d={}){const y=i.da(d.merge||d.mergeFields?2:0,e,t,l);Nf("Data must be an object, but it was:",y,s);const P=Wg(s,y);let q,J;if(d.merge)q=new G(y.fieldMask),J=y.fieldTransforms;else if(d.mergeFields){const de=[];for(const ke of d.mergeFields){const it=Of(e,ke,t);if(!y.contains(it))throw new xt(ht.INVALID_ARGUMENT,`Field '${it}' is specified in your field mask but missing from your input data.`);Kg(de,it)||de.push(it)}q=new G(de),J=y.fieldTransforms.filter(ke=>q.covers(ke.field))}else q=null,J=y.fieldTransforms;return new Hg(new us(P),q,J)}class yu extends mu{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yu}}function qd(i,e,t){return new Bu({sa:3,fa:e.settings.fa,methodName:i._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class xf extends mu{_toFieldTransform(e){return new Yl(e.path,new Ia)}isEqual(e){return e instanceof xf}}class Qy extends mu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=qd(this,e,!0),s=this._a.map(d=>Uu(d,t)),l=new tl(s);return new Yl(e.path,l)}isEqual(e){return this===e}}class zg extends mu{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=qd(this,e,!0),s=this._a.map(d=>Uu(d,t)),l=new pa(s);return new Yl(e.path,l)}isEqual(e){return this===e}}class Xy extends mu{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new nl(e.It,ap(e.It,this.wa));return new Yl(e.path,t)}isEqual(e){return this===e}}function Pf(i,e,t,s){const l=i.da(1,e,t);Nf("Data must be an object, but it was:",l,s);const d=[],y=us.empty();Uo(s,(q,J)=>{const de=Zd(e,q,t);J=(0,Et.m9)(J);const ke=l.ca(de);if(J instanceof yu)d.push(de);else{const it=Uu(J,ke);null!=it&&(d.push(de),y.set(de,it))}});const P=new G(d);return new Sf(y,P,l.fieldTransforms)}function Kd(i,e,t,s,l,d){const y=i.da(1,e,t),P=[Of(e,s,t)],q=[l];if(d.length%2!=0)throw new xt(ht.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let it=0;it<d.length;it+=2)P.push(Of(e,d[it])),q.push(d[it+1]);const J=[],de=us.empty();for(let it=P.length-1;it>=0;--it)if(!Kg(J,P[it])){const Tt=P[it];let Vt=q[it];Vt=(0,Et.m9)(Vt);const fn=y.ca(Tt);if(Vt instanceof yu)J.push(Tt);else{const En=Uu(Vt,fn);null!=En&&(J.push(Tt),de.set(Tt,En))}}const ke=new G(J);return new Sf(de,ke,y.fieldTransforms)}function Gg(i,e,t,s=!1){return Uu(t,i.da(s?4:3,e))}function Uu(i,e){if(qg(i=(0,Et.m9)(i)))return Nf("Unsupported field value:",e,i),Wg(i,e);if(i instanceof mu)return function(t,s){if(!Yy(s.sa))throw s.ha(`${t._methodName}() can only be used with update() and set()`);if(!s.path)throw s.ha(`${t._methodName}() is not currently supported inside arrays`);const l=t._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,s){const l=[];let d=0;for(const y of t){let P=Uu(y,s.aa(d));null==P&&(P={nullValue:"NULL_VALUE"}),l.push(P),d++}return{arrayValue:{values:l}}}(i,e)}return function(t,s){if(null===(t=(0,Et.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return ap(s.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const l=Jr.fromDate(t);return{timestampValue:vo(s.It,l)}}if(t instanceof Jr){const l=new Jr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:vo(s.It,l)}}if(t instanceof Tf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof al)return{bytesValue:dc(s.It,t._byteString)};if(t instanceof vs){const l=s.databaseId,d=t.firestore._databaseId;if(!d.isEqual(l))throw s.ha(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:fd(t.firestore._databaseId||s.databaseId,t._key.path)}}throw s.ha(`Unsupported field value: ${Lu(t)}`)}(i,e)}function Wg(i,e){const t={};return Va(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(i,(s,l)=>{const d=Uu(l,e.ra(s));null!=d&&(t[s]=d)}),{mapValue:{fields:t}}}function qg(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Jr||i instanceof Tf||i instanceof al||i instanceof vs||i instanceof mu)}function Nf(i,e,t){if(!qg(t)||"object"!=typeof(s=t)||null===s||Object.getPrototypeOf(s)!==Object.prototype&&null!==Object.getPrototypeOf(s)){const s=Lu(t);throw e.ha("an object"===s?i+" a custom object":i+" "+s)}var s}function Of(i,e,t){if((e=(0,Et.m9)(e))instanceof Fl)return e._internalPath;if("string"==typeof e)return Zd(i,e);throw Yd("Field path arguments must be of type string or ",i,!1,void 0,t)}const _0=new RegExp("[~\\*/\\[\\]]");function Zd(i,e,t){if(e.search(_0)>=0)throw Yd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Fl(...e.split("."))._internalPath}catch{throw Yd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function Yd(i,e,t,s,l){const d=s&&!s.isEmpty(),y=void 0!==l;let P=`Function ${e}() called with invalid data`;t&&(P+=" (via `toFirestore()`)"),P+=". ";let q="";return(d||y)&&(q+=" (found",d&&(q+=` in field ${s}`),y&&(q+=` in document ${l}`),q+=")"),new xt(ht.INVALID_ARGUMENT,P+i+q)}function Kg(i,e){return i.some(t=>t.isEqual(e))}class ju{constructor(e,t,s,l,d){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=l,this._converter=d}get id(){return this._key.path.lastSegment()}get ref(){return new vs(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Jy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Qd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Jy extends ju{data(){return super.data()}}function Qd(i,e){return"string"==typeof e?Zd(i,e):e instanceof Fl?e._internalPath:e._delegate._internalPath}function Zg(i){if("L"===i.limitType&&0===i.explicitOrderBy.length)throw new xt(ht.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jc{}function $l(i,...e){for(const t of e)i=t._apply(i);return i}class ev extends jc{constructor(e,t,s){super(),this.ma=e,this.ga=t,this.ya=s,this.type="where"}_apply(e){const t=Vl(e.firestore),s=function(l,d,y,P,q,J,de){let ke;if(q.isKeyField()){if("array-contains"===J||"array-contains-any"===J)throw new xt(ht.INVALID_ARGUMENT,`Invalid Query. You can't perform '${J}' queries on documentId().`);if("in"===J||"not-in"===J){Qg(de,J);const Tt=[];for(const Vt of de)Tt.push(Yg(P,l,Vt));ke={arrayValue:{values:Tt}}}else ke=Yg(P,l,de)}else"in"!==J&&"not-in"!==J&&"array-contains-any"!==J||Qg(de,J),ke=Gg(y,"where",de,"in"===J||"not-in"===J);const it=Vs.create(q,J,ke);return function(Tt,Vt){if(Vt.dt()){const En=nc(Tt);if(null!==En&&!En.isEqual(Vt.field))throw new xt(ht.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${En.toString()}' and '${Vt.field.toString()}'`);const Wr=tc(Tt);null!==Wr&&Hu(0,Vt.field,Wr)}const fn=function(En,Wr){for(const Ii of En.filters)if(Wr.indexOf(Ii.op)>=0)return Ii.op;return null}(Tt,function(En){switch(En){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(Vt.op));if(null!==fn)throw new xt(ht.INVALID_ARGUMENT,fn===Vt.op?`Invalid query. You cannot use more than one '${Vt.op.toString()}' filter.`:`Invalid query. You cannot use '${Vt.op.toString()}' filters with '${fn.toString()}' filters.`)}(l,it),it}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new Ho(e.firestore,e.converter,function(l,d){const y=l.filters.concat([d]);return new fl(l.path,l.collectionGroup,l.explicitOrderBy.slice(),y,l.limit,l.limitType,l.startAt,l.endAt)}(e._query,s))}}class nv extends jc{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(s,l,d){if(null!==s.startAt)throw new xt(ht.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==s.endAt)throw new xt(ht.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const y=new hl(l,d);return function(P,q){if(null===tc(P)){const J=nc(P);null!==J&&Hu(0,J,q.field)}}(s,y),y}(e._query,this.ma,this.pa);return new Ho(e.firestore,e.converter,function(s,l){const d=s.explicitOrderBy.concat([l]);return new fl(s.path,s.collectionGroup,d,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}class rv extends jc{constructor(e,t,s){super(),this.type=e,this.Ia=t,this.Ta=s}_apply(e){return new Ho(e.firestore,e.converter,rc(e._query,this.Ia,this.Ta))}}class sv extends jc{constructor(e,t,s){super(),this.type=e,this.Ea=t,this.Aa=s}_apply(e){const t=uv(e,this.type,this.Ea,this.Aa);return new Ho(e.firestore,e.converter,(l=t,new fl((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,l,s.endAt)));var s,l}}class av extends jc{constructor(e,t,s){super(),this.type=e,this.Ea=t,this.Aa=s}_apply(e){const t=uv(e,this.type,this.Ea,this.Aa);return new Ho(e.firestore,e.converter,(l=t,new fl((s=e._query).path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),s.limit,s.limitType,s.startAt,l)));var s,l}}function uv(i,e,t,s){if(t[0]=(0,Et.m9)(t[0]),t[0]instanceof ju)return function(l,d,y,P,q){if(!P)throw new xt(ht.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${y}().`);const J=[];for(const de of Kl(l))if(de.field.isKeyField())J.push(Qe(d,P.key));else{const ke=P.data.field(de.field);if(vn(ke))throw new xt(ht.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+de.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===ke){const it=de.field.canonicalString();throw new xt(ht.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${it}' (used as the orderBy) does not exist.`)}J.push(ke)}return new fa(J,q)}(i._query,i.firestore._databaseId,e,t[0]._document,s);{const l=Vl(i.firestore);return function(d,y,P,q,J,de){const ke=d.explicitOrderBy;if(J.length>ke.length)throw new xt(ht.INVALID_ARGUMENT,`Too many arguments provided to ${q}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const it=[];for(let Tt=0;Tt<J.length;Tt++){const Vt=J[Tt];if(ke[Tt].field.isKeyField()){if("string"!=typeof Vt)throw new xt(ht.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${q}(), but got a ${typeof Vt}`);if(!ql(d)&&-1!==Vt.indexOf("/"))throw new xt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${q}() must be a plain document ID, but '${Vt}' contains a slash.`);const fn=d.path.child($n.fromString(Vt));if(!sn.isDocumentKey(fn))throw new xt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${q}() must result in a valid document path, but '${fn}' is not because it contains an odd number of segments.`);const En=new sn(fn);it.push(Qe(y,En))}else{const fn=Gg(P,q,Vt);it.push(fn)}}return new fa(it,de)}(i._query,i.firestore._databaseId,l,e,t,s)}}function Yg(i,e,t){if("string"==typeof(t=(0,Et.m9)(t))){if(""===t)throw new xt(ht.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ql(e)&&-1!==t.indexOf("/"))throw new xt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child($n.fromString(t));if(!sn.isDocumentKey(s))throw new xt(ht.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Qe(i,new sn(s))}if(t instanceof vs)return Qe(i,t._key);throw new xt(ht.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Lu(t)}.`)}function Qg(i,e){if(!Array.isArray(i)||0===i.length)throw new xt(ht.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new xt(ht.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function Hu(i,e,t){if(!t.isEqual(e))throw new xt(ht.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class Xg{convertValue(e,t="none"){switch(Ba(e)){case 0:return null;case 1:return e.booleanValue;case 2:return jt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qn(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw cn()}}convertObject(e,t){const s={};return Uo(e.fields,(l,d)=>{s[l]=this.convertValue(d,t)}),s}convertGeoPoint(e){return new Tf(jt(e.latitude),jt(e.longitude))}convertArray(e,t){return(e.values||[]).map(s=>this.convertValue(s,t))}convertServerTimestamp(e,t){switch(t){case"previous":const s=xr(e);return null==s?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(ms(e));default:return null}}convertTimestamp(e){const t=yt(e);return new Jr(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=$n.fromString(e);Tn(tr(s));const l=new Xi(s.get(1),s.get(3)),d=new sn(s.popFirst(5));return l.isEqual(t)||sr(`Document ${d} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),d}}function Rf(i,e,t){let s;return s=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,s}class cv extends Xg{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vs(this.firestore,null,t)}}class zu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class vl extends ju{constructor(e,t,s,l,d,y){super(e,t,s,l,y),this._firestore=e,this._firestoreImpl=e,this.metadata=d}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Qd("DocumentSnapshot.get",e));if(null!==s)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}}class kf extends vl{data(e={}){return super.data(e)}}class Bl{constructor(e,t,s,l){this._firestore=e,this._userDataWriter=t,this._snapshot=l,this.metadata=new zu(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(s=>{e.call(t,new kf(this._firestore,this._userDataWriter,s.key,s,new zu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new xt(ht.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let d=0;return s._snapshot.docChanges.map(y=>({type:"added",doc:new kf(s._firestore,s._userDataWriter,y.doc.key,y.doc,new zu(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter),oldIndex:-1,newIndex:d++}))}{let d=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(y=>l||3!==y.type).map(y=>{const P=new kf(s._firestore,s._userDataWriter,y.doc.key,y.doc,new zu(s._snapshot.mutatedKeys.has(y.doc.key),s._snapshot.fromCache),s.query.converter);let q=-1,J=-1;return 0!==y.type&&(q=d.indexOf(y.doc.key),d=d.delete(y.doc.key)),1!==y.type&&(d=d.add(y.doc),J=d.indexOf(y.doc.key)),{type:Jg(y.type),doc:P,oldIndex:q,newIndex:J}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function Jg(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return cn()}}function Ga(i,e){return i instanceof vl&&e instanceof vl?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof Bl&&e instanceof Bl&&i._firestore===e._firestore&&$d(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}class Ul extends Xg{constructor(e){super(),this.firestore=e}convertBytes(e){return new al(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vs(this.firestore,null,t)}}function fv(i,e,t){i=ui(i,vs);const s=ui(i.firestore,Oi),l=Rf(i.converter,e,t);return Hc(s,[Mf(Vl(s),"setDoc",i._key,l,null!==i.converter,t).toMutation(i._key,Ni.none())])}function pv(i,e,t,...s){i=ui(i,vs);const l=ui(i.firestore,Oi),d=Vl(l);let y;return y="string"==typeof(e=(0,Et.m9)(e))||e instanceof Fl?Kd(d,"updateDoc",i._key,e,t,s):Pf(d,"updateDoc",i._key,e),Hc(l,[y.toMutation(i._key,Ni.exists(!0))])}function Lf(i,...e){var t,s,l;i=(0,Et.m9)(i);let d={includeMetadataChanges:!1},y=0;"object"!=typeof e[y]||Sa(e[y])||(d=e[y],y++);const P={includeMetadataChanges:d.includeMetadataChanges};if(Sa(e[y])){const ke=e[y];e[y]=null===(t=ke.next)||void 0===t?void 0:t.bind(ke),e[y+1]=null===(s=ke.error)||void 0===s?void 0:s.bind(ke),e[y+2]=null===(l=ke.complete)||void 0===l?void 0:l.bind(ke)}let q,J,de;if(i instanceof vs)J=ui(i.firestore,Oi),de=pl(i._key.path),q={next:ke=>{e[y]&&e[y](Ff(J,i,ke))},error:e[y+1],complete:e[y+2]};else{const ke=ui(i,Ho);J=ui(ke.firestore,Oi),de=ke._query;const it=new Ul(J);q={next:Tt=>{e[y]&&e[y](new Bl(J,it,ke,Tt))},error:e[y+1],complete:e[y+2]},Zg(i._query)}return function(ke,it,Tt,Vt){const fn=new Ef(Vt),En=new wy(it,fn,Tt);return ke.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return _y(yield za(ke),En)})),()=>{fn.bc(),ke.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return by(yield za(ke),En)}))}}(_s(J),de,P,q)}function Hc(i,e){return function(t,s){const l=new Di;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function sf(i,e,t){return fu.apply(this,arguments)}(yield Bg(t),s,l)})),l.promise}(_s(i),e)}function Ff(i,e,t){const s=t.docs.get(e._key),l=new Ul(i);return new vl(i,l,e._key,s,new zu(t.hasPendingWrites,t.fromCache),e.converter)}const gv={maxAttempts:5};class Jd{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vl(e)}set(e,t,s){this._verifyNotCommitted();const l=vu(e,this._firestore),d=Rf(l.converter,t,s),y=Mf(this._dataReader,"WriteBatch.set",l._key,d,null!==l.converter,s);return this._mutations.push(y.toMutation(l._key,Ni.none())),this}update(e,t,s,...l){this._verifyNotCommitted();const d=vu(e,this._firestore);let y;return y="string"==typeof(t=(0,Et.m9)(t))||t instanceof Fl?Kd(this._dataReader,"WriteBatch.update",d._key,t,s,l):Pf(this._dataReader,"WriteBatch.update",d._key,t),this._mutations.push(y.toMutation(d._key,Ni.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=vu(e,this._firestore);return this._mutations=this._mutations.concat(new cs(t._key,Ni.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new xt(ht.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function vu(i,e){if((i=(0,Et.m9)(i)).firestore!==e)throw new xt(ht.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class mv extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vl(e)}get(e){const t=vu(e,this._firestore),s=new cv(this._firestore);return this._transaction.lookup([t._key]).then(l=>{if(!l||1!==l.length)return cn();const d=l[0];if(d.isFoundDocument())return new ju(this._firestore,s,d.key,d,t.converter);if(d.isNoDocument())return new ju(this._firestore,s,t._key,null,t.converter);throw cn()})}set(e,t,s){const l=vu(e,this._firestore),d=Rf(l.converter,t,s),y=Mf(this._dataReader,"Transaction.set",l._key,d,null!==l.converter,s);return this._transaction.set(l._key,y),this}update(e,t,s,...l){const d=vu(e,this._firestore);let y;return y="string"==typeof(t=(0,Et.m9)(t))||t instanceof Fl?Kd(this._dataReader,"Transaction.update",d._key,t,s,l):Pf(this._dataReader,"Transaction.update",d._key,t),this._transaction.update(d._key,y),this}delete(e){const t=vu(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=vu(e,this._firestore),s=new Ul(this._firestore);return super.get(e).then(l=>new vl(this._firestore,s,t._key,l._document,new zu(!1,!1),t.converter))}}function tm(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new xt("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function wv(){if(typeof Uint8Array>"u")throw new xt("unimplemented","Uint8Arrays are not available in this environment.")}function Dv(){if(!function oe(){return typeof atob<"u"}())throw new xt("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){jn=bt.SDK_VERSION,(0,bt._registerComponent)(new vt.wA("firestore",(t,{instanceIdentifier:s,options:l})=>{const d=t.getProvider("app").getImmediate(),y=new Oi(new va(t.getProvider("auth-internal")),new Vr(t.getProvider("app-check-internal")),function(P,q){if(!Object.prototype.hasOwnProperty.apply(P.options,["projectId"]))throw new xt(ht.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xi(P.options.projectId,q)}(d,s),d);return l=Object.assign({useFetchStreams:e},l),y._setSettings(l),y},"PUBLIC").setMultipleInstances(!0)),(0,bt.registerVersion)(qt,"3.7.3",i),(0,bt.registerVersion)(qt,"3.7.3","esm2017")}();class eh{constructor(e){this._delegate=e}static fromBase64String(e){return Dv(),new eh(al.fromBase64String(e))}static fromUint8Array(e){return wv(),new eh(al.fromUint8Array(e))}toBase64(){return Dv(),this._delegate.toBase64()}toUint8Array(){return wv(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function nm(i){return function A0(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const s of e)if(s in t&&"function"==typeof t[s])return!0;return!1}(i,["next","error","complete"])}class M0{enableIndexedDbPersistence(e,t){return function Bc(i,e){jg(i=ui(i,Oi));const t=_s(i),s=i._freezeSettings(),l=new Ld;return $u(t,l,new Fy(l,s.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function Uc(i){jg(i=ui(i,Oi));const e=_s(i),t=i._freezeSettings(),s=new Ld;return $u(e,s,new u0(s,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function Hy(i){if(i._initialized&&!i._terminated)throw new xt(ht.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Di;return i._queue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{yield(t=(0,xe.Z)(function*(s){if(!Ws.C())return Promise.resolve();const l=s+"main";yield Ws.delete(l)}),function(s){return t.apply(this,arguments)})(Bh(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class Tv{constructor(e,t,s){this._delegate=t,this._persistenceProvider=s,this.INTERNAL={delete:()=>this.terminate()},e instanceof Xi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&cr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,s={}){!function Og(i,e,t,s={}){var l;const d=(i=ui(i,Vc))._getSettings();if("firestore.googleapis.com"!==d.host&&d.host!==e&&cr("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},d),{host:`${e}:${t}`,ssl:!1})),s.mockUserToken){let y,P;if("string"==typeof s.mockUserToken)y=s.mockUserToken,P=Mn.MOCK_USER;else{y=(0,Et.Sg)(s.mockUserToken,null===(l=i._app)||void 0===l?void 0:l.options.projectId);const q=s.mockUserToken.sub||s.mockUserToken.user_id;if(!q)throw new xt(ht.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");P=new Mn(q)}i._authCredentials=new So(new no(y,P))}}(this._delegate,e,t,s)}enableNetwork(){return function Gy(i){return function Hd(i){return i.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield Uy(i),t=yield $g(i);return e.setNetworkEnabled(!0),function(s){const l=Zt(s);return l._u.delete(0),Pd(l)}(t)}))}(_s(i=ui(i,Oi)))}(this._delegate)}disableNetwork(){return function Wy(i){return function g0(i){return i.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield Uy(i),t=yield $g(i);return e.setNetworkEnabled(!1),(s=(0,xe.Z)(function*(l){const d=Zt(l);d._u.add(0),yield Nc(d),d.gu.set("Offline")}),function(l){return s.apply(this,arguments)})(t);var s}))}(_s(i=ui(i,Oi)))}(this._delegate)}enablePersistence(e){let t=!1,s=!1;return e&&(t=!!e.synchronizeTabs,s=!!e.experimentalForceOwningTab,Vy("synchronizeTabs",t,"experimentalForceOwningTab",s)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,s)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function zy(i){return function(e){const t=new Di;return e.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function Eg(i,e){return bg.apply(this,arguments)}(yield Bg(e),t)})),t.promise}(_s(i=ui(i,Oi)))}(this._delegate)}onSnapshotsInSync(e){return function Xd(i,e){return function zd(i,e){const t=new Ef(e);return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return s=yield za(i),l=t,Zt(s).Ru.add(l),void l.next();var s,l})),()=>{t.bc(),i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return s=yield za(i),l=t,void Zt(s).Ru.delete(l);var s,l}))}}(_s(i=ui(i,Oi)),Sa(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new xt("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Wu(this,Vd(this._delegate,e))}catch(t){throw ya(t,"collection()","Firestore.collection()")}}doc(e){try{return new Wa(this,gu(this._delegate,e))}catch(t){throw ya(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new aa(this,function _f(i,e){if(i=ui(i,Vc),Pg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new xt(ht.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ho(i,null,(t=e,new fl($n.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw ya(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function yv(i,e,t){i=ui(i,Oi);const s=Object.assign(Object.assign({},gv),t);return function(l){if(l.maxAttempts<1)throw new xt(ht.INVALID_ARGUMENT,"Max attempts must be at least 1")}(s),function(l,d,y){const P=new Di;return l.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){const q=yield function jd(i){return If(i).then(e=>e.datastore)}(l);new nb(l.asyncQueue,q,y,d,P).run()})),P.promise}(_s(i),l=>e(new mv(i,l)),s)}(this._delegate,t=>e(new Sv(this,t)))}batch(){return _s(this._delegate),new Av(new Jd(this._delegate,e=>Hc(this._delegate,e)))}loadBundle(e){return function qy(i,e){const t=_s(i=ui(i,Oi)),s=new Ug;return function oa(i,e,t,s){const l=function(d,y){let P;return P="string"==typeof d?(new TextEncoder).encode(d):d,q=function(q,J){if(q instanceof Uint8Array)return Rg(q,J);if(q instanceof ArrayBuffer)return Rg(new Uint8Array(q),J);if(q instanceof ReadableStream)return q.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(P),new d0(q,y);var q}(t,xd(e));i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){!function ky(i,e,t){const s=Zt(i);var l;(l=(0,xe.Z)(function*(d,y,P){try{const q=yield y.getMetadata();if(yield function(it,Tt){const Vt=Zt(it),fn=_o(Tt.createTime);return Vt.persistence.runTransaction("hasNewerBundle","readonly",En=>Vt.Ns.getBundleMetadata(En,Tt.id)).then(En=>!!En&&En.createTime.compareTo(fn)>=0)}(d.localStore,q))return yield y.close(),P._completeWith({taskState:"Success",documentsLoaded:(it=q).totalDocuments,bytesLoaded:it.totalBytes,totalDocuments:it.totalDocuments,totalBytes:it.totalBytes}),Promise.resolve(new Set);P._updateProgress(Dy(q));const J=new hg(q,d.localStore,y.It);let de=yield y.mc();for(;de;){const it=yield J.Fu(de);it&&P._updateProgress(it),de=yield y.mc()}const ke=yield J.complete();return yield ro(d,ke.Lu,void 0),yield function(it,Tt){const Vt=Zt(it);return Vt.persistence.runTransaction("Save bundle","readwrite",fn=>Vt.Ns.saveBundleMetadata(fn,Tt))}(d.localStore,q),P._completeWith(ke.progress),Promise.resolve(ke.Bu)}catch(q){return cr("SyncEngine",`Loading bundle failed with ${q}`),P._failWith(q),Promise.resolve(new Set)}var it}),function(d,y,P){return l.apply(this,arguments)})(s,e,t).then(l=>{s.sharedClientState.notifyBundleLoaded(l)})}(yield Bg(i),l,s)}))}(t,i._databaseId,e,s),s}(this._delegate,e)}namedQuery(e){return function Ky(i,e){return function Fu(i,e){return i.asyncQueue.enqueue((0,xe.Z)(function*(){return function(t,s){const l=Zt(t);return l.persistence.runTransaction("Get named query","readonly",d=>l.Ns.getNamedQuery(d,s))}(yield Cf(i),e)}))}(_s(i=ui(i,Oi)),e).then(t=>t?new Ho(i,null,t.query):null)}(this._delegate,e).then(t=>t?new aa(this,t):null)}}class $f extends Xg{constructor(e){super(),this.firestore=e}convertBytes(e){return new eh(new al(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Wa.forKey(t,this.firestore,null)}}class Sv{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new $f(e)}get(e){const t=_u(e);return this._delegate.get(t).then(s=>new th(this._firestore,new vl(this._firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,t.converter)))}set(e,t,s){const l=_u(e);return s?(tm("Transaction.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const d=_u(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...l),this}delete(e){const t=_u(e);return this._delegate.delete(t),this}}class Av{constructor(e){this._delegate=e}set(e,t,s){const l=_u(e);return s?(tm("WriteBatch.set",s),this._delegate.set(l,t,s)):this._delegate.set(l,t),this}update(e,t,s,...l){const d=_u(e);return 2===arguments.length?this._delegate.update(d,t):this._delegate.update(d,t,s,...l),this}delete(e){const t=_u(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gu{constructor(e,t,s){this._firestore=e,this._userDataWriter=t,this._delegate=s}fromFirestore(e,t){const s=new kf(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new zc(this._firestore,s),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const s=Gu.INSTANCES;let l=s.get(e);l||(l=new WeakMap,s.set(e,l));let d=l.get(t);return d||(d=new Gu(e,new $f(e),t),l.set(t,d)),d}}Gu.INSTANCES=new WeakMap;class Wa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $f(e)}static forPath(e,t,s){if(e.length%2!=0)throw new xt("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Wa(t,new vs(t._delegate,s,new sn(e)))}static forKey(e,t,s){return new Wa(t,new vs(t._delegate,s,e))}get id(){return this._delegate.id}get parent(){return new Wu(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Wu(this.firestore,Vd(this._delegate,e))}catch(t){throw ya(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Et.m9)(e))instanceof vs&&$y(this._delegate,e)}set(e,t){t=tm("DocumentReference.set",t);try{return t?fv(this._delegate,e,t):fv(this._delegate,e)}catch(s){throw ya(s,"setDoc()","DocumentReference.set()")}}update(e,t,...s){try{return 1===arguments.length?pv(this._delegate,e):pv(this._delegate,e,t,...s)}catch(l){throw ya(l,"updateDoc()","DocumentReference.update()")}}delete(){return function C0(i){return Hc(ui(i.firestore,Oi),[new cs(i._key,Ni.none())])}(this._delegate)}onSnapshot(...e){const t=Mv(e),s=xv(e,l=>new th(this.firestore,new vl(this.firestore._delegate,this._userDataWriter,l._key,l._document,l.metadata,this._delegate.converter)));return Lf(this._delegate,t,s)}get(e){let t;return t="cache"===e?.source?function _l(i){i=ui(i,vs);const e=ui(i.firestore,Oi),t=_s(e),s=new Ul(e);return function m0(i,e){const t=new Di;return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(s=(0,xe.Z)(function*(l,d,y){try{const P=yield function(q,J){const de=Zt(q);return de.persistence.runTransaction("read document","readonly",ke=>de.localDocuments.getDocument(ke,J))}(l,d);P.isFoundDocument()?y.resolve(P):P.isNoDocument()?y.resolve(null):y.reject(new xt(ht.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(P){const q=Rd(P,`Failed to get document '${d} from cache`);y.reject(q)}}),function(l,d,y){return s.apply(this,arguments)})(yield Cf(i),e,t);var s})),t.promise}(t,i._key).then(l=>new vl(e,s,i._key,l,new zu(null!==l&&l.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===e?.source?function ll(i){i=ui(i,vs);const e=ui(i.firestore,Oi);return wf(_s(e),i._key,{source:"server"}).then(t=>Ff(e,i,t))}(this._delegate):function I0(i){i=ui(i,vs);const e=ui(i.firestore,Oi);return wf(_s(e),i._key).then(t=>Ff(e,i,t))}(this._delegate),t.then(s=>new th(this.firestore,new vl(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)))}withConverter(e){return new Wa(this.firestore,this._delegate.withConverter(e?Gu.getInstance(this.firestore,e):null))}}function ya(i,e,t){return i.message=i.message.replace(e,t),i}function Mv(i){for(const e of i)if("object"==typeof e&&!nm(e))return e;return{}}function xv(i,e){var t,s;let l;return l=nm(i[0])?i[0]:nm(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:d=>{l.next&&l.next(e(d))},error:null===(t=l.error)||void 0===t?void 0:t.bind(l),complete:null===(s=l.complete)||void 0===s?void 0:s.bind(l)}}class th{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Wa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Ga(this._delegate,e._delegate)}}class zc extends th{data(e){const t=this._delegate.data(e);return function wi(i,e){i||cn()}(void 0!==t),t}}class aa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new $f(e)}where(e,t,s){try{return new aa(this.firestore,$l(this._delegate,function tv(i,e,t){const s=e,l=Qd("where",i);return new ev(l,s,t)}(e,t,s)))}catch(l){throw ya(l,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new aa(this.firestore,$l(this._delegate,function ib(i,e="asc"){const t=e,s=Qd("orderBy",i);return new nv(s,t)}(e,t)))}catch(s){throw ya(s,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new aa(this.firestore,$l(this._delegate,function E0(i){return vf("limit",i),new rv("limit",i,"F")}(e)))}catch(t){throw ya(t,"limit()","Query.limit()")}}limitToLast(e){try{return new aa(this.firestore,$l(this._delegate,function iv(i){return vf("limitToLast",i),new rv("limitToLast",i,"L")}(e)))}catch(t){throw ya(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new aa(this.firestore,$l(this._delegate,function Po(...i){return new sv("startAt",i,!0)}(...e)))}catch(t){throw ya(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new aa(this.firestore,$l(this._delegate,function ov(...i){return new sv("startAfter",i,!1)}(...e)))}catch(t){throw ya(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new aa(this.firestore,$l(this._delegate,function b0(...i){return new av("endBefore",i,!1)}(...e)))}catch(t){throw ya(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new aa(this.firestore,$l(this._delegate,function lv(...i){return new av("endAt",i,!0)}(...e)))}catch(t){throw ya(t,"endAt()","Query.endAt()")}}isEqual(e){return $d(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function dv(i){i=ui(i,Ho);const e=ui(i.firestore,Oi),t=_s(e),s=new Ul(e);return function y0(i,e){const t=new Di;return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(s=(0,xe.Z)(function*(l,d,y){try{const P=yield jh(l,d,!0),q=new pg(d,P.Hi),J=q.Wu(P.documents),de=q.applyChanges(J,!1);y.resolve(de.snapshot)}catch(P){const q=Rd(P,`Failed to execute query '${d} against cache`);y.reject(q)}}),function(l,d,y){return s.apply(this,arguments)})(yield Cf(i),e,t);var s})),t.promise}(t,i._query).then(l=>new Bl(e,s,i,l))}(this._delegate):"server"===e?.source?function hv(i){i=ui(i,Ho);const e=ui(i.firestore,Oi),t=_s(e),s=new Ul(e);return ol(t,i._query,{source:"server"}).then(l=>new Bl(e,s,i,l))}(this._delegate):function ul(i){i=ui(i,Ho);const e=ui(i.firestore,Oi),t=_s(e),s=new Ul(e);return Zg(i._query),ol(t,i._query).then(l=>new Bl(e,s,i,l))}(this._delegate),t.then(s=>new Bf(this.firestore,new Bl(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)))}onSnapshot(...e){const t=Mv(e),s=xv(e,l=>new Bf(this.firestore,new Bl(this.firestore._delegate,this._userDataWriter,this._delegate,l._snapshot)));return Lf(this._delegate,t,s)}withConverter(e){return new aa(this.firestore,this._delegate.withConverter(e?Gu.getInstance(this.firestore,e):null))}}class Pv{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new zc(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Bf{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new aa(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new zc(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new Pv(this._firestore,t))}forEach(e,t){this._delegate.forEach(s=>{e.call(t,new zc(this._firestore,s))})}isEqual(e){return Ga(this._delegate,e._delegate)}}class Wu extends aa{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Wa(this.firestore,e):null}doc(e){try{return new Wa(this.firestore,void 0===e?gu(this._delegate):gu(this._delegate,e))}catch(t){throw ya(t,"doc()","CollectionReference.doc()")}}add(e){return function w0(i,e){const t=ui(i.firestore,Oi),s=gu(i),l=Rf(i.converter,e);return Hc(t,[Mf(Vl(i.firestore),"addDoc",s._key,l,null!==i.converter,{}).toMutation(s._key,Ni.exists(!1))]).then(()=>s)}(this._delegate,e).then(t=>new Wa(this.firestore,t))}isEqual(e){return $y(this._delegate,e._delegate)}withConverter(e){return new Wu(this.firestore,this._delegate.withConverter(e?Gu.getInstance(this.firestore,e):null))}}function _u(i){return ui(i,vs)}class Uf{constructor(...e){this._delegate=new Fl(...e)}static documentId(){return new Uf(Qr.keyField().canonicalString())}isEqual(e){return(e=(0,Et.m9)(e))instanceof Fl&&this._delegate._internalPath.isEqual(e._internalPath)}}class Eu{constructor(e){this._delegate=e}static serverTimestamp(){const e=function Vf(){return new xf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new Eu(e)}static delete(){const e=function vv(){return new yu("deleteField")}();return e._methodName="FieldValue.delete",new Eu(e)}static arrayUnion(...e){const t=function _v(...i){return new Qy("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new Eu(t)}static arrayRemove(...e){const t=function Ev(...i){return new zg("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new Eu(t)}static increment(e){const t=function bv(i){return new Xy("increment",i)}(e);return t._methodName="FieldValue.increment",new Eu(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const Nv={Firestore:Tv,GeoPoint:Tf,Timestamp:Jr,Blob:eh,Transaction:Sv,WriteBatch:Av,DocumentReference:Wa,DocumentSnapshot:th,Query:aa,QueryDocumentSnapshot:zc,QuerySnapshot:Bf,CollectionReference:Wu,FieldPath:Uf,FieldValue:Eu,setLogLevel:function x0(i){!function Yr(i){wn.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function Rv(i){(function Ov(i,e){i.INTERNAL.registerComponent(new vt.wA("firestore-compat",t=>{const s=t.getProvider("app-compat").getImmediate(),l=t.getProvider("firestore").getImmediate();return e(s,l)},"PUBLIC").setServiceProps(Object.assign({},Nv)))})(i,(e,t)=>new Tv(e,t,new M0)),i.registerVersion("@firebase/firestore-compat","0.2.3")}(_n.Z);var qu=ee(7579),P0=ee(6451),jf=ee(5363),La=ee(3900),ob=ee(4707),rm=ee(3099);function N0(i,e,t){let s,l=!1;return i&&"object"==typeof i?({bufferSize:s=1/0,windowTime:e=1/0,refCount:l=!1,scheduler:t}=i):s=i??1/0,(0,rm.B)({connector:()=>new ob.t(s,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:l})}var kv=ee(590),Lv=ee(576);function O0(i,e){return(0,Lv.m)(e)?(0,La.w)(()=>i,e):(0,La.w)(()=>i)}var dr=ee(9468);ee(5867);const sm=new Map,Wc={activated:!1,tokenObservers:[]},U0={initialized:!1,enabled:!1};function ea(i){return sm.get(i)||Object.assign({},Wc)}function Ku(){return U0}class z0{constructor(e,t,s,l,d){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=s,this.lowerBound=l,this.upperBound=d,this.pending=null,this.nextErrorWaitInterval=l,l>d)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,xe.Z)(function*(){t.stop();try{t.pending=new Et.BH,yield function G0(i){return new Promise(e=>{setTimeout(e,i)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Et.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(s){t.retryPolicy(s)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const la=new Et.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function om(i){if(!ea(i).activated)throw la.create("use-before-activation",{appName:i.name})}function lm(i,e){return um.apply(this,arguments)}function um(){return um=(0,xe.Z)(function*({url:i,body:e},t){var s,l;const d={"Content-Type":"application/json"},y=t.getImmediate({optional:!0});if(y){const Tt=yield y.getHeartbeatsHeader();Tt&&(d["X-Firebase-Client"]=Tt)}const P={method:"POST",body:JSON.stringify(e),headers:d};let q,J;try{q=yield fetch(i,P)}catch(Tt){throw la.create("fetch-network-error",{originalErrorMessage:null===(s=Tt)||void 0===s?void 0:s.message})}if(200!==q.status)throw la.create("fetch-status-error",{httpStatus:q.status});try{J=yield q.json()}catch(Tt){throw la.create("fetch-parse-error",{originalErrorMessage:null===(l=Tt)||void 0===l?void 0:l.message})}const de=J.ttl.match(/^([\d.]+)(s)$/);if(!de||!de[2]||isNaN(Number(de[1])))throw la.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${J.ttl}`});const ke=1e3*Number(de[1]),it=Date.now();return{token:J.token,expireTimeMillis:it+ke,issuedAtTimeMillis:it}}),um.apply(this,arguments)}function fb(i,e){const{projectId:t,appId:s,apiKey:l}=i.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${s}:exchangeDebugToken?key=${l}`,body:{debug_token:e}}}const bu="firebase-app-check-store";let Gf=null;function cm(){return Gf||(Gf=new Promise((i,e)=>{var t;try{const s=indexedDB.open("firebase-app-check-database",1);s.onsuccess=l=>{i(l.target.result)},s.onerror=l=>{var d;e(la.create("storage-open",{originalErrorMessage:null===(d=l.target.error)||void 0===d?void 0:d.message}))},s.onupgradeneeded=l=>{0===l.oldVersion&&l.target.result.createObjectStore(bu,{keyPath:"compositeKey"})}}catch(s){e(la.create("storage-open",{originalErrorMessage:null===(t=s)||void 0===t?void 0:t.message}))}}),Gf)}function dm(){return dm=(0,xe.Z)(function*(i,e){const s=(yield cm()).transaction(bu,"readwrite"),d=s.objectStore(bu).put({compositeKey:i,value:e});return new Promise((y,P)=>{d.onsuccess=q=>{y()},s.onerror=q=>{var J;P(la.create("storage-set",{originalErrorMessage:null===(J=q.target.error)||void 0===J?void 0:J.message}))}})}),dm.apply(this,arguments)}const jl=new $t.Yd("@firebase/app-check");function pm(i,e){return(0,Et.hl)()?function q0(i,e){return function Hv(i,e){return dm.apply(this,arguments)}(function zv(i){return`${i.options.appId}-${i.name}`}(i),e)}(i,e).catch(t=>{jl.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function mm(){return Ku().enabled}function Wv(){return ah.apply(this,arguments)}function ah(){return ah=(0,xe.Z)(function*(){const i=Ku();if(i.enabled&&i.token)return i.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")}),ah.apply(this,arguments)}const qv={error:"UNKNOWN_ERROR"};function Kv(i){return Et.US.encodeString(JSON.stringify(i),!1)}function qf(i){return ym.apply(this,arguments)}function ym(){return ym=(0,xe.Z)(function*(i,e=!1){const t=i.app;om(t);const s=ea(t);let d,l=s.token;if(l&&!Kc(l)&&(s.token=void 0,l=void 0),!l){const q=yield s.cachedTokenPromise;q&&(Kc(q)?l=q:yield pm(t,void 0))}if(!e&&l&&Kc(l))return{token:l.token};let P,y=!1;if(mm()){s.exchangeTokenPromise||(s.exchangeTokenPromise=lm(fb(t,yield Wv()),i.heartbeatServiceProvider).finally(()=>{s.exchangeTokenPromise=void 0}),y=!0);const q=yield s.exchangeTokenPromise;return yield pm(t,q),s.token=q,{token:q.token}}try{s.exchangeTokenPromise||(s.exchangeTokenPromise=s.provider.getToken().finally(()=>{s.exchangeTokenPromise=void 0}),y=!0),l=yield ea(t).exchangeTokenPromise}catch(q){"appCheck/throttled"===q.code?jl.warn(q.message):jl.error(q),d=q}return l?d?P=Kc(l)?{token:l.token,internalError:d}:Xv(d):(P={token:l.token},s.token=l,yield pm(t,l)):P=Xv(d),y&&Qv(t,P),P}),ym.apply(this,arguments)}function lh(i,e){const t=ea(i),s=t.tokenObservers.filter(l=>l.next!==e);0===s.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=s}function Zv(i){const{app:e}=i,t=ea(e);let s=t.tokenRefresher;s||(s=function Yv(i){const{app:e}=i;return new z0((0,xe.Z)(function*(){let s;if(s=ea(e).token?yield qf(i,!0):yield qf(i),s.error)throw s.error;if(s.internalError)throw s.internalError}),()=>!0,()=>{const t=ea(e);if(t.token){let s=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return s=Math.min(s,t.token.expireTimeMillis-3e5),Math.max(0,s-Date.now())}return 0},3e4,96e4)}(i),t.tokenRefresher=s),!s.isRunning()&&t.isTokenAutoRefreshEnabled&&s.start()}function Qv(i,e){const t=ea(i).tokenObservers;for(const s of t)try{"EXTERNAL"===s.type&&null!=e.error?s.error(e.error):s.next(e)}catch{}}function Kc(i){return i.expireTimeMillis-Date.now()>0}function Xv(i){return{token:Kv(qv),error:i}}class X0{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=ea(this.app);for(const t of e)lh(this.app,t.next);return Promise.resolve()}}const l_="app-check-internal";!function Cm(){(0,bt._registerComponent)(new vt.wA("app-check",i=>function J0(i,e){return new X0(i,e)}(i.getProvider("app").getImmediate(),i.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,e,t)=>{i.getProvider(l_).initialize()})),(0,bt._registerComponent)(new vt.wA(l_,i=>function eE(i){return{getToken:e=>qf(i,e),addTokenListener:e=>function vm(i,e,t,s){const{app:l}=i,d=ea(l);if(d.tokenObservers=[...d.tokenObservers,{next:t,error:s,type:e}],d.token&&Kc(d.token)){const P=d.token;Promise.resolve().then(()=>{t({token:P.token}),Zv(i)}).catch(()=>{})}d.cachedTokenPromise.then(()=>Zv(i))}(i,"INTERNAL",e),removeTokenListener:e=>lh(i.app,e)}}(i.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,bt.registerVersion)("@firebase/app-check","0.5.17")}();class ch{constructor(){return(0,Le.vb)("app-check")}}typeof window<"u"&&window;var pE=ee(127);const d_=new m.OlP("angularfire2.auth.use-emulator"),wm=new m.OlP("angularfire2.auth.settings"),h_=new m.OlP("angularfire2.auth.tenant-id"),f_=new m.OlP("angularfire2.auth.langugage-code"),p_=new m.OlP("angularfire2.auth.use-device-language"),g_=new m.OlP("angularfire.auth.persistence"),m_=(i,e,t,s,l,d,y,P)=>(0,pt.cc)(`${i.name}.auth`,"AngularFireAuth",i.name,()=>{const q=e.runOutsideAngular(()=>i.auth());if(t&&q.useEmulator(...t),s&&(q.tenantId=s),q.languageCode=l,d&&q.useDeviceLanguage(),y)for(const[J,de]of Object.entries(y))q.settings[J]=de;return P&&q.setPersistence(P),q},[t,s,l,d,y,P]);let y_=(()=>{class i{constructor(t,s,l,d,y,P,q,J,de,ke,it,Tt){const Vt=new qu.x,fn=(0,Re.of)(void 0).pipe((0,jf.Q)(y.outsideAngular),(0,La.w)(()=>d.runOutsideAngular(()=>Promise.resolve().then(ee.bind(ee,1277)))),(0,ve.U)(()=>(0,pt.on)(t,d,s)),(0,ve.U)(En=>m_(En,d,P,J,de,ke,q,it)),N0({bufferSize:1,refCount:!1}));if((0,ut.PM)(l))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Re.of)(null);else{fn.pipe((0,kv.P)()).subscribe();const Wr=fn.pipe((0,La.w)($r=>$r.getRedirectResult().then(Br=>Br,()=>null)),Le.iC,N0({bufferSize:1,refCount:!1})),Ii=fn.pipe((0,La.w)($r=>new re.y(Br=>({unsubscribe:d.runOutsideAngular(()=>$r.onAuthStateChanged(Kr=>Br.next(Kr),Kr=>Br.error(Kr),()=>Br.complete()))})))),qr=fn.pipe((0,La.w)($r=>new re.y(Br=>({unsubscribe:d.runOutsideAngular(()=>$r.onIdTokenChanged(Kr=>Br.next(Kr),Kr=>Br.error(Kr),()=>Br.complete()))}))));this.authState=Wr.pipe(O0(Ii),(0,dr.R)(y.outsideAngular),(0,jf.Q)(y.insideAngular)),this.user=Wr.pipe(O0(qr),(0,dr.R)(y.outsideAngular),(0,jf.Q)(y.insideAngular)),this.idToken=this.user.pipe((0,La.w)($r=>$r?(0,Ve.D)($r.getIdToken()):(0,Re.of)(null))),this.idTokenResult=this.user.pipe((0,La.w)($r=>$r?(0,Ve.D)($r.getIdTokenResult()):(0,Re.of)(null))),this.credential=(0,P0.T)(Wr,Vt,this.authState.pipe((0,rn.h)($r=>!$r))).pipe((0,ve.U)($r=>$r?.user?$r:null),(0,dr.R)(y.outsideAngular),(0,jf.Q)(y.insideAngular))}return(0,pt.pX)(this,fn,d,{spy:{apply:(En,Wr,Ii)=>{(En.startsWith("signIn")||En.startsWith("createUser"))&&Ii.then(qr=>Vt.next(qr))}}})}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(pt.Dh),m.LFG(pt.xv,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Le.HU),m.LFG(d_,8),m.LFG(wm,8),m.LFG(h_,8),m.LFG(f_,8),m.LFG(p_,8),m.LFG(g_,8),m.LFG(ch,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})();function Yc(i,e){return function mE(i,e=ie.z){return new re.y(t=>{let s;return null!=e?e.schedule(()=>{s=i.onSnapshot({includeMetadataChanges:!0},t)}):s=i.onSnapshot({includeMetadataChanges:!0},t),()=>{s?.()}})}(i,e)}function Xf(i,e){return Yc(i,e).pipe((0,ve.U)(t=>({payload:t,type:"query"})))}function dh(i,e){return Xf(i,e).pipe((0,We.O)(void 0),fe(),(0,ve.U)(([t,s])=>{const l=s.payload.docChanges(),d=l.map(y=>({type:y.type,payload:y}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(s.payload.metadata)&&s.payload.docs.forEach((y,P)=>{const q=l.find(de=>de.doc.ref.isEqual(y.ref)),J=t?.payload.docs.find(de=>de.ref.isEqual(y.ref));q&&JSON.stringify(q.doc.metadata)===JSON.stringify(y.metadata)||!q&&J&&JSON.stringify(J.metadata)===JSON.stringify(y.metadata)||d.push({type:"modified",payload:{oldIndex:P,newIndex:P,type:"modified",doc:y}})}),d}))}function Dm(i,e,t){return dh(i,t).pipe((0,$e.R)((s,l)=>function __(i,e,t){return e.forEach(s=>{t.indexOf(s.type)>-1&&(i=function yE(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Jf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Jf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Jf(i,e.oldIndex,1)}return i}(i,s))}),i}(s,l.map(d=>d.payload),e),[]),function tt(i,e=Pt.y){return i=i??ft,(0,He.e)((t,s)=>{let l,d=!0;t.subscribe((0,qe.x)(s,y=>{const P=e(y);(d||!i(l,P))&&(d=!1,l=P,s.next(y))}))})}(),(0,ve.U)(s=>s.map(l=>({type:l.type,payload:l}))))}function Jf(i,e,t,...s){const l=i.slice();return l.splice(e,t,...s),l}function vE(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Tm{constructor(e,t,s){this.ref=e,this.query=t,this.afs=s}stateChanges(e){let t=dh(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,ve.U)(s=>s.filter(l=>e.indexOf(l.type)>-1)))),t.pipe((0,We.O)(void 0),fe(),(0,rn.h)(([s,l])=>l.length>0||!s),(0,ve.U)(([s,l])=>l),Le.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,$e.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=vE(e);return Dm(this.query,t,this.afs.schedulers.outsideAngular).pipe(Le.iC)}valueChanges(e={}){return Xf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ve.U)(t=>t.payload.docs.map(s=>e.idField?Object.assign(Object.assign({},s.data()),{[e.idField]:s.id}):s.data())),Le.iC)}get(e){return(0,Ve.D)(this.query.get(e)).pipe(Le.iC)}add(e){return this.ref.add(e)}doc(e){return new E_(this.ref.doc(e),this.afs)}}class E_{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const s=this.ref.collection(e),{ref:l,query:d}=ep(s,t);return new Tm(l,d,this.afs)}snapshotChanges(){return function v_(i,e){return Yc(i,e).pipe((0,We.O)(void 0),fe(),(0,ve.U)(([t,s])=>s.exists?t?.exists?{payload:s,type:"modified"}:{payload:s,type:"added"}:{payload:s,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Le.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,ve.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Ve.D)(this.ref.get(e)).pipe(Le.iC)}}class _E{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?dh(this.query,this.afs.schedulers.outsideAngular).pipe((0,ve.U)(t=>t.filter(s=>e.indexOf(s.type)>-1)),(0,rn.h)(t=>t.length>0),Le.iC):dh(this.query,this.afs.schedulers.outsideAngular).pipe(Le.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,$e.R)((t,s)=>[...t,...s],[]))}snapshotChanges(e){const t=vE(e);return Dm(this.query,t,this.afs.schedulers.outsideAngular).pipe(Le.iC)}valueChanges(e={}){return Xf(this.query,this.afs.schedulers.outsideAngular).pipe((0,ve.U)(s=>s.payload.docs.map(l=>e.idField?Object.assign({[e.idField]:l.id},l.data()):l.data())),Le.iC)}get(e){return(0,Ve.D)(this.query.get(e)).pipe(Le.iC)}}const b_=new m.OlP("angularfire2.enableFirestorePersistence"),I_=new m.OlP("angularfire2.firestore.persistenceSettings"),hh=new m.OlP("angularfire2.firestore.settings"),EE=new m.OlP("angularfire2.firestore.use-emulator");function ep(i,e=(t=>t)){return{query:e(i),ref:i}}let cl=(()=>{class i{constructor(t,s,l,d,y,P,q,J,de,ke,it,Tt,Vt,fn,En,Wr,Ii){this.schedulers=q;const qr=(0,pt.on)(t,P,s),$r=de;ke&&m_(qr,P,it,Vt,fn,En,Tt,Wr),[this.firestore,this.persistenceEnabled$]=(0,pt.cc)(`${qr.name}.firestore`,"AngularFirestore",qr.name,()=>{const Br=P.runOutsideAngular(()=>qr.firestore());if(d&&Br.settings(d),$r&&Br.useEmulator(...$r),l&&!(0,ut.PM)(y)){const Kr=()=>{try{return(0,Ve.D)(Br.enablePersistence(J||void 0).then(()=>!0,()=>!1))}catch(No){return typeof console<"u"&&console.warn(No),(0,Re.of)(!1)}};return[Br,P.runOutsideAngular(Kr)]}return[Br,(0,Re.of)(!1)]},[d,$r,l])}collection(t,s){let l;l="string"==typeof t?this.firestore.collection(t):t;const{ref:d,query:y}=ep(l,s),P=this.schedulers.ngZone.run(()=>d);return new Tm(P,y,this)}collectionGroup(t,s){const l=s||(y=>y),d=this.firestore.collectionGroup(t);return new _E(l(d),this)}doc(t){let s;s="string"==typeof t?this.firestore.doc(t):t;const l=this.schedulers.ngZone.run(()=>s);return new E_(l,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(m.LFG(pt.Dh),m.LFG(pt.xv,8),m.LFG(b_,8),m.LFG(hh,8),m.LFG(m.Lbi),m.LFG(m.R0b),m.LFG(Le.HU),m.LFG(I_,8),m.LFG(EE,8),m.LFG(y_,8),m.LFG(d_,8),m.LFG(wm,8),m.LFG(h_,8),m.LFG(f_,8),m.LFG(p_,8),m.LFG(g_,8),m.LFG(ch,8))},i.\u0275prov=m.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),bE=(()=>{class i{constructor(){pE.Z.registerVersion("angularfire",Le.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:b_,useValue:!0},{provide:I_,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=m.oAB({type:i}),i.\u0275inj=m.cJS({providers:[cl]}),i})()},2011:(an,at,ee)=>{ee.d(at,{Dh:()=>He,GT:()=>Le,cc:()=>tt,hO:()=>Pt,on:()=>fe,pX:()=>Re,xv:()=>qe});var m=ee(4650),ie=ee(127),re=ee(5813);an=ee.hmd(an);const Ve=["ngOnDestroy"],Re=(ut,gn,_n,xe={})=>new Proxy(ut,{get:(bt,vt)=>_n.runOutsideAngular(()=>{var $t;if(ut[vt])return!(null===($t=xe?.spy)||void 0===$t)&&$t.get&&xe.spy.get(vt,ut[vt]),ut[vt];if(Ve.indexOf(vt)>-1)return()=>{};const Et=gn.toPromise().then(Se=>{const nt=Se&&Se[vt];return"function"==typeof nt?nt.bind(Se):nt&&nt.then?nt.then(Ee=>_n.run(()=>Ee)):_n.run(()=>nt)});return new Proxy(()=>{},{get:(Se,nt)=>Et[nt],apply:(Se,nt,Ee)=>Et.then(Ke=>{var Ne;const Xe=Ke&&Ke(...Ee);return!(null===(Ne=xe?.spy)||void 0===Ne)&&Ne.apply&&xe.spy.apply(vt,Ee,Xe),Xe})})})}),Le=(ut,gn)=>{gn.forEach(_n=>{Object.getOwnPropertyNames(_n.prototype||_n).forEach(xe=>{Object.defineProperty(ut.prototype,xe,Object.getOwnPropertyDescriptor(_n.prototype||_n,xe))})})};class We{constructor(gn){return gn}}const He=new m.OlP("angularfire2.app.options"),qe=new m.OlP("angularfire2.app.name");function fe(ut,gn,_n){const bt="object"==typeof _n&&_n||{};bt.name=bt.name||"string"==typeof _n&&_n||"[DEFAULT]";const $t=ie.Z.apps.filter(Et=>Et&&Et.name===bt.name)[0]||gn.runOutsideAngular(()=>ie.Z.initializeApp(ut,bt));try{JSON.stringify(ut)!==JSON.stringify($t.options)&&ve("error",`${$t.name} Firebase App already initialized with different options${an.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new We($t)}const ve=(ut,...gn)=>{(0,m.X6Q)()&&typeof console<"u"&&console[ut](...gn)},$e={provide:We,useFactory:fe,deps:[He,m.R0b,[new m.FiY,qe]]};let Pt=(()=>{class ut{constructor(_n){ie.Z.registerVersion("angularfire",re.q4.full,"core"),ie.Z.registerVersion("angularfire",re.q4.full,"app-compat"),ie.Z.registerVersion("angular",m.q4F.full,_n.toString())}static initializeApp(_n,xe){return{ngModule:ut,providers:[{provide:He,useValue:_n},{provide:qe,useValue:xe}]}}}return ut.\u0275fac=function(_n){return new(_n||ut)(m.LFG(m.Lbi))},ut.\u0275mod=m.oAB({type:ut}),ut.\u0275inj=m.cJS({providers:[$e]}),ut})();function tt(ut,gn,_n,xe,bt){const[,vt,$t]=globalThis.\u0275AngularfireInstanceCache.find(Et=>Et[0]===ut)||[];if(vt)return function ft(ut,gn){try{return ut.toString()===gn.toString()}catch{return ut===gn}}(bt,$t)||(pt("error",`${gn} was already initialized on the ${_n} Firebase App with different settings.${rn?" You may need to reload as Firebase is not HMR aware.":""}`),pt("warn",{is:bt,was:$t})),vt;{const Et=xe();return globalThis.\u0275AngularfireInstanceCache.push([ut,Et,bt]),Et}}const rn=!!an.hot,pt=(ut,...gn)=>{(0,m.X6Q)()&&typeof console<"u"&&console[ut](...gn)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(an,at,ee)=>{ee.d(at,{q4:()=>Gr,iC:()=>ha,HU:()=>jo,vb:()=>Qn,JM:()=>jt});var m=ee(4650),ie=ee(5867),re=ee(5861),Ve=ee(9681),Re=ee(2090),Le=ee(4859),We=ee(1877),He=ee(8766);const qe="@firebase/installations",fe="0.5.16",$e=`w:${fe}`,Pt="FIS_v2",gn=new Re.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function _n(B){return B instanceof Re.ZR&&B.code.includes("request-failed")}function xe({projectId:B}){return`https://firebaseinstallations.googleapis.com/v1/projects/${B}/installations`}function bt(B){return{token:B.token,requestStatus:2,expiresIn:Ke(B.expiresIn),creationTime:Date.now()}}function vt(B,Z){return $t.apply(this,arguments)}function $t(){return($t=(0,re.Z)(function*(B,Z){const we=(yield Z.json()).error;return gn.create("request-failed",{requestName:B,serverCode:we.code,serverMessage:we.message,serverStatus:we.status})})).apply(this,arguments)}function Et({apiKey:B}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B})}function Se(B,{refreshToken:Z}){const se=Et(B);return se.append("Authorization",function Ne(B){return`${Pt} ${B}`}(Z)),se}function nt(B){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,re.Z)(function*(B){const Z=yield B();return Z.status>=500&&Z.status<600?B():Z})).apply(this,arguments)}function Ke(B){return Number(B.replace("s","000"))}function Xe(B,Z){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,re.Z)(function*({appConfig:B,heartbeatServiceProvider:Z},{fid:se}){const we=xe(B),Qe=Et(B),gt=Z.getImmediate({optional:!0});if(gt){const ir=yield gt.getHeartbeatsHeader();ir&&Qe.append("x-firebase-client",ir)}const hn={method:"POST",headers:Qe,body:JSON.stringify({fid:se,authVersion:Pt,appId:B.appId,sdkVersion:$e})},Jn=yield nt(()=>fetch(we,hn));if(Jn.ok){const ir=yield Jn.json();return{fid:ir.fid||se,registrationStatus:2,refreshToken:ir.refreshToken,authToken:bt(ir.authToken)}}throw yield vt("Create Installation",Jn)})).apply(this,arguments)}function Ut(B){return new Promise(Z=>{setTimeout(Z,B)})}const Bn=/^[cdef][\w-]{21}$/;function Kt(){try{const B=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(B),B[0]=112+B[0]%16;const se=function Yn(B){return function pn(B){return btoa(String.fromCharCode(...B)).replace(/\+/g,"-").replace(/\//g,"_")}(B).substr(0,22)}(B);return Bn.test(se)?se:""}catch{return""}}function Gn(B){return`${B.appName}!${B.appId}`}const hr=new Map;function Fn(B,Z){const se=Gn(B);Tr(se,Z),function Ri(B,Z){const se=function mr(){return!_i&&"BroadcastChannel"in self&&(_i=new BroadcastChannel("[Firebase] FID Change"),_i.onmessage=B=>{Tr(B.data.key,B.data.fid)}),_i}();se&&se.postMessage({key:B,fid:Z}),function ii(){0===hr.size&&_i&&(_i.close(),_i=null)}()}(se,Z)}function Tr(B,Z){const se=hr.get(B);if(se)for(const we of se)we(Z)}let _i=null;const zr="firebase-installations-store";let oi=null;function Hr(){return oi||(oi=(0,He.X3)("firebase-installations-database",1,{upgrade:(B,Z)=>{0===Z&&B.createObjectStore(zr)}})),oi}function Xt(B,Z){return fi.apply(this,arguments)}function fi(){return(fi=(0,re.Z)(function*(B,Z){const se=Gn(B),Qe=(yield Hr()).transaction(zr,"readwrite"),gt=Qe.objectStore(zr),Bt=yield gt.get(se);return yield gt.put(Z,se),yield Qe.done,(!Bt||Bt.fid!==Z.fid)&&Fn(B,Z.fid),Z})).apply(this,arguments)}function Cr(B){return _r.apply(this,arguments)}function _r(){return(_r=(0,re.Z)(function*(B){const Z=Gn(B),we=(yield Hr()).transaction(zr,"readwrite");yield we.objectStore(zr).delete(Z),yield we.done})).apply(this,arguments)}function pi(B,Z){return Ui.apply(this,arguments)}function Ui(){return(Ui=(0,re.Z)(function*(B,Z){const se=Gn(B),Qe=(yield Hr()).transaction(zr,"readwrite"),gt=Qe.objectStore(zr),Bt=yield gt.get(se),hn=Z(Bt);return void 0===hn?yield gt.delete(se):yield gt.put(hn,se),yield Qe.done,hn&&(!Bt||Bt.fid!==hn.fid)&&Fn(B,hn.fid),hn})).apply(this,arguments)}function si(B){return dt.apply(this,arguments)}function dt(){return(dt=(0,re.Z)(function*(B){let Z;const se=yield pi(B.appConfig,we=>{const Qe=Oe(we),gt=Ie(B,Qe);return Z=gt.registrationPromise,gt.installationEntry});return""===se.fid?{installationEntry:yield Z}:{installationEntry:se,registrationPromise:Z}})).apply(this,arguments)}function Oe(B){return Wt(B||{fid:Kt(),registrationStatus:0})}function Ie(B,Z){if(0===Z.registrationStatus){if(!navigator.onLine)return{installationEntry:Z,registrationPromise:Promise.reject(gn.create("app-offline"))};const se={fid:Z.fid,registrationStatus:1,registrationTime:Date.now()},we=function lt(B,Z){return It.apply(this,arguments)}(B,se);return{installationEntry:se,registrationPromise:we}}return 1===Z.registrationStatus?{installationEntry:Z,registrationPromise:dn(B)}:{installationEntry:Z}}function It(){return(It=(0,re.Z)(function*(B,Z){try{const se=yield Xe(B,Z);return Xt(B.appConfig,se)}catch(se){throw _n(se)&&409===se.customData.serverCode?yield Cr(B.appConfig):yield Xt(B.appConfig,{fid:Z.fid,registrationStatus:0}),se}})).apply(this,arguments)}function dn(B){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,re.Z)(function*(B){let Z=yield Er(B.appConfig);for(;1===Z.registrationStatus;)yield Ut(100),Z=yield Er(B.appConfig);if(0===Z.registrationStatus){const{installationEntry:se,registrationPromise:we}=yield si(B);return we||se}return Z})).apply(this,arguments)}function Er(B){return pi(B,Z=>{if(!Z)throw gn.create("installation-not-found");return Wt(Z)})}function Wt(B){return function Or(B){return 1===B.registrationStatus&&B.registrationTime+1e4<Date.now()}(B)?{fid:B.fid,registrationStatus:0}:B}function ar(B,Z){return br.apply(this,arguments)}function br(){return(br=(0,re.Z)(function*({appConfig:B,heartbeatServiceProvider:Z},se){const we=Xn(B,se),Qe=Se(B,se),gt=Z.getImmediate({optional:!0});if(gt){const ir=yield gt.getHeartbeatsHeader();ir&&Qe.append("x-firebase-client",ir)}const hn={method:"POST",headers:Qe,body:JSON.stringify({installation:{sdkVersion:$e,appId:B.appId}})},Jn=yield nt(()=>fetch(we,hn));if(Jn.ok)return bt(yield Jn.json());throw yield vt("Generate Auth Token",Jn)})).apply(this,arguments)}function Xn(B,{fid:Z}){return`${xe(B)}/${Z}/authTokens:generate`}function Vn(B){return on.apply(this,arguments)}function on(){return(on=(0,re.Z)(function*(B,Z=!1){let se;const we=yield pi(B.appConfig,gt=>{if(!Un(gt))throw gn.create("not-registered");const Bt=gt.authToken;if(!Z&&Fe(Bt))return gt;if(1===Bt.requestStatus)return se=Qt(B,Z),gt;{if(!navigator.onLine)throw gn.create("app-offline");const hn=je(gt);return se=kn(B,hn),hn}});return se?yield se:we.authToken})).apply(this,arguments)}function Qt(B,Z){return mt.apply(this,arguments)}function mt(){return(mt=(0,re.Z)(function*(B,Z){let se=yield Gt(B.appConfig);for(;1===se.authToken.requestStatus;)yield Ut(100),se=yield Gt(B.appConfig);const we=se.authToken;return 0===we.requestStatus?Vn(B,Z):we})).apply(this,arguments)}function Gt(B){return pi(B,Z=>{if(!Un(Z))throw gn.create("not-registered");return function Ct(B){return 1===B.requestStatus&&B.requestTime+1e4<Date.now()}(Z.authToken)?Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}}):Z})}function kn(B,Z){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,re.Z)(function*(B,Z){try{const se=yield ar(B,Z),we=Object.assign(Object.assign({},Z),{authToken:se});return yield Xt(B.appConfig,we),se}catch(se){if(!_n(se)||401!==se.customData.serverCode&&404!==se.customData.serverCode){const we=Object.assign(Object.assign({},Z),{authToken:{requestStatus:0}});yield Xt(B.appConfig,we)}else yield Cr(B.appConfig);throw se}})).apply(this,arguments)}function Un(B){return void 0!==B&&2===B.registrationStatus}function Fe(B){return 2===B.requestStatus&&!function De(B){const Z=Date.now();return Z<B.creationTime||B.creationTime+B.expiresIn<Z+36e5}(B)}function je(B){const Z={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},B),{authToken:Z})}function Yt(){return(Yt=(0,re.Z)(function*(B){const Z=B,{installationEntry:se,registrationPromise:we}=yield si(Z);return we?we.catch(console.error):Vn(Z).catch(console.error),se.fid})).apply(this,arguments)}function lr(){return(lr=(0,re.Z)(function*(B,Z=!1){const se=B;return yield Nr(se),(yield Vn(se,Z)).token})).apply(this,arguments)}function Nr(B){return gr.apply(this,arguments)}function gr(){return(gr=(0,re.Z)(function*(B){const{registrationPromise:Z}=yield si(B);Z&&(yield Z)})).apply(this,arguments)}function Ur(B){return gn.create("missing-app-config-values",{valueName:B})}const ci="installations",Rr=B=>{const Z=B.getProvider("app").getImmediate(),se=function yn(B){if(!B||!B.options)throw Ur("App Configuration");if(!B.name)throw Ur("App Name");const Z=["projectId","apiKey","appId"];for(const se of Z)if(!B.options[se])throw Ur(se);return{appName:B.name,projectId:B.options.projectId,apiKey:B.options.apiKey,appId:B.options.appId}}(Z);return{app:Z,appConfig:se,heartbeatServiceProvider:(0,Ve._getProvider)(Z,"heartbeat"),_delete:()=>Promise.resolve()}},ai=B=>{const Z=B.getProvider("app").getImmediate(),se=(0,Ve._getProvider)(Z,ci).getImmediate();return{getId:()=>function Ye(B){return Yt.apply(this,arguments)}(se),getToken:Qe=>function An(B){return lr.apply(this,arguments)}(se,Qe)}};(function Ts(){(0,Ve._registerComponent)(new Le.wA(ci,Rr,"PUBLIC")),(0,Ve._registerComponent)(new Le.wA("installations-internal",ai,"PRIVATE"))})(),(0,Ve.registerVersion)(qe,fe),(0,Ve.registerVersion)(qe,fe,"esm2017");const Ss="@firebase/remote-config",Sr=new Re.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Go{constructor(Z,se,we,Qe){this.client=Z,this.storage=se,this.storageCache=we,this.logger=Qe}isCachedDataFresh(Z,se){if(!se)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const we=Date.now()-se,Qe=we<=Z;return this.logger.debug(`Config fetch cache check. Cache age millis: ${we}. Cache max age millis (minimumFetchIntervalMillis setting): ${Z}. Is cache hit: ${Qe}.`),Qe}fetch(Z){var se=this;return(0,re.Z)(function*(){const[we,Qe]=yield Promise.all([se.storage.getLastSuccessfulFetchTimestampMillis(),se.storage.getLastSuccessfulFetchResponse()]);if(Qe&&se.isCachedDataFresh(Z.cacheMaxAgeMillis,we))return Qe;Z.eTag=Qe&&Qe.eTag;const gt=yield se.client.fetch(Z),Bt=[se.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===gt.status&&Bt.push(se.storage.setLastSuccessfulFetchResponse(gt)),yield Promise.all(Bt),gt})()}}function bs(B=navigator){return B.languages&&B.languages[0]||B.language}class Wo{constructor(Z,se,we,Qe,gt,Bt){this.firebaseInstallations=Z,this.sdkVersion=se,this.namespace=we,this.projectId=Qe,this.apiKey=gt,this.appId=Bt}fetch(Z){var se=this;return(0,re.Z)(function*(){var we,Qe,gt;const[Bt,hn]=yield Promise.all([se.firebaseInstallations.getId(),se.firebaseInstallations.getToken()]),ir=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${se.projectId}/namespaces/${se.namespace}:fetch?key=${se.apiKey}`,vr={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":Z.eTag||"*"},er={sdk_version:se.sdkVersion,app_instance_id:Bt,app_instance_id_token:hn,app_id:se.appId,language_code:bs()},ys={method:"POST",headers:vr,body:JSON.stringify(er)},yo=fetch(ir,ys),Ya=new Promise((el,Xo)=>{Z.signal.addEventListener(()=>{const Xu=new Error("The operation was aborted.");Xu.name="AbortError",Xo(Xu)})});let Qa;try{yield Promise.race([yo,Ya]),Qa=yield yo}catch(el){let Xo="fetch-client-network";throw"AbortError"===(null===(we=el)||void 0===we?void 0:we.name)&&(Xo="fetch-timeout"),Sr.create(Xo,{originalErrorMessage:null===(Qe=el)||void 0===Qe?void 0:Qe.message})}let us=Qa.status;const Xa=Qa.headers.get("ETag")||void 0;let ni,Ja;if(200===Qa.status){let el;try{el=yield Qa.json()}catch(Xo){throw Sr.create("fetch-client-parse",{originalErrorMessage:null===(gt=Xo)||void 0===gt?void 0:gt.message})}ni=el.entries,Ja=el.state}if("INSTANCE_STATE_UNSPECIFIED"===Ja?us=500:"NO_CHANGE"===Ja?us=304:("NO_TEMPLATE"===Ja||"EMPTY_CONFIG"===Ja)&&(ni={}),304!==us&&200!==us)throw Sr.create("fetch-status",{httpStatus:us});return{status:us,eTag:Xa,config:ni}})()}}class Qs{constructor(Z,se){this.client=Z,this.storage=se}fetch(Z){var se=this;return(0,re.Z)(function*(){const we=(yield se.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return se.attemptFetch(Z,we)})()}attemptFetch(Z,{throttleEndTimeMillis:se,backoffCount:we}){var Qe=this;return(0,re.Z)(function*(){yield function Ar(B,Z){return new Promise((se,we)=>{const Qe=Math.max(Z-Date.now(),0),gt=setTimeout(se,Qe);B.addEventListener(()=>{clearTimeout(gt),we(Sr.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}(Z.signal,se);try{const gt=yield Qe.client.fetch(Z);return yield Qe.storage.deleteThrottleMetadata(),gt}catch(gt){if(!function Ro(B){if(!(B instanceof Re.ZR&&B.customData))return!1;const Z=Number(B.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}(gt))throw gt;const Bt={throttleEndTimeMillis:Date.now()+(0,Re.$s)(we),backoffCount:we+1};return yield Qe.storage.setThrottleMetadata(Bt),Qe.attemptFetch(Z,Bt)}})()}}class Xs{constructor(Z,se,we,Qe,gt){this.app=Z,this._client=se,this._storageCache=we,this._storage=Qe,this._logger=gt,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ko(B,Z){var se;const we=B.target.error||void 0;return Sr.create(Z,{originalErrorMessage:we&&(null===(se=we)||void 0===se?void 0:se.message)})}const ds="app_namespace_store";class ta{constructor(Z,se,we,Qe=function Lo(){return new Promise((B,Z)=>{var se;try{const we=indexedDB.open("firebase_remote_config",1);we.onerror=Qe=>{Z(ko(Qe,"storage-open"))},we.onsuccess=Qe=>{B(Qe.target.result)},we.onupgradeneeded=Qe=>{0===Qe.oldVersion&&Qe.target.result.createObjectStore(ds,{keyPath:"compositeKey"})}}catch(we){Z(Sr.create("storage-open",{originalErrorMessage:null===(se=we)||void 0===se?void 0:se.message}))}})}()){this.appId=Z,this.appName=se,this.namespace=we,this.openDbPromise=Qe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(Z){return this.set("last_fetch_status",Z)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(Z){return this.set("last_successful_fetch_timestamp_millis",Z)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(Z){return this.set("last_successful_fetch_response",Z)}getActiveConfig(){return this.get("active_config")}setActiveConfig(Z){return this.set("active_config",Z)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(Z){return this.set("active_config_etag",Z)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(Z){return this.set("throttle_metadata",Z)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(Z){var se=this;return(0,re.Z)(function*(){const we=yield se.openDbPromise;return new Promise((Qe,gt)=>{var Bt;const Jn=we.transaction([ds],"readonly").objectStore(ds),ir=se.createCompositeKey(Z);try{const vr=Jn.get(ir);vr.onerror=er=>{gt(ko(er,"storage-get"))},vr.onsuccess=er=>{const ys=er.target.result;Qe(ys?ys.value:void 0)}}catch(vr){gt(Sr.create("storage-get",{originalErrorMessage:null===(Bt=vr)||void 0===Bt?void 0:Bt.message}))}})})()}set(Z,se){var we=this;return(0,re.Z)(function*(){const Qe=yield we.openDbPromise;return new Promise((gt,Bt)=>{var hn;const ir=Qe.transaction([ds],"readwrite").objectStore(ds),vr=we.createCompositeKey(Z);try{const er=ir.put({compositeKey:vr,value:se});er.onerror=ys=>{Bt(ko(ys,"storage-set"))},er.onsuccess=()=>{gt()}}catch(er){Bt(Sr.create("storage-set",{originalErrorMessage:null===(hn=er)||void 0===hn?void 0:hn.message}))}})})()}delete(Z){var se=this;return(0,re.Z)(function*(){const we=yield se.openDbPromise;return new Promise((Qe,gt)=>{var Bt;const Jn=we.transaction([ds],"readwrite").objectStore(ds),ir=se.createCompositeKey(Z);try{const vr=Jn.delete(ir);vr.onerror=er=>{gt(ko(er,"storage-delete"))},vr.onsuccess=()=>{Qe()}}catch(vr){gt(Sr.create("storage-delete",{originalErrorMessage:null===(Bt=vr)||void 0===Bt?void 0:Bt.message}))}})})()}createCompositeKey(Z){return[this.appId,this.appName,this.namespace,Z].join()}}class Js{constructor(Z){this.storage=Z}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var Z=this;return(0,re.Z)(function*(){const se=Z.storage.getLastFetchStatus(),we=Z.storage.getLastSuccessfulFetchTimestampMillis(),Qe=Z.storage.getActiveConfig(),gt=yield se;gt&&(Z.lastFetchStatus=gt);const Bt=yield we;Bt&&(Z.lastSuccessfulFetchTimestampMillis=Bt);const hn=yield Qe;hn&&(Z.activeConfig=hn)})()}setLastFetchStatus(Z){return this.lastFetchStatus=Z,this.storage.setLastFetchStatus(Z)}setLastSuccessfulFetchTimestampMillis(Z){return this.lastSuccessfulFetchTimestampMillis=Z,this.storage.setLastSuccessfulFetchTimestampMillis(Z)}setActiveConfig(Z){return this.activeConfig=Z,this.storage.setActiveConfig(Z)}}function es(){return $s.apply(this,arguments)}function $s(){return($s=(0,re.Z)(function*(){if(!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch{return!1}})).apply(this,arguments)}!function qi(){(0,Ve._registerComponent)(new Le.wA("remote-config",function B(Z,{instanceIdentifier:se}){const we=Z.getProvider("app").getImmediate(),Qe=Z.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Sr.create("registration-window");if(!(0,Re.hl)())throw Sr.create("indexed-db-unavailable");const{projectId:gt,apiKey:Bt,appId:hn}=we.options;if(!gt)throw Sr.create("registration-project-id");if(!Bt)throw Sr.create("registration-api-key");if(!hn)throw Sr.create("registration-app-id");const Jn=new ta(hn,we.name,se=se||"firebase"),ir=new Js(Jn),vr=new We.Yd(Ss);vr.logLevel=We.in.ERROR;const er=new Wo(Qe,Ve.SDK_VERSION,se,gt,Bt,hn),ys=new Qs(er,Jn),yo=new Go(ys,Jn,ir,vr),Ya=new Xs(we,yo,ir,Jn,vr);return function di(B){const Z=(0,Re.m9)(B);Z._initializePromise||(Z._initializePromise=Z._storageCache.loadFromStorage().then(()=>{Z._isInitializationComplete=!0}))}(Ya),Ya},"PUBLIC").setMultipleInstances(!0)),(0,Ve.registerVersion)(Ss,"0.3.15"),(0,Ve.registerVersion)(Ss,"0.3.15","esm2017")}();const Si="/firebase-messaging-sw.js",ts="/firebase-cloud-messaging-push-scope",Ai="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Io="google.c.a.c_id",ns="google.c.a.c_l",Bs="google.c.a.ts",ao="google.c.a.e";var mi=(()=>{return(B=mi||(mi={})).PUSH_RECEIVED="push-received",B.NOTIFICATION_CLICKED="notification-clicked",mi;var B})();function hi(B){const Z=new Uint8Array(B);return btoa(String.fromCharCode(...Z)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function rs(B){const se=(B+"=".repeat((4-B.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),we=atob(se),Qe=new Uint8Array(we.length);for(let gt=0;gt<we.length;++gt)Qe[gt]=we.charCodeAt(gt);return Qe}const Ki="fcm_token_details_db",Fi="fcm_token_object_Store";function uo(B){return Us.apply(this,arguments)}function Us(){return Us=(0,re.Z)(function*(B){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(gt=>gt.name).includes(Ki))return null;let Z=null;return(yield(0,He.X3)(Ki,5,{upgrade:(we=(0,re.Z)(function*(Qe,gt,Bt,hn){var Jn;if(gt<2||!Qe.objectStoreNames.contains(Fi))return;const ir=hn.objectStore(Fi),vr=yield ir.index("fcmSenderId").get(B);if(yield ir.clear(),vr)if(2===gt){const er=vr;if(!er.auth||!er.p256dh||!er.endpoint)return;Z={token:er.fcmToken,createTime:null!==(Jn=er.createTime)&&void 0!==Jn?Jn:Date.now(),subscriptionOptions:{auth:er.auth,p256dh:er.p256dh,endpoint:er.endpoint,swScope:er.swScope,vapidKey:"string"==typeof er.vapidKey?er.vapidKey:hi(er.vapidKey)}}}else if(3===gt){const er=vr;Z={token:er.fcmToken,createTime:er.createTime,subscriptionOptions:{auth:hi(er.auth),p256dh:hi(er.p256dh),endpoint:er.endpoint,swScope:er.swScope,vapidKey:hi(er.vapidKey)}}}else if(4===gt){const er=vr;Z={token:er.fcmToken,createTime:er.createTime,subscriptionOptions:{auth:hi(er.auth),p256dh:hi(er.p256dh),endpoint:er.endpoint,swScope:er.swScope,vapidKey:hi(er.vapidKey)}}}}),function(gt,Bt,hn,Jn){return we.apply(this,arguments)})})).close(),yield(0,He.Lj)(Ki),yield(0,He.Lj)("fcm_vapid_details_db"),yield(0,He.Lj)("undefined"),Lr(Z)?Z:null;var we}),Us.apply(this,arguments)}function Lr(B){if(!B||!B.subscriptionOptions)return!1;const{subscriptionOptions:Z}=B;return"number"==typeof B.createTime&&B.createTime>0&&"string"==typeof B.token&&B.token.length>0&&"string"==typeof Z.auth&&Z.auth.length>0&&"string"==typeof Z.p256dh&&Z.p256dh.length>0&&"string"==typeof Z.endpoint&&Z.endpoint.length>0&&"string"==typeof Z.swScope&&Z.swScope.length>0&&"string"==typeof Z.vapidKey&&Z.vapidKey.length>0}const Mi="firebase-messaging-store";let rr=null;function xi(){return rr||(rr=(0,He.X3)("firebase-messaging-database",1,{upgrade:(B,Z)=>{0===Z&&B.createObjectStore(Mi)}})),rr}function hs(B){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,re.Z)(function*(B){const Z=is(B),we=yield(yield xi()).transaction(Mi).objectStore(Mi).get(Z);if(we)return we;{const Qe=yield uo(B.appConfig.senderId);if(Qe)return yield wr(B,Qe),Qe}})).apply(this,arguments)}function wr(B,Z){return js.apply(this,arguments)}function js(){return(js=(0,re.Z)(function*(B,Z){const se=is(B),Qe=(yield xi()).transaction(Mi,"readwrite");return yield Qe.objectStore(Mi).put(Z,se),yield Qe.done,Z})).apply(this,arguments)}function Hs(B){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,re.Z)(function*(B){const Z=is(B),we=(yield xi()).transaction(Mi,"readwrite");yield we.objectStore(Mi).delete(Z),yield we.done})).apply(this,arguments)}function is({appConfig:B}){return B.appId}const Zr=new Re.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Nn(B,Z){return Co.apply(this,arguments)}function Co(){return(Co=(0,re.Z)(function*(B,Z){var se;const we=yield yi(B),Qe=Mt(Z),gt={method:"POST",headers:we,body:JSON.stringify(Qe)};let Bt;try{Bt=yield(yield fetch(ss(B.appConfig),gt)).json()}catch(hn){throw Zr.create("token-subscribe-failed",{errorInfo:null===(se=hn)||void 0===se?void 0:se.toString()})}if(Bt.error)throw Zr.create("token-subscribe-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw Zr.create("token-subscribe-no-token");return Bt.token})).apply(this,arguments)}function wo(B,Z){return co.apply(this,arguments)}function co(){return(co=(0,re.Z)(function*(B,Z){var se;const we=yield yi(B),Qe=Mt(Z.subscriptionOptions),gt={method:"PATCH",headers:we,body:JSON.stringify(Qe)};let Bt;try{Bt=yield(yield fetch(`${ss(B.appConfig)}/${Z.token}`,gt)).json()}catch(hn){throw Zr.create("token-update-failed",{errorInfo:null===(se=hn)||void 0===se?void 0:se.toString()})}if(Bt.error)throw Zr.create("token-update-failed",{errorInfo:Bt.error.message});if(!Bt.token)throw Zr.create("token-update-no-token");return Bt.token})).apply(this,arguments)}function fs(B,Z){return Pi.apply(this,arguments)}function Pi(){return(Pi=(0,re.Z)(function*(B,Z){var se;const Qe={method:"DELETE",headers:yield yi(B)};try{const Bt=yield(yield fetch(`${ss(B.appConfig)}/${Z}`,Qe)).json();if(Bt.error)throw Zr.create("token-unsubscribe-failed",{errorInfo:Bt.error.message})}catch(gt){throw Zr.create("token-unsubscribe-failed",{errorInfo:null===(se=gt)||void 0===se?void 0:se.toString()})}})).apply(this,arguments)}function ss({projectId:B}){return`https://fcmregistrations.googleapis.com/v1/projects/${B}/registrations`}function yi(B){return Vo.apply(this,arguments)}function Vo(){return(Vo=(0,re.Z)(function*({appConfig:B,installations:Z}){const se=yield Z.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":B.apiKey,"x-goog-firebase-installations-auth":`FIS ${se}`})})).apply(this,arguments)}function Mt({p256dh:B,auth:Z,endpoint:se,vapidKey:we}){const Qe={web:{endpoint:se,auth:Z,p256dh:B}};return we!==Ai&&(Qe.web.applicationPubKey=we),Qe}const ur=6048e5;function ps(B){return xs.apply(this,arguments)}function xs(){return(xs=(0,re.Z)(function*(B){const Z=yield zs(B.swRegistration,B.vapidKey),se={vapidKey:B.vapidKey,swScope:B.swRegistration.scope,endpoint:Z.endpoint,auth:hi(Z.getKey("auth")),p256dh:hi(Z.getKey("p256dh"))},we=yield hs(B.firebaseDependencies);if(we){if(K(we.subscriptionOptions,se))return Date.now()>=we.createTime+ur?os(B,{token:we.token,createTime:Date.now(),subscriptionOptions:se}):we.token;try{yield fs(B.firebaseDependencies,we.token)}catch(Qe){console.warn(Qe)}return $o(B.firebaseDependencies,se)}return $o(B.firebaseDependencies,se)})).apply(this,arguments)}function ti(B){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,re.Z)(function*(B){const Z=yield hs(B.firebaseDependencies);Z&&(yield fs(B.firebaseDependencies,Z.token),yield Hs(B.firebaseDependencies));const se=yield B.swRegistration.pushManager.getSubscription();return!se||se.unsubscribe()})).apply(this,arguments)}function os(B,Z){return gs.apply(this,arguments)}function gs(){return(gs=(0,re.Z)(function*(B,Z){try{const se=yield wo(B.firebaseDependencies,Z),we=Object.assign(Object.assign({},Z),{token:se,createTime:Date.now()});return yield wr(B.firebaseDependencies,we),se}catch(se){throw yield ti(B),se}})).apply(this,arguments)}function $o(B,Z){return Ps.apply(this,arguments)}function Ps(){return(Ps=(0,re.Z)(function*(B,Z){const we={token:yield Nn(B,Z),createTime:Date.now(),subscriptionOptions:Z};return yield wr(B,we),we.token})).apply(this,arguments)}function zs(B,Z){return ho.apply(this,arguments)}function ho(){return(ho=(0,re.Z)(function*(B,Z){return(yield B.pushManager.getSubscription())||B.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:rs(Z)})})).apply(this,arguments)}function K(B,Z){return Z.vapidKey===B.vapidKey&&Z.endpoint===B.endpoint&&Z.auth===B.auth&&Z.p256dh===B.p256dh}function j(B){const Z={from:B.from,collapseKey:B.collapse_key,messageId:B.fcmMessageId};return function k(B,Z){if(!Z.notification)return;B.notification={};const se=Z.notification.title;se&&(B.notification.title=se);const we=Z.notification.body;we&&(B.notification.body=we);const Qe=Z.notification.image;Qe&&(B.notification.image=Qe);const gt=Z.notification.icon;gt&&(B.notification.icon=gt)}(Z,B),function ae(B,Z){!Z.data||(B.data=Z.data)}(Z,B),function ct(B,Z){var se,we,Qe,gt,Bt;if(!(Z.fcmOptions||null!==(se=Z.notification)&&void 0!==se&&se.click_action))return;B.fcmOptions={};const hn=null!==(Qe=null===(we=Z.fcmOptions)||void 0===we?void 0:we.link)&&void 0!==Qe?Qe:null===(gt=Z.notification)||void 0===gt?void 0:gt.click_action;hn&&(B.fcmOptions.link=hn);const Jn=null===(Bt=Z.fcmOptions)||void 0===Bt?void 0:Bt.analytics_label;Jn&&(B.fcmOptions.analyticsLabel=Jn)}(Z,B),Z}function un(B){return"object"==typeof B&&!!B&&Io in B}function Ln(B,Z){const se=[];for(let we=0;we<B.length;we++)se.push(B.charAt(we)),we<Z.length&&se.push(Z.charAt(we));return se.join("")}function Vi(B){return Zr.create("missing-app-config-values",{valueName:B})}Ln("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Ln("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class ls{constructor(Z,se,we){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Qe=function as(B){if(!B||!B.options)throw Vi("App Configuration Object");if(!B.name)throw Vi("App Name");const Z=["projectId","apiKey","appId","messagingSenderId"],{options:se}=B;for(const we of Z)if(!se[we])throw Vi(we);return{appName:B.name,projectId:se.projectId,apiKey:se.apiKey,appId:se.appId,senderId:se.messagingSenderId}}(Z);this.firebaseDependencies={app:Z,appConfig:Qe,installations:se,analyticsProvider:we}}_delete(){return Promise.resolve()}}function Do(B){return fo.apply(this,arguments)}function fo(){return(fo=(0,re.Z)(function*(B){var Z;try{B.swRegistration=yield navigator.serviceWorker.register(Si,{scope:ts}),B.swRegistration.update().catch(()=>{})}catch(se){throw Zr.create("failed-service-worker-registration",{browserErrorMessage:null===(Z=se)||void 0===Z?void 0:Z.message})}})).apply(this,arguments)}function to(B,Z){return ua.apply(this,arguments)}function ua(){return(ua=(0,re.Z)(function*(B,Z){if(!Z&&!B.swRegistration&&(yield Do(B)),Z||!B.swRegistration){if(!(Z instanceof ServiceWorkerRegistration))throw Zr.create("invalid-sw-registration");B.swRegistration=Z}})).apply(this,arguments)}function po(B,Z){return ca.apply(this,arguments)}function ca(){return(ca=(0,re.Z)(function*(B,Z){Z?B.vapidKey=Z:B.vapidKey||(B.vapidKey=Ai)})).apply(this,arguments)}function x(){return(x=(0,re.Z)(function*(B,Z){if(!navigator)throw Zr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Zr.create("permission-blocked");return yield po(B,Z?.vapidKey),yield to(B,Z?.serviceWorkerRegistration),ps(B)})).apply(this,arguments)}function w(B,Z,se){return O.apply(this,arguments)}function O(){return(O=(0,re.Z)(function*(B,Z,se){const we=z(Z);(yield B.firebaseDependencies.analyticsProvider.get()).logEvent(we,{message_id:se[Io],message_name:se[ns],message_time:se[Bs],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function z(B){switch(B){case mi.NOTIFICATION_CLICKED:return"notification_open";case mi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function S(){return(S=(0,re.Z)(function*(B,Z){const se=Z.data;if(!se.isFirebaseMessaging)return;B.onMessageHandler&&se.messageType===mi.PUSH_RECEIVED&&("function"==typeof B.onMessageHandler?B.onMessageHandler(j(se)):B.onMessageHandler.next(j(se)));const we=se.data;un(we)&&"1"===we[ao]&&(yield w(B,se.messageType,we))})).apply(this,arguments)}const _="@firebase/messaging",M="0.11.0",V=B=>{const Z=new ls(B.getProvider("app").getImmediate(),B.getProvider("installations-internal").getImmediate(),B.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",se=>function g(B,Z){return S.apply(this,arguments)}(Z,se)),Z},H=B=>{const Z=B.getProvider("messaging").getImmediate();return{getToken:we=>function u(B,Z){return x.apply(this,arguments)}(Z,we)}};function ne(){return ge.apply(this,arguments)}function ge(){return(ge=(0,re.Z)(function*(){try{yield(0,Re.eu)()}catch{return!1}return typeof window<"u"&&(0,Re.hl)()&&(0,Re.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function W(){(0,Ve._registerComponent)(new Le.wA("messaging",V,"PUBLIC")),(0,Ve._registerComponent)(new Le.wA("messaging-internal",H,"PRIVATE")),(0,Ve.registerVersion)(_,M),(0,Ve.registerVersion)(_,M,"esm2017")}();const Ot="analytics",Rt="firebase_id",Lt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",st="https://www.googletagmanager.com/gtag/js",Ze=new We.Yd("@firebase/analytics");function U(B){return Promise.all(B.map(Z=>Z.catch(se=>se)))}function v(B,Z){const se=document.createElement("script");se.src=`${st}?l=${B}&id=${Z}`,se.async=!0,document.head.appendChild(se)}function R(B,Z,se,we,Qe,gt){return Q.apply(this,arguments)}function Q(){return(Q=(0,re.Z)(function*(B,Z,se,we,Qe,gt){const Bt=we[Qe];try{if(Bt)yield Z[Bt];else{const Jn=(yield U(se)).find(ir=>ir.measurementId===Qe);Jn&&(yield Z[Jn.appId])}}catch(hn){Ze.error(hn)}B("config",Qe,gt)})).apply(this,arguments)}function te(B,Z,se,we,Qe){return be.apply(this,arguments)}function be(){return(be=(0,re.Z)(function*(B,Z,se,we,Qe){try{let gt=[];if(Qe&&Qe.send_to){let Bt=Qe.send_to;Array.isArray(Bt)||(Bt=[Bt]);const hn=yield U(se);for(const Jn of Bt){const ir=hn.find(er=>er.measurementId===Jn),vr=ir&&Z[ir.appId];if(!vr){gt=[];break}gt.push(vr)}}0===gt.length&&(gt=Object.values(Z)),yield Promise.all(gt),B("event",we,Qe||{})}catch(gt){Ze.error(gt)}})).apply(this,arguments)}function wt(B){const Z=window.document.getElementsByTagName("script");for(const se of Object.values(Z))if(se.src&&se.src.includes(st)&&se.src.includes(B))return se;return null}const qt=new Re.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),qn=new class wn{constructor(Z={},se=1e3){this.throttleMetadata=Z,this.intervalMillis=se}getThrottleMetadata(Z){return this.throttleMetadata[Z]}setThrottleMetadata(Z,se){this.throttleMetadata[Z]=se}deleteThrottleMetadata(Z){delete this.throttleMetadata[Z]}};function Yr(B){return new Headers({Accept:"application/json","x-goog-api-key":B})}function Dt(B){return sr.apply(this,arguments)}function sr(){return(sr=(0,re.Z)(function*(B){var Z;const{appId:se,apiKey:we}=B,Qe={method:"GET",headers:Yr(we)},gt=Lt.replace("{app-id}",se),Bt=yield fetch(gt,Qe);if(200!==Bt.status&&304!==Bt.status){let hn="";try{const Jn=yield Bt.json();null!==(Z=Jn.error)&&void 0!==Z&&Z.message&&(hn=Jn.error.message)}catch{}throw qt.create("config-fetch-failed",{httpStatus:Bt.status,responseMessage:hn})}return Bt.json()})).apply(this,arguments)}function cr(B){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,re.Z)(function*(B,Z=qn,se){const{appId:we,apiKey:Qe,measurementId:gt}=B.options;if(!we)throw qt.create("no-app-id");if(!Qe){if(gt)return{measurementId:gt,appId:we};throw qt.create("no-api-key")}const Bt=Z.getThrottleMetadata(we)||{backoffCount:0,throttleEndTimeMillis:Date.now()},hn=new ht;return setTimeout((0,re.Z)(function*(){hn.abort()}),void 0!==se?se:6e4),cn({appId:we,apiKey:Qe,measurementId:gt},Bt,hn,Z)})).apply(this,arguments)}function cn(B,Z,se){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,re.Z)(function*(B,{throttleEndTimeMillis:Z,backoffCount:se},we,Qe=qn){var gt,Bt;const{appId:hn,measurementId:Jn}=B;try{yield wi(we,Z)}catch(ir){if(Jn)return Ze.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jn} provided in the "measurementId" field in the local Firebase config. [${null===(gt=ir)||void 0===gt?void 0:gt.message}]`),{appId:hn,measurementId:Jn};throw ir}try{const ir=yield Dt(B);return Qe.deleteThrottleMetadata(hn),ir}catch(ir){const vr=ir;if(!Zt(vr)){if(Qe.deleteThrottleMetadata(hn),Jn)return Ze.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${Jn} provided in the "measurementId" field in the local Firebase config. [${vr?.message}]`),{appId:hn,measurementId:Jn};throw ir}const er=503===Number(null===(Bt=vr?.customData)||void 0===Bt?void 0:Bt.httpStatus)?(0,Re.$s)(se,Qe.intervalMillis,30):(0,Re.$s)(se,Qe.intervalMillis),ys={throttleEndTimeMillis:Date.now()+er,backoffCount:se+1};return Qe.setThrottleMetadata(hn,ys),Ze.debug(`Calling attemptFetch again in ${er} millis`),cn(B,ys,we,Qe)}})).apply(this,arguments)}function wi(B,Z){return new Promise((se,we)=>{const Qe=Math.max(Z-Date.now(),0),gt=setTimeout(se,Qe);B.addEventListener(()=>{clearTimeout(gt),we(qt.create("fetch-throttle",{throttleEndTimeMillis:Z}))})})}function Zt(B){if(!(B instanceof Re.ZR&&B.customData))return!1;const Z=Number(B.customData.httpStatus);return 429===Z||500===Z||503===Z||504===Z}class ht{constructor(){this.listeners=[]}addEventListener(Z){this.listeners.push(Z)}abort(){this.listeners.forEach(Z=>Z())}}let xt,ks;function no(){return(no=(0,re.Z)(function*(B,Z,se,we,Qe){if(Qe&&Qe.global)B("event",se,we);else{const gt=yield Z;B("event",se,Object.assign(Object.assign({},we),{send_to:gt}))}})).apply(this,arguments)}function $i(B){ks=B}function Kn(B){xt=B}function fr(){return _a.apply(this,arguments)}function _a(){return(_a=(0,re.Z)(function*(){var B;if(!(0,Re.hl)())return Ze.warn(qt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Re.eu)()}catch(Z){return Ze.warn(qt.create("indexeddb-unavailable",{errorInfo:null===(B=Z)||void 0===B?void 0:B.toString()}).message),!1}return!0})).apply(this,arguments)}function bn(){return(bn=(0,re.Z)(function*(B,Z,se,we,Qe,gt,Bt){var hn;const Jn=cr(B);Jn.then(yo=>{se[yo.measurementId]=yo.appId,B.options.measurementId&&yo.measurementId!==B.options.measurementId&&Ze.warn(`The measurement ID in the local Firebase config (${B.options.measurementId}) does not match the measurement ID fetched from the server (${yo.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(yo=>Ze.error(yo)),Z.push(Jn);const ir=fr().then(yo=>{if(yo)return we.getId()}),[vr,er]=yield Promise.all([Jn,ir]);wt(gt)||v(gt,vr.measurementId),ks&&(Qe("consent","default",ks),$i(void 0)),Qe("js",new Date);const ys=null!==(hn=Bt?.config)&&void 0!==hn?hn:{};return ys.origin="firebase",ys.update=!0,null!=er&&(ys[Rt]=er),Qe("config",vr.measurementId,ys),xt&&(Qe("set",xt),Kn(void 0)),vr.measurementId})).apply(this,arguments)}class Ls{constructor(Z){this.app=Z}_delete(){return delete $n[this.app.options.appId],Promise.resolve()}}let $n={},go=[];const Qr={};let da,Gs,sn="dataLayer",Ma=!1;function qa(B,Z,se){!function Xc(){const B=[];if((0,Re.ru)()&&B.push("This is a browser extension environment."),(0,Re.zI)()||B.push("Cookies are not available."),B.length>0){const Z=B.map((we,Qe)=>`(${Qe+1}) ${we}`).join(" "),se=qt.create("invalid-analytics-context",{errorInfo:Z});Ze.warn(se.message)}}();const we=B.options.appId;if(!we)throw qt.create("no-app-id");if(!B.options.apiKey){if(!B.options.measurementId)throw qt.create("no-api-key");Ze.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${B.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=$n[we])throw qt.create("already-exists",{id:we});if(!Ma){!function C(B){let Z=[];Array.isArray(window[B])?Z=window[B]:window[B]=Z}(sn);const{wrappedGtag:gt,gtagCore:Bt}=function Je(B,Z,se,we,Qe){let gt=function(...Bt){window[we].push(arguments)};return window[Qe]&&"function"==typeof window[Qe]&&(gt=window[Qe]),window[Qe]=function Te(B,Z,se,we){function gt(){return(gt=(0,re.Z)(function*(Bt,hn,Jn){try{"event"===Bt?yield te(B,Z,se,hn,Jn):"config"===Bt?yield R(B,Z,se,we,hn,Jn):"consent"===Bt?B("consent","update",Jn):B("set",hn)}catch(ir){Ze.error(ir)}})).apply(this,arguments)}return function Qe(Bt,hn,Jn){return gt.apply(this,arguments)}}(gt,B,Z,se),{gtagCore:gt,wrappedGtag:window[Qe]}}($n,go,Qr,sn,"gtag");Gs=gt,da=Bt,Ma=!0}return $n[we]=function Jr(B,Z,se,we,Qe,gt,Bt){return bn.apply(this,arguments)}(B,go,Qr,Z,da,sn,se),new Ls(B)}function Yo(){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,re.Z)(function*(){if((0,Re.ru)()||!(0,Re.zI)()||!(0,Re.hl)())return!1;try{return yield(0,Re.eu)()}catch{return!1}})).apply(this,arguments)}const Yu="@firebase/analytics";!function ws(){(0,Ve._registerComponent)(new Le.wA(Ot,(Z,{options:se})=>qa(Z.getProvider("app").getImmediate(),Z.getProvider("installations-internal").getImmediate(),se),"PUBLIC")),(0,Ve._registerComponent)(new Le.wA("analytics-internal",function B(Z){try{const se=Z.getProvider(Ot).getImmediate();return{logEvent:(we,Qe,gt)=>function Oa(B,Z,se,we){B=(0,Re.m9)(B),function Di(B,Z,se,we,Qe){return no.apply(this,arguments)}(Gs,$n[B.app.options.appId],Z,se,we).catch(Qe=>Ze.error(Qe))}(se,we,Qe,gt)}}catch(se){throw qt.create("interop-component-reg-failed",{reason:se})}},"PRIVATE")),(0,Ve.registerVersion)(Yu,"0.8.4"),(0,Ve.registerVersion)(Yu,"0.8.4","esm2017")}();var Bo=ee(4408),Ra=ee(7565);const dl=new class na extends Ra.v{}(class Ea extends Bo.o{constructor(Z,se){super(Z,se),this.scheduler=Z,this.work=se}schedule(Z,se=0){return se>0?super.schedule(Z,se):(this.delay=se,this.state=Z,this.scheduler.flush(this),this)}execute(Z,se){return se>0||this.closed?super.execute(Z,se):this._execute(Z,se)}requestAsyncId(Z,se,we=0){return null!=we&&we>0||null==we&&this.delay>0?super.requestAsyncId(Z,se,we):(Z.flush(this),0)}});var qs=ee(4986),Za=ee(8505),Uo=ee(9468),Va=ee(5363);const Gr=new m.GfV("7.5.0"),ka="__angularfire_symbol__analyticsIsSupportedValue",D="__angularfire_symbol__analyticsIsSupported",T="__angularfire_symbol__remoteConfigIsSupportedValue",I="__angularfire_symbol__remoteConfigIsSupported",L="__angularfire_symbol__messagingIsSupportedValue",G="__angularfire_symbol__messagingIsSupported";function jt(B,Z,se){if(Z){if(1===Z.length)return Z[0];const gt=Z.filter(Bt=>Bt.app===se);if(1===gt.length)return gt[0]}return se.container.getProvider(B).getImmediate({optional:!0})}globalThis[D]||(globalThis[D]=Yo().then(B=>globalThis[ka]=B).catch(()=>globalThis[ka]=!1)),globalThis[G]||(globalThis[G]=ne().then(B=>globalThis[L]=B).catch(()=>globalThis[L]=!1)),globalThis[I]||(globalThis[I]=es().then(B=>globalThis[T]=B).catch(()=>globalThis[T]=!1));const Qn=(B,Z)=>{const se=Z?[Z]:(0,ie.C6)(),we=[];return se.forEach(Qe=>{Qe.container.getProvider(B).instances.forEach(Bt=>{we.includes(Bt)||we.push(Bt)})}),we};function vn(){}class xr{constructor(Z,se=dl){this.zone=Z,this.delegate=se}now(){return this.delegate.now()}schedule(Z,se,we){const Qe=this.zone;return this.delegate.schedule(function(Bt){Qe.runGuarded(()=>{Z.apply(this,[Bt])})},se,we)}}class ms{constructor(Z){this.zone=Z,this.task=null}call(Z,se){const we=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",vn,{},vn,vn)),se.pipe((0,Za.b)({next:we,complete:we,error:we})).subscribe(Z).add(we)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let jo=(()=>{class B{constructor(se){this.ngZone=se,this.outsideAngular=se.runOutsideAngular(()=>new xr(Zone.current)),this.insideAngular=se.run(()=>new xr(Zone.current,qs.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return B.\u0275fac=function(se){return new(se||B)(m.LFG(m.R0b))},B.\u0275prov=m.Yz7({token:B,factory:B.\u0275fac,providedIn:"root"}),B})();function Xi(){const B=globalThis.\u0275AngularFireScheduler;if(!B)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return B}function ha(B){return Xi(),function Ba(B){return function(se){return(se=se.lift(new ms(B.ngZone))).pipe((0,Uo.R)(B.outsideAngular),(0,Va.Q)(B.insideAngular))}}(Xi())(B)}},2090:(an,at,ee)=>{ee.d(at,{$s:()=>Gt,BH:()=>zn,G6:()=>vt,L:()=>He,LL:()=>hr,Pz:()=>Bn,Sg:()=>Kt,UG:()=>ft,US:()=>Le,ZB:()=>ve,ZR:()=>Gn,aH:()=>pn,b$:()=>ut,eu:()=>Et,hl:()=>$t,jU:()=>rn,m9:()=>Un,ne:()=>dt,pd:()=>Ui,r3:()=>Pn,ru:()=>pt,tV:()=>qe,uI:()=>tt,vZ:()=>Xt,w1:()=>_n,xO:()=>_r,xb:()=>oi,z$:()=>Pt,zI:()=>Se,zd:()=>pi});const Ve=function(Fe){const De=[];let je=0;for(let Ct=0;Ct<Fe.length;Ct++){let Ye=Fe.charCodeAt(Ct);Ye<128?De[je++]=Ye:Ye<2048?(De[je++]=Ye>>6|192,De[je++]=63&Ye|128):55296==(64512&Ye)&&Ct+1<Fe.length&&56320==(64512&Fe.charCodeAt(Ct+1))?(Ye=65536+((1023&Ye)<<10)+(1023&Fe.charCodeAt(++Ct)),De[je++]=Ye>>18|240,De[je++]=Ye>>12&63|128,De[je++]=Ye>>6&63|128,De[je++]=63&Ye|128):(De[je++]=Ye>>12|224,De[je++]=Ye>>6&63|128,De[je++]=63&Ye|128)}return De},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(Fe,De){if(!Array.isArray(Fe))throw Error("encodeByteArray takes an array as a parameter");this.init_();const je=De?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ct=[];for(let Ye=0;Ye<Fe.length;Ye+=3){const Yt=Fe[Ye],An=Ye+1<Fe.length,lr=An?Fe[Ye+1]:0,Nr=Ye+2<Fe.length,gr=Nr?Fe[Ye+2]:0;let pe=(15&lr)<<2|gr>>6,et=63&gr;Nr||(et=64,An||(pe=64)),Ct.push(je[Yt>>2],je[(3&Yt)<<4|lr>>4],je[pe],je[et])}return Ct.join("")},encodeString(Fe,De){return this.HAS_NATIVE_SUPPORT&&!De?btoa(Fe):this.encodeByteArray(Ve(Fe),De)},decodeString(Fe,De){return this.HAS_NATIVE_SUPPORT&&!De?atob(Fe):function(Fe){const De=[];let je=0,Ct=0;for(;je<Fe.length;){const Ye=Fe[je++];if(Ye<128)De[Ct++]=String.fromCharCode(Ye);else if(Ye>191&&Ye<224){const Yt=Fe[je++];De[Ct++]=String.fromCharCode((31&Ye)<<6|63&Yt)}else if(Ye>239&&Ye<365){const Nr=((7&Ye)<<18|(63&Fe[je++])<<12|(63&Fe[je++])<<6|63&Fe[je++])-65536;De[Ct++]=String.fromCharCode(55296+(Nr>>10)),De[Ct++]=String.fromCharCode(56320+(1023&Nr))}else{const Yt=Fe[je++],An=Fe[je++];De[Ct++]=String.fromCharCode((15&Ye)<<12|(63&Yt)<<6|63&An)}}return De.join("")}(this.decodeStringToByteArray(Fe,De))},decodeStringToByteArray(Fe,De){this.init_();const je=De?this.charToByteMapWebSafe_:this.charToByteMap_,Ct=[];for(let Ye=0;Ye<Fe.length;){const Yt=je[Fe.charAt(Ye++)],lr=Ye<Fe.length?je[Fe.charAt(Ye)]:0;++Ye;const gr=Ye<Fe.length?je[Fe.charAt(Ye)]:64;++Ye;const _e=Ye<Fe.length?je[Fe.charAt(Ye)]:64;if(++Ye,null==Yt||null==lr||null==gr||null==_e)throw Error();Ct.push(Yt<<2|lr>>4),64!==gr&&(Ct.push(lr<<4&240|gr>>2),64!==_e&&Ct.push(gr<<6&192|_e))}return Ct},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let Fe=0;Fe<this.ENCODED_VALS.length;Fe++)this.byteToCharMap_[Fe]=this.ENCODED_VALS.charAt(Fe),this.charToByteMap_[this.byteToCharMap_[Fe]]=Fe,this.byteToCharMapWebSafe_[Fe]=this.ENCODED_VALS_WEBSAFE.charAt(Fe),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[Fe]]=Fe,Fe>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(Fe)]=Fe,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(Fe)]=Fe)}}},He=function(Fe){return function(Fe){const De=Ve(Fe);return Le.encodeByteArray(De,!0)}(Fe).replace(/\./g,"")},qe=function(Fe){try{return Le.decodeString(Fe,!0)}catch(De){console.error("base64Decode failed: ",De)}return null};function ve(Fe,De){if(!(De instanceof Object))return De;switch(De.constructor){case Date:return new Date(De.getTime());case Object:void 0===Fe&&(Fe={});break;case Array:Fe=[];break;default:return De}for(const je in De)!De.hasOwnProperty(je)||!$e(je)||(Fe[je]=ve(Fe[je],De[je]));return Fe}function $e(Fe){return"__proto__"!==Fe}function Pt(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function tt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pt())}function ft(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function rn(){return"object"==typeof self&&self.self===self}function pt(){const Fe="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof Fe&&void 0!==Fe.id}function ut(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function _n(){const Fe=Pt();return Fe.indexOf("MSIE ")>=0||Fe.indexOf("Trident/")>=0}function vt(){return!ft()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $t(){return"object"==typeof indexedDB}function Et(){return new Promise((Fe,De)=>{try{let je=!0;const Ct="validate-browser-context-for-indexeddb-analytics-module",Ye=self.indexedDB.open(Ct);Ye.onsuccess=()=>{Ye.result.close(),je||self.indexedDB.deleteDatabase(Ct),Fe(!0)},Ye.onupgradeneeded=()=>{je=!1},Ye.onerror=()=>{var Yt;De((null===(Yt=Ye.error)||void 0===Yt?void 0:Yt.message)||"")}}catch(je){De(je)}})}function Se(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Xe=()=>{try{return function nt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const Fe=process.env.__FIREBASE_DEFAULTS__;return Fe?JSON.parse(Fe):void 0})()||(()=>{if(typeof document>"u")return;let Fe;try{Fe=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const De=Fe&&qe(Fe[1]);return De&&JSON.parse(De)})()}catch(Fe){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Fe}`)}},pn=()=>{var Fe;return null===(Fe=Xe())||void 0===Fe?void 0:Fe.config},Bn=Fe=>{var De;return null===(De=Xe())||void 0===De?void 0:De[`_${Fe}`]};class zn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((De,je)=>{this.resolve=De,this.reject=je})}wrapCallback(De){return(je,Ct)=>{je?this.reject(je):this.resolve(Ct),"function"==typeof De&&(this.promise.catch(()=>{}),1===De.length?De(je):De(je,Ct))}}}function Kt(Fe,De){if(Fe.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ct=De||"demo-project",Ye=Fe.iat||0,Yt=Fe.sub||Fe.user_id;if(!Yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const An=Object.assign({iss:`https://securetoken.google.com/${Ct}`,aud:Ct,iat:Ye,exp:Ye+3600,auth_time:Ye,sub:Yt,user_id:Yt,firebase:{sign_in_provider:"custom",identities:{}}},Fe);return[He(JSON.stringify({alg:"none",type:"JWT"})),He(JSON.stringify(An)),""].join(".")}class Gn extends Error{constructor(De,je,Ct){super(je),this.code=De,this.customData=Ct,this.name="FirebaseError",Object.setPrototypeOf(this,Gn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hr.prototype.create)}}class hr{constructor(De,je,Ct){this.service=De,this.serviceName=je,this.errors=Ct}create(De,...je){const Ct=je[0]||{},Ye=`${this.service}/${De}`,Yt=this.errors[De],An=Yt?function Fn(Fe,De){return Fe.replace(Xr,(je,Ct)=>{const Ye=De[Ct];return null!=Ye?String(Ye):`<${Ct}?>`})}(Yt,Ct):"Error";return new Gn(Ye,`${this.serviceName}: ${An} (${Ye}).`,Ct)}}const Xr=/\{\$([^}]+)}/g;function Pn(Fe,De){return Object.prototype.hasOwnProperty.call(Fe,De)}function oi(Fe){for(const De in Fe)if(Object.prototype.hasOwnProperty.call(Fe,De))return!1;return!0}function Xt(Fe,De){if(Fe===De)return!0;const je=Object.keys(Fe),Ct=Object.keys(De);for(const Ye of je){if(!Ct.includes(Ye))return!1;const Yt=Fe[Ye],An=De[Ye];if(fi(Yt)&&fi(An)){if(!Xt(Yt,An))return!1}else if(Yt!==An)return!1}for(const Ye of Ct)if(!je.includes(Ye))return!1;return!0}function fi(Fe){return null!==Fe&&"object"==typeof Fe}function _r(Fe){const De=[];for(const[je,Ct]of Object.entries(Fe))Array.isArray(Ct)?Ct.forEach(Ye=>{De.push(encodeURIComponent(je)+"="+encodeURIComponent(Ye))}):De.push(encodeURIComponent(je)+"="+encodeURIComponent(Ct));return De.length?"&"+De.join("&"):""}function pi(Fe){const De={};return Fe.replace(/^\?/,"").split("&").forEach(Ct=>{if(Ct){const[Ye,Yt]=Ct.split("=");De[decodeURIComponent(Ye)]=decodeURIComponent(Yt)}}),De}function Ui(Fe){const De=Fe.indexOf("?");if(!De)return"";const je=Fe.indexOf("#",De);return Fe.substring(De,je>0?je:void 0)}function dt(Fe,De){const je=new Oe(Fe,De);return je.subscribe.bind(je)}class Oe{constructor(De,je){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=je,this.task.then(()=>{De(this)}).catch(Ct=>{this.error(Ct)})}next(De){this.forEachObserver(je=>{je.next(De)})}error(De){this.forEachObserver(je=>{je.error(De)}),this.close(De)}complete(){this.forEachObserver(De=>{De.complete()}),this.close()}subscribe(De,je,Ct){let Ye;if(void 0===De&&void 0===je&&void 0===Ct)throw new Error("Missing Observer.");Ye=function lt(Fe,De){if("object"!=typeof Fe||null===Fe)return!1;for(const je of De)if(je in Fe&&"function"==typeof Fe[je])return!0;return!1}(De,["next","error","complete"])?De:{next:De,error:je,complete:Ct},void 0===Ye.next&&(Ye.next=It),void 0===Ye.error&&(Ye.error=It),void 0===Ye.complete&&(Ye.complete=It);const Yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Ye.error(this.finalError):Ye.complete()}catch{}}),this.observers.push(Ye),Yt}unsubscribeOne(De){void 0===this.observers||void 0===this.observers[De]||(delete this.observers[De],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(De){if(!this.finalized)for(let je=0;je<this.observers.length;je++)this.sendOne(je,De)}sendOne(De,je){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[De])try{je(this.observers[De])}catch(Ct){typeof console<"u"&&console.error&&console.error(Ct)}})}close(De){this.finalized||(this.finalized=!0,void 0!==De&&(this.finalError=De),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function It(){}function Gt(Fe,De=1e3,je=2){const Ct=De*Math.pow(je,Fe),Ye=Math.round(.5*Ct*(Math.random()-.5)*2);return Math.min(144e5,Ct+Ye)}function Un(Fe){return Fe&&Fe._delegate?Fe._delegate:Fe}},9709:(an,at,ee)=>{ee.d(at,{G:()=>We});var m=ee(5861),ie=ee(433),re=ee(5071),Ve=ee(4650),Re=ee(35),Le=ee(529);let We=(()=>{class He{constructor(fe,ve,$e){this.formBuilder=fe,this.firestore=ve,this.http=$e,this.isModalOpen=!1,this.showMailExistsError=!1,this.EMAIL_REGEX="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.citySlider=[],this.VOTE_LINK="https://www.vecernji.hr/vijesti/biramo-najadvent-2022-prijavite-svoj-advent-i-krenite-u-osvajanje-zlatnog-bora-1635731",this.isVoteModalOpen=!1,this.disableButton=!1,this.userVotes={}}openModal(fe,ve){this.selectedCity=this.sortedCities[ve].citymodalimages,this.selectedIndex=ve,this.cityArticleUrl=this.getCityUrl(fe.name),this.isModalOpen=!0,this.configCities=new re.ZP("#city-slider",{speed:500,slidesPerView:1,autoplay:!1,initialSlide:ve,pagination:{el:"#swiper-pagination-"+ve,type:"bullets",clickable:!0}})}getCityUrl(fe){return"Velika Gorica"===fe?"https://www.vecernji.hr/vijesti/adventska-carolija-u-centru-velike-gorice-1636654":"Samobor"===fe?"https://www.vecernji.hr/vijesti/pripremite-se-za-poseban-advent-samobor-poput-pravog-adventskog-kalendara-nudi-bezbroj-iznenadenja-1636595":"Vinkovci"===fe?"https://www.vecernji.hr/vijesti/organizatori-spremni-do-bozicne-idile-ostalo-je-manje-od-10-dana-1636578":"Trilj"===fe?"https://www.vecernji.hr/vijesti/advent-u-trilju-1637734":"Split"===fe?"https://visitsplit.com/hr/5909/advent-u-splitu-2022-storije-o-adventa":"Crikvenica"===fe?"https://www.adventcrikvenica.hr/":"Sinj"===fe?"https://www.vecernji.hr/vijesti/otvoren-advent-u-sinju-posjetitelje-ocekuje-bogat-kulturno-zabavni-i-gastronomski-programom-1638297":"Popova\u010da"===fe?"https://www.vecernji.hr/vijesti/dani-bozica-i-adventske-radosti-u-popovaci-1638238":"Koprivnica"===fe?"https://www.vecernji.hr/vijesti/advent-u-koprivnici-srednjovjekovni-bozicni-sajam-2022-1636672":"Rab"===fe?"https://www.rab-visit.com/hr/novosti/najljepsi-otocni-advent/4887":"Pula"===fe?"https://adventupuli.hr/":"Karlovac"===fe?"https://visitkarlovac.hr/advent-karlovac/":"Ka\u0161tela"===fe?"https://www.vecernji.hr/vijesti/predstavljen-program-manifestacije-advent-u-kastelima-2022-1636690":"Kri\u017eevci"===fe?"https://www.vecernji.hr/vijesti/otkrijte-caroliju-prijateljstva-na-adventu-u-krizevcima-1639579":""}closeModal(){this.isModalOpen=!1}mapCities(fe){fe.sort((ve,$e)=>ve.name.localeCompare($e.name)),this.sortedCities=fe,this.sortedCities.forEach((ve,$e)=>{this.citySlider.push({navigation:!0,slidesPerView:1,speed:500,pagination:{el:"#swiper-pagination-"+$e,type:"bullets",clickable:!0},autoplay:{delay:3e3,disableOnInteraction:!1},spaceBetween:30,effect:"fade"})})}validateEmail(){}goToVoting(fe){var ve=this;return(0,m.Z)(function*(){ve.voteForCity(fe)})()}goToArticle(){this.opetVoteModal()}voteForCity(fe){var ve=this;return(0,m.Z)(function*(){ve.disableButton=!0,ve.http.get("https://api.ipregistry.co/?key=z8g2sv22m146yjvo").subscribe(function(){var $e=(0,m.Z)(function*(Pt){ve.votes.find(ft=>ft.ip===Pt.ip&&ft.grad===fe)?alert("Mo\u017eete glasati samo jednom za svaki grad."):(yield ve.firestore.firestore.collection("glasanje").add({grad:fe,ip:Pt.ip}),alert("Uspje\u0161no ste glasi za grad "+fe+"."))});return function(Pt){return $e.apply(this,arguments)}}()),ve.disableButton=!1})()}mapCount(fe){const ve={};fe.forEach($e=>{ve[$e.grad]=ve[$e.grad]?ve[$e.grad]+1:1}),this.userVotes=ve}opetVoteModal(){this.form=this.formBuilder.group({email:new ie.NI("",[ie.kI.required,ie.kI.pattern(this.EMAIL_REGEX)]),address:""}),this.isVoteModalOpen=!0}}return He.\u0275fac=function(fe){return new(fe||He)(Ve.LFG(ie.qu),Ve.LFG(Re.ST),Ve.LFG(Le.eN))},He.\u0275prov=Ve.Yz7({token:He,factory:He.\u0275fac,providedIn:"root"}),He})()},7176:(an,at,ee)=>{var m=ee(1481),ie=ee(4650),re=ee(35),Ve=ee(9709),Re=ee(8471);let Le=(()=>{class U{constructor(C,R){this.firestore=C,this.favorites=R}ngOnInit(){this.readData()}readData(){this.firestore.collection("glasanje").valueChanges().subscribe(C=>{this.favorites.mapCount(C),this.favorites.votes=C})}}return U.\u0275fac=function(C){return new(C||U)(ie.Y36(re.ST),ie.Y36(Ve.G))},U.\u0275cmp=ie.Xpm({type:U,selectors:[["app-root"]],decls:1,vars:0,template:function(C,R){1&C&&ie._UZ(0,"router-outlet")},dependencies:[Re.lC],encapsulation:2}),U})();class We{}const qe="*";function Pt(U,v=null){return{type:2,steps:U,options:v}}function tt(U){return{type:6,styles:U,offset:null}}function vt(U){Promise.resolve().then(U)}class $t{constructor(v=0,C=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=v+C}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){vt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(v=>v()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(v){this._position=this.totalTime?v*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(v){const C="start"==v?this._onStartFns:this._onDoneFns;C.forEach(R=>R()),C.length=0}}class Et{constructor(v){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=v;let C=0,R=0,Q=0;const te=this.players.length;0==te?vt(()=>this._onFinish()):this.players.forEach(be=>{be.onDone(()=>{++C==te&&this._onFinish()}),be.onDestroy(()=>{++R==te&&this._onDestroy()}),be.onStart(()=>{++Q==te&&this._onStart()})}),this.totalTime=this.players.reduce((be,Te)=>Math.max(be,Te.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this.players.forEach(v=>v.init())}onStart(v){this._onStartFns.push(v)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(v=>v()),this._onStartFns=[])}onDone(v){this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(v=>v.play())}pause(){this.players.forEach(v=>v.pause())}restart(){this.players.forEach(v=>v.restart())}finish(){this._onFinish(),this.players.forEach(v=>v.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(v=>v.destroy()),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}reset(){this.players.forEach(v=>v.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(v){const C=v*this.totalTime;this.players.forEach(R=>{const Q=R.totalTime?Math.min(1,C/R.totalTime):1;R.setPosition(Q)})}getPosition(){const v=this.players.reduce((C,R)=>null===C||R.totalTime>C.totalTime?R:C,null);return null!=v?v.getPosition():0}beforeDestroy(){this.players.forEach(v=>{v.beforeDestroy&&v.beforeDestroy()})}triggerCallback(v){const C="start"==v?this._onStartFns:this._onDoneFns;C.forEach(R=>R()),C.length=0}}function Ee(U){return new ie.vHH(3e3,!1)}function It(){return typeof window<"u"&&typeof window.document<"u"}function dn(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Dn(U){switch(U.length){case 0:return new $t;case 1:return U[0];default:return new Et(U)}}function Er(U,v,C,R,Q=new Map,te=new Map){const be=[],Te=[];let Je=-1,wt=null;if(R.forEach(ln=>{const qt=ln.get("offset"),Mn=qt==Je,jn=Mn&&wt||new Map;ln.forEach((wn,qn)=>{let Yr=qn,Dt=wn;if("offset"!==qn)switch(Yr=v.normalizePropertyName(Yr,be),Dt){case"!":Dt=Q.get(qn);break;case qe:Dt=te.get(qn);break;default:Dt=v.normalizeStyleValue(qn,Yr,Dt,be)}jn.set(Yr,Dt)}),Mn||Te.push(jn),wt=jn,Je=qt}),be.length)throw function oi(U){return new ie.vHH(3502,!1)}();return Te}function Wt(U,v,C,R){switch(v){case"start":U.onStart(()=>R(C&&Or(C,"start",U)));break;case"done":U.onDone(()=>R(C&&Or(C,"done",U)));break;case"destroy":U.onDestroy(()=>R(C&&Or(C,"destroy",U)))}}function Or(U,v,C){const te=ar(U.element,U.triggerName,U.fromState,U.toState,v||U.phaseName,C.totalTime??U.totalTime,!!C.disabled),be=U._data;return null!=be&&(te._data=be),te}function ar(U,v,C,R,Q="",te=0,be){return{element:U,triggerName:v,fromState:C,toState:R,phaseName:Q,totalTime:te,disabled:!!be}}function br(U,v,C){let R=U.get(v);return R||U.set(v,R=C),R}function Xn(U){const v=U.indexOf(":");return[U.substring(1,v),U.slice(v+1)]}let Vn=(U,v)=>!1,on=(U,v,C)=>[],Qt=null;function mt(U){const v=U.parentNode||U.host;return v===Qt?null:v}(dn()||typeof Element<"u")&&(It()?(Qt=(()=>document.documentElement)(),Vn=(U,v)=>{for(;v;){if(v===U)return!0;v=mt(v)}return!1}):Vn=(U,v)=>U.contains(v),on=(U,v,C)=>{if(C)return Array.from(U.querySelectorAll(v));const R=U.querySelector(v);return R?[R]:[]});let Sn=null,Un=!1;const Ct=Vn,Ye=on;let An=(()=>{class U{validateStyleProperty(C){return function Fe(U){Sn||(Sn=function je(){return typeof document<"u"?document.body:null}()||{},Un=!!Sn.style&&"WebkitAppearance"in Sn.style);let v=!0;return Sn.style&&!function kn(U){return"ebkit"==U.substring(1,6)}(U)&&(v=U in Sn.style,!v&&Un&&(v="Webkit"+U.charAt(0).toUpperCase()+U.slice(1)in Sn.style)),v}(C)}matchesElement(C,R){return!1}containsElement(C,R){return Ct(C,R)}getParentElement(C){return mt(C)}query(C,R,Q){return Ye(C,R,Q)}computeStyle(C,R,Q){return Q||""}animate(C,R,Q,te,be,Te=[],Je){return new $t(Q,te)}}return U.\u0275fac=function(C){return new(C||U)},U.\u0275prov=ie.Yz7({token:U,factory:U.\u0275fac}),U})(),lr=(()=>{class U{}return U.NOOP=new An,U})();const _e="ng-enter",pe="ng-leave",et="ng-trigger",St=".ng-trigger",mn="ng-animating",Cn=".ng-animating";function yn(U){if("number"==typeof U)return U;const v=U.match(/^(-?[\.\d]+)(m?s)/);return!v||v.length<2?0:Ur(parseFloat(v[1]),v[2])}function Ur(U,v){return"s"===v?1e3*U:U}function ci(U,v,C){return U.hasOwnProperty("duration")?U:function Jt(U,v,C){let Q,te=0,be="";if("string"==typeof U){const Te=U.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===Te)return v.push(Ee()),{duration:0,delay:0,easing:""};Q=Ur(parseFloat(Te[1]),Te[2]);const Je=Te[3];null!=Je&&(te=Ur(parseFloat(Je),Te[4]));const wt=Te[5];wt&&(be=wt)}else Q=U;if(!C){let Te=!1,Je=v.length;Q<0&&(v.push(function Ke(){return new ie.vHH(3100,!1)}()),Te=!0),te<0&&(v.push(function Ne(){return new ie.vHH(3101,!1)}()),Te=!0),Te&&v.splice(Je,0,Ee())}return{duration:Q,delay:te,easing:be}}(U,v,C)}function Rr(U,v={}){return Object.keys(U).forEach(C=>{v[C]=U[C]}),v}function ai(U){const v=new Map;return Object.keys(U).forEach(C=>{v.set(C,U[C])}),v}function jr(U,v=new Map,C){if(C)for(let[R,Q]of C)v.set(R,Q);for(let[R,Q]of U)v.set(R,Q);return v}function ji(U,v,C){return C?v+":"+C+";":""}function As(U){let v="";for(let C=0;C<U.style.length;C++){const R=U.style.item(C);v+=ji(0,R,U.style.getPropertyValue(R))}for(const C in U.style)U.style.hasOwnProperty(C)&&!C.startsWith("_")&&(v+=ji(0,Es(C),U.style[C]));U.setAttribute("style",v)}function nr(U,v,C){U.style&&(v.forEach((R,Q)=>{const te=zi(Q);C&&!C.has(Q)&&C.set(Q,U.style[te]),U.style[te]=R}),dn()&&As(U))}function Sr(U,v){U.style&&(v.forEach((C,R)=>{const Q=zi(R);U.style[Q]=""}),dn()&&As(U))}function Hi(U){return Array.isArray(U)?1==U.length?U[0]:Pt(U):U}const Ys=new RegExp("{{\\s*(.+?)\\s*}}","g");function Ms(U){let v=[];if("string"==typeof U){let C;for(;C=Ys.exec(U);)v.push(C[1]);Ys.lastIndex=0}return v}function gi(U,v,C){const R=U.toString(),Q=R.replace(Ys,(te,be)=>{let Te=v[be];return null==Te&&(C.push(function Ft(U){return new ie.vHH(3003,!1)}()),Te=""),Te.toString()});return Q==R?U:Q}function Os(U){const v=[];let C=U.next();for(;!C.done;)v.push(C.value),C=U.next();return v}const Ji=/-+([a-z0-9])/g;function zi(U){return U.replace(Ji,(...v)=>v[1].toUpperCase())}function Es(U){return U.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Mr(U,v,C){switch(v.type){case 7:return U.visitTrigger(v,C);case 0:return U.visitState(v,C);case 1:return U.visitTransition(v,C);case 2:return U.visitSequence(v,C);case 3:return U.visitGroup(v,C);case 4:return U.visitAnimate(v,C);case 5:return U.visitKeyframes(v,C);case 6:return U.visitStyle(v,C);case 8:return U.visitReference(v,C);case 9:return U.visitAnimateChild(v,C);case 10:return U.visitAnimateRef(v,C);case 11:return U.visitQuery(v,C);case 12:return U.visitStagger(v,C);default:throw function Ut(U){return new ie.vHH(3004,!1)}()}}function Ei(U,v){return window.getComputedStyle(U)[v]}function Wo(U,v){const C=[];return"string"==typeof U?U.split(/\s*,\s*/).forEach(R=>function Ar(U,v,C){if(":"==U[0]){const Je=function Ro(U,v){switch(U){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(C,R)=>parseFloat(R)>parseFloat(C);case":decrement":return(C,R)=>parseFloat(R)<parseFloat(C);default:return v.push(function ii(U){return new ie.vHH(3016,!1)}()),"* => *"}}(U,C);if("function"==typeof Je)return void v.push(Je);U=Je}const R=U.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==R||R.length<4)return C.push(function mr(U){return new ie.vHH(3015,!1)}()),v;const Q=R[1],te=R[2],be=R[3];v.push(qo(Q,be));"<"==te[0]&&!("*"==Q&&"*"==be)&&v.push(qo(be,Q))}(R,C,v)):C.push(U),C}const Qs=new Set(["true","1"]),Ti=new Set(["false","0"]);function qo(U,v){const C=Qs.has(U)||Ti.has(U),R=Qs.has(v)||Ti.has(v);return(Q,te)=>{let be="*"==U||U==Q,Te="*"==v||v==te;return!be&&C&&"boolean"==typeof Q&&(be=Q?Qs.has(U):Ti.has(U)),!Te&&R&&"boolean"==typeof te&&(Te=te?Qs.has(v):Ti.has(v)),be&&Te}}const ko=new RegExp("s*:selfs*,?","g");function ds(U,v,C,R){return new Ko(U).build(v,C,R)}class Ko{constructor(v){this._driver=v}build(v,C,R){const Q=new Js(C);return this._resetContextStyleTimingState(Q),Mr(this,Hi(v),Q)}_resetContextStyleTimingState(v){v.currentQuerySelector="",v.collectedStyles=new Map,v.collectedStyles.set("",new Map),v.currentTime=0}visitTrigger(v,C){let R=C.queryCount=0,Q=C.depCount=0;const te=[],be=[];return"@"==v.name.charAt(0)&&C.errors.push(function Bn(){return new ie.vHH(3006,!1)}()),v.definitions.forEach(Te=>{if(this._resetContextStyleTimingState(C),0==Te.type){const Je=Te,wt=Je.name;wt.toString().split(/\s*,\s*/).forEach(ln=>{Je.name=ln,te.push(this.visitState(Je,C))}),Je.name=wt}else if(1==Te.type){const Je=this.visitTransition(Te,C);R+=Je.queryCount,Q+=Je.depCount,be.push(Je)}else C.errors.push(function zn(){return new ie.vHH(3007,!1)}())}),{type:7,name:v.name,states:te,transitions:be,queryCount:R,depCount:Q,options:null}}visitState(v,C){const R=this.visitStyle(v.styles,C),Q=v.options&&v.options.params||null;if(R.containsDynamicStyles){const te=new Set,be=Q||{};R.styles.forEach(Te=>{Te instanceof Map&&Te.forEach(Je=>{Ms(Je).forEach(wt=>{be.hasOwnProperty(wt)||te.add(wt)})})}),te.size&&(Os(te.values()),C.errors.push(function Kt(U,v){return new ie.vHH(3008,!1)}()))}return{type:0,name:v.name,style:R,options:Q?{params:Q}:null}}visitTransition(v,C){C.queryCount=0,C.depCount=0;const R=Mr(this,Hi(v.animation),C);return{type:1,matchers:Wo(v.expr,C.errors),animation:R,queryCount:C.queryCount,depCount:C.depCount,options:bi(v.options)}}visitSequence(v,C){return{type:2,steps:v.steps.map(R=>Mr(this,R,C)),options:bi(v.options)}}visitGroup(v,C){const R=C.currentTime;let Q=0;const te=v.steps.map(be=>{C.currentTime=R;const Te=Mr(this,be,C);return Q=Math.max(Q,C.currentTime),Te});return C.currentTime=Q,{type:3,steps:te,options:bi(v.options)}}visitAnimate(v,C){const R=function oo(U,v){if(U.hasOwnProperty("duration"))return U;if("number"==typeof U)return es(ci(U,v).duration,0,"");const C=U;if(C.split(/\s+/).some(te=>"{"==te.charAt(0)&&"{"==te.charAt(1))){const te=es(0,0,"");return te.dynamic=!0,te.strValue=C,te}const Q=ci(C,v);return es(Q.duration,Q.delay,Q.easing)}(v.timings,C.errors);C.currentAnimateTimings=R;let Q,te=v.styles?v.styles:tt({});if(5==te.type)Q=this.visitKeyframes(te,C);else{let be=v.styles,Te=!1;if(!be){Te=!0;const wt={};R.easing&&(wt.easing=R.easing),be=tt(wt)}C.currentTime+=R.duration+R.delay;const Je=this.visitStyle(be,C);Je.isEmptyStep=Te,Q=Je}return C.currentAnimateTimings=null,{type:4,timings:R,style:Q,options:null}}visitStyle(v,C){const R=this._makeStyleAst(v,C);return this._validateStyleAst(R,C),R}_makeStyleAst(v,C){const R=[],Q=Array.isArray(v.styles)?v.styles:[v.styles];for(let Te of Q)"string"==typeof Te?Te===qe?R.push(Te):C.errors.push(new ie.vHH(3002,!1)):R.push(ai(Te));let te=!1,be=null;return R.forEach(Te=>{if(Te instanceof Map&&(Te.has("easing")&&(be=Te.get("easing"),Te.delete("easing")),!te))for(let Je of Te.values())if(Je.toString().indexOf("{{")>=0){te=!0;break}}),{type:6,styles:R,easing:be,offset:v.offset,containsDynamicStyles:te,options:null}}_validateStyleAst(v,C){const R=C.currentAnimateTimings;let Q=C.currentTime,te=C.currentTime;R&&te>0&&(te-=R.duration+R.delay),v.styles.forEach(be=>{"string"!=typeof be&&be.forEach((Te,Je)=>{const wt=C.collectedStyles.get(C.currentQuerySelector),ln=wt.get(Je);let qt=!0;ln&&(te!=Q&&te>=ln.startTime&&Q<=ln.endTime&&(C.errors.push(function hr(U,v,C,R,Q){return new ie.vHH(3010,!1)}()),qt=!1),te=ln.startTime),qt&&wt.set(Je,{startTime:te,endTime:Q}),C.options&&function yr(U,v,C){const R=v.params||{},Q=Ms(U);Q.length&&Q.forEach(te=>{R.hasOwnProperty(te)||C.push(function Xe(U){return new ie.vHH(3001,!1)}())})}(Te,C.options,C.errors)})})}visitKeyframes(v,C){const R={type:5,styles:[],options:null};if(!C.currentAnimateTimings)return C.errors.push(function Fn(){return new ie.vHH(3011,!1)}()),R;let te=0;const be=[];let Te=!1,Je=!1,wt=0;const ln=v.steps.map(Dt=>{const sr=this._makeStyleAst(Dt,C);let cr=null!=sr.offset?sr.offset:function qi(U){if("string"==typeof U)return null;let v=null;if(Array.isArray(U))U.forEach(C=>{if(C instanceof Map&&C.has("offset")){const R=C;v=parseFloat(R.get("offset")),R.delete("offset")}});else if(U instanceof Map&&U.has("offset")){const C=U;v=parseFloat(C.get("offset")),C.delete("offset")}return v}(sr.styles),Fr=0;return null!=cr&&(te++,Fr=sr.offset=cr),Je=Je||Fr<0||Fr>1,Te=Te||Fr<wt,wt=Fr,be.push(Fr),sr});Je&&C.errors.push(function Xr(){return new ie.vHH(3012,!1)}()),Te&&C.errors.push(function Wn(){return new ie.vHH(3200,!1)}());const qt=v.steps.length;let Mn=0;te>0&&te<qt?C.errors.push(function Tr(){return new ie.vHH(3202,!1)}()):0==te&&(Mn=1/(qt-1));const jn=qt-1,wn=C.currentTime,qn=C.currentAnimateTimings,Yr=qn.duration;return ln.forEach((Dt,sr)=>{const cr=Mn>0?sr==jn?1:Mn*sr:be[sr],Fr=cr*Yr;C.currentTime=wn+qn.delay+Fr,qn.duration=Fr,this._validateStyleAst(Dt,C),Dt.offset=cr,R.styles.push(Dt)}),R}visitReference(v,C){return{type:8,animation:Mr(this,Hi(v.animation),C),options:bi(v.options)}}visitAnimateChild(v,C){return C.depCount++,{type:9,options:bi(v.options)}}visitAnimateRef(v,C){return{type:10,animation:this.visitReference(v.animation,C),options:bi(v.options)}}visitQuery(v,C){const R=C.currentQuerySelector,Q=v.options||{};C.queryCount++,C.currentQuery=v;const[te,be]=function Lo(U){const v=!!U.split(/\s*,\s*/).find(C=>":self"==C);return v&&(U=U.replace(ko,"")),U=U.replace(/@\*/g,St).replace(/@\w+/g,C=>St+"-"+C.slice(1)).replace(/:animating/g,Cn),[U,v]}(v.selector);C.currentQuerySelector=R.length?R+" "+te:te,br(C.collectedStyles,C.currentQuerySelector,new Map);const Te=Mr(this,Hi(v.animation),C);return C.currentQuery=null,C.currentQuerySelector=R,{type:11,selector:te,limit:Q.limit||0,optional:!!Q.optional,includeSelf:be,animation:Te,originalSelector:v.selector,options:bi(v.options)}}visitStagger(v,C){C.currentQuery||C.errors.push(function Ri(){return new ie.vHH(3013,!1)}());const R="full"===v.timings?{duration:0,delay:0,easing:"full"}:ci(v.timings,C.errors,!0);return{type:12,animation:Mr(this,Hi(v.animation),C),timings:R,options:null}}}class Js{constructor(v){this.errors=v,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function bi(U){return U?(U=Rr(U)).params&&(U.params=function ta(U){return U?Rr(U):null}(U.params)):U={},U}function es(U,v,C){return{duration:U,delay:v,easing:C}}function $s(U,v,C,R,Q,te,be=null,Te=!1){return{type:1,element:U,keyframes:v,preStyleProps:C,postStyleProps:R,duration:Q,delay:te,totalTime:Q+te,easing:be,subTimeline:Te}}class Si{constructor(){this._map=new Map}get(v){return this._map.get(v)||[]}append(v,C){let R=this._map.get(v);R||this._map.set(v,R=[]),R.push(...C)}has(v){return this._map.has(v)}clear(){this._map.clear()}}const Is=new RegExp(":enter","g"),ns=new RegExp(":leave","g");function Bs(U,v,C,R,Q,te=new Map,be=new Map,Te,Je,wt=[]){return(new ao).buildKeyframes(U,v,C,R,Q,te,be,Te,Je,wt)}class ao{buildKeyframes(v,C,R,Q,te,be,Te,Je,wt,ln=[]){wt=wt||new Si;const qt=new mi(v,C,wt,Q,te,ln,[]);qt.options=Je;const Mn=Je.delay?yn(Je.delay):0;qt.currentTimeline.delayNextStep(Mn),qt.currentTimeline.setStyles([be],null,qt.errors,Je),Mr(this,R,qt);const jn=qt.timelines.filter(wn=>wn.containsAnimation());if(jn.length&&Te.size){let wn;for(let qn=jn.length-1;qn>=0;qn--){const Yr=jn[qn];if(Yr.element===C){wn=Yr;break}}wn&&!wn.allowOnlyTimelineStyles()&&wn.setStyles([Te],null,qt.errors,Je)}return jn.length?jn.map(wn=>wn.buildKeyframes()):[$s(C,[],[],[],0,Mn,"",!1)]}visitTrigger(v,C){}visitState(v,C){}visitTransition(v,C){}visitAnimateChild(v,C){const R=C.subInstructions.get(C.element);if(R){const Q=C.createSubContext(v.options),te=C.currentTimeline.currentTime,be=this._visitSubInstructions(R,Q,Q.options);te!=be&&C.transformIntoNewTimeline(be)}C.previousNode=v}visitAnimateRef(v,C){const R=C.createSubContext(v.options);R.transformIntoNewTimeline(),this._applyAnimationRefDelays([v.options,v.animation.options],C,R),this.visitReference(v.animation,R),C.transformIntoNewTimeline(R.currentTimeline.currentTime),C.previousNode=v}_applyAnimationRefDelays(v,C,R){for(const Q of v){const te=Q?.delay;if(te){const be="number"==typeof te?te:yn(gi(te,Q?.params??{},C.errors));R.delayNextStep(be)}}}_visitSubInstructions(v,C,R){let te=C.currentTimeline.currentTime;const be=null!=R.duration?yn(R.duration):null,Te=null!=R.delay?yn(R.delay):null;return 0!==be&&v.forEach(Je=>{const wt=C.appendInstructionToTimeline(Je,be,Te);te=Math.max(te,wt.duration+wt.delay)}),te}visitReference(v,C){C.updateOptions(v.options,!0),Mr(this,v.animation,C),C.previousNode=v}visitSequence(v,C){const R=C.subContextCount;let Q=C;const te=v.options;if(te&&(te.params||te.delay)&&(Q=C.createSubContext(te),Q.transformIntoNewTimeline(),null!=te.delay)){6==Q.previousNode.type&&(Q.currentTimeline.snapshotCurrentStyles(),Q.previousNode=Li);const be=yn(te.delay);Q.delayNextStep(be)}v.steps.length&&(v.steps.forEach(be=>Mr(this,be,Q)),Q.currentTimeline.applyStylesToKeyframe(),Q.subContextCount>R&&Q.transformIntoNewTimeline()),C.previousNode=v}visitGroup(v,C){const R=[];let Q=C.currentTimeline.currentTime;const te=v.options&&v.options.delay?yn(v.options.delay):0;v.steps.forEach(be=>{const Te=C.createSubContext(v.options);te&&Te.delayNextStep(te),Mr(this,be,Te),Q=Math.max(Q,Te.currentTimeline.currentTime),R.push(Te.currentTimeline)}),R.forEach(be=>C.currentTimeline.mergeTimelineCollectedStyles(be)),C.transformIntoNewTimeline(Q),C.previousNode=v}_visitTiming(v,C){if(v.dynamic){const R=v.strValue;return ci(C.params?gi(R,C.params,C.errors):R,C.errors)}return{duration:v.duration,delay:v.delay,easing:v.easing}}visitAnimate(v,C){const R=C.currentAnimateTimings=this._visitTiming(v.timings,C),Q=C.currentTimeline;R.delay&&(C.incrementTime(R.delay),Q.snapshotCurrentStyles());const te=v.style;5==te.type?this.visitKeyframes(te,C):(C.incrementTime(R.duration),this.visitStyle(te,C),Q.applyStylesToKeyframe()),C.currentAnimateTimings=null,C.previousNode=v}visitStyle(v,C){const R=C.currentTimeline,Q=C.currentAnimateTimings;!Q&&R.hasCurrentStyleProperties()&&R.forwardFrame();const te=Q&&Q.easing||v.easing;v.isEmptyStep?R.applyEmptyStep(te):R.setStyles(v.styles,te,C.errors,C.options),C.previousNode=v}visitKeyframes(v,C){const R=C.currentAnimateTimings,Q=C.currentTimeline.duration,te=R.duration,Te=C.createSubContext().currentTimeline;Te.easing=R.easing,v.styles.forEach(Je=>{Te.forwardTime((Je.offset||0)*te),Te.setStyles(Je.styles,Je.easing,C.errors,C.options),Te.applyStylesToKeyframe()}),C.currentTimeline.mergeTimelineCollectedStyles(Te),C.transformIntoNewTimeline(Q+te),C.previousNode=v}visitQuery(v,C){const R=C.currentTimeline.currentTime,Q=v.options||{},te=Q.delay?yn(Q.delay):0;te&&(6===C.previousNode.type||0==R&&C.currentTimeline.hasCurrentStyleProperties())&&(C.currentTimeline.snapshotCurrentStyles(),C.previousNode=Li);let be=R;const Te=C.invokeQuery(v.selector,v.originalSelector,v.limit,v.includeSelf,!!Q.optional,C.errors);C.currentQueryTotal=Te.length;let Je=null;Te.forEach((wt,ln)=>{C.currentQueryIndex=ln;const qt=C.createSubContext(v.options,wt);te&&qt.delayNextStep(te),wt===C.element&&(Je=qt.currentTimeline),Mr(this,v.animation,qt),qt.currentTimeline.applyStylesToKeyframe(),be=Math.max(be,qt.currentTimeline.currentTime)}),C.currentQueryIndex=0,C.currentQueryTotal=0,C.transformIntoNewTimeline(be),Je&&(C.currentTimeline.mergeTimelineCollectedStyles(Je),C.currentTimeline.snapshotCurrentStyles()),C.previousNode=v}visitStagger(v,C){const R=C.parentContext,Q=C.currentTimeline,te=v.timings,be=Math.abs(te.duration),Te=be*(C.currentQueryTotal-1);let Je=be*C.currentQueryIndex;switch(te.duration<0?"reverse":te.easing){case"reverse":Je=Te-Je;break;case"full":Je=R.currentStaggerTime}const ln=C.currentTimeline;Je&&ln.delayNextStep(Je);const qt=ln.currentTime;Mr(this,v.animation,C),C.previousNode=v,R.currentStaggerTime=Q.currentTime-qt+(Q.startTime-R.currentTimeline.startTime)}}const Li={};class mi{constructor(v,C,R,Q,te,be,Te,Je){this._driver=v,this.element=C,this.subInstructions=R,this._enterClassName=Q,this._leaveClassName=te,this.errors=be,this.timelines=Te,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Li,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=Je||new hi(this._driver,C,0),Te.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(v,C){if(!v)return;const R=v;let Q=this.options;null!=R.duration&&(Q.duration=yn(R.duration)),null!=R.delay&&(Q.delay=yn(R.delay));const te=R.params;if(te){let be=Q.params;be||(be=this.options.params={}),Object.keys(te).forEach(Te=>{(!C||!be.hasOwnProperty(Te))&&(be[Te]=gi(te[Te],be,this.errors))})}}_copyOptions(){const v={};if(this.options){const C=this.options.params;if(C){const R=v.params={};Object.keys(C).forEach(Q=>{R[Q]=C[Q]})}}return v}createSubContext(v=null,C,R){const Q=C||this.element,te=new mi(this._driver,Q,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(Q,R||0));return te.previousNode=this.previousNode,te.currentAnimateTimings=this.currentAnimateTimings,te.options=this._copyOptions(),te.updateOptions(v),te.currentQueryIndex=this.currentQueryIndex,te.currentQueryTotal=this.currentQueryTotal,te.parentContext=this,this.subContextCount++,te}transformIntoNewTimeline(v){return this.previousNode=Li,this.currentTimeline=this.currentTimeline.fork(this.element,v),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(v,C,R){const Q={duration:C??v.duration,delay:this.currentTimeline.currentTime+(R??0)+v.delay,easing:""},te=new rs(this._driver,v.element,v.keyframes,v.preStyleProps,v.postStyleProps,Q,v.stretchStartingKeyframe);return this.timelines.push(te),Q}incrementTime(v){this.currentTimeline.forwardTime(this.currentTimeline.duration+v)}delayNextStep(v){v>0&&this.currentTimeline.delayNextStep(v)}invokeQuery(v,C,R,Q,te,be){let Te=[];if(Q&&Te.push(this.element),v.length>0){v=(v=v.replace(Is,"."+this._enterClassName)).replace(ns,"."+this._leaveClassName);let wt=this._driver.query(this.element,v,1!=R);0!==R&&(wt=R<0?wt.slice(wt.length+R,wt.length):wt.slice(0,R)),Te.push(...wt)}return!te&&0==Te.length&&be.push(function _i(U){return new ie.vHH(3014,!1)}()),Te}}class hi{constructor(v,C,R,Q){this._driver=v,this.element=C,this.startTime=R,this._elementTimelineStylesLookup=Q,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(C),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(C,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(v){const C=1===this._keyframes.size&&this._pendingStyles.size;this.duration||C?(this.forwardTime(this.currentTime+v),C&&this.snapshotCurrentStyles()):this.startTime+=v}fork(v,C){return this.applyStylesToKeyframe(),new hi(this._driver,v,C||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(v){this.applyStylesToKeyframe(),this.duration=v,this._loadKeyframe()}_updateStyle(v,C){this._localTimelineStyles.set(v,C),this._globalTimelineStyles.set(v,C),this._styleSummary.set(v,{time:this.currentTime,value:C})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(v){v&&this._previousKeyframe.set("easing",v);for(let[C,R]of this._globalTimelineStyles)this._backFill.set(C,R||qe),this._currentKeyframe.set(C,qe);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(v,C,R,Q){C&&this._previousKeyframe.set("easing",C);const te=Q&&Q.params||{},be=function lo(U,v){const C=new Map;let R;return U.forEach(Q=>{if("*"===Q){R=R||v.keys();for(let te of R)C.set(te,qe)}else jr(Q,C)}),C}(v,this._globalTimelineStyles);for(let[Te,Je]of be){const wt=gi(Je,te,R);this._pendingStyles.set(Te,wt),this._localTimelineStyles.has(Te)||this._backFill.set(Te,this._globalTimelineStyles.get(Te)??qe),this._updateStyle(Te,wt)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((v,C)=>{this._currentKeyframe.set(C,v)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((v,C)=>{this._currentKeyframe.has(C)||this._currentKeyframe.set(C,v)}))}snapshotCurrentStyles(){for(let[v,C]of this._localTimelineStyles)this._pendingStyles.set(v,C),this._updateStyle(v,C)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const v=[];for(let C in this._currentKeyframe)v.push(C);return v}mergeTimelineCollectedStyles(v){v._styleSummary.forEach((C,R)=>{const Q=this._styleSummary.get(R);(!Q||C.time>Q.time)&&this._updateStyle(R,C.value)})}buildKeyframes(){this.applyStylesToKeyframe();const v=new Set,C=new Set,R=1===this._keyframes.size&&0===this.duration;let Q=[];this._keyframes.forEach((Te,Je)=>{const wt=jr(Te,new Map,this._backFill);wt.forEach((ln,qt)=>{"!"===ln?v.add(qt):ln===qe&&C.add(qt)}),R||wt.set("offset",Je/this.duration),Q.push(wt)});const te=v.size?Os(v.values()):[],be=C.size?Os(C.values()):[];if(R){const Te=Q[0],Je=new Map(Te);Te.set("offset",0),Je.set("offset",1),Q=[Te,Je]}return $s(this.element,Q,te,be,this.duration,this.startTime,this.easing,!1)}}class rs extends hi{constructor(v,C,R,Q,te,be,Te=!1){super(v,C,be.delay),this.keyframes=R,this.preStyleProps=Q,this.postStyleProps=te,this._stretchStartingKeyframe=Te,this.timings={duration:be.duration,delay:be.delay,easing:be.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let v=this.keyframes,{delay:C,duration:R,easing:Q}=this.timings;if(this._stretchStartingKeyframe&&C){const te=[],be=R+C,Te=C/be,Je=jr(v[0]);Je.set("offset",0),te.push(Je);const wt=jr(v[0]);wt.set("offset",Ki(Te)),te.push(wt);const ln=v.length-1;for(let qt=1;qt<=ln;qt++){let Mn=jr(v[qt]);const jn=Mn.get("offset");Mn.set("offset",Ki((C+jn*R)/be)),te.push(Mn)}R=be,C=0,Q="",v=te}return $s(this.element,v,this.preStyleProps,this.postStyleProps,R,C,Q,!0)}}function Ki(U,v=3){const C=Math.pow(10,v-1);return Math.round(U*C)/C}class uo{}const Lr=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Cs extends uo{normalizePropertyName(v,C){return zi(v)}normalizeStyleValue(v,C,R,Q){let te="";const be=R.toString().trim();if(Lr.has(C)&&0!==R&&"0"!==R)if("number"==typeof R)te="px";else{const Te=R.match(/^[+-]?[\d\.]+([a-z]*)$/);Te&&0==Te[1].length&&Q.push(function pn(U,v){return new ie.vHH(3005,!1)}())}return be+te}}function eo(U,v,C,R,Q,te,be,Te,Je,wt,ln,qt,Mn){return{type:0,element:U,triggerName:v,isRemovalTransition:Q,fromState:C,fromStyles:te,toState:R,toStyles:be,timelines:Te,queriedElements:Je,preStyleProps:wt,postStyleProps:ln,totalTime:qt,errors:Mn}}const Mi={};class rr{constructor(v,C,R){this._triggerName=v,this.ast=C,this._stateStyles=R}match(v,C,R,Q){return function hs(U,v,C,R,Q){return U.some(te=>te(v,C,R,Q))}(this.ast.matchers,v,C,R,Q)}buildStyles(v,C,R){let Q=this._stateStyles.get("*");return void 0!==v&&(Q=this._stateStyles.get(v?.toString())||Q),Q?Q.buildStyles(C,R):new Map}build(v,C,R,Q,te,be,Te,Je,wt,ln){const qt=[],Mn=this.ast.options&&this.ast.options.params||Mi,wn=this.buildStyles(R,Te&&Te.params||Mi,qt),qn=Je&&Je.params||Mi,Yr=this.buildStyles(Q,qn,qt),Dt=new Set,sr=new Map,cr=new Map,Fr="void"===Q,cn={params:Zi(qn,Mn),delay:this.ast.options?.delay},Tn=ln?[]:Bs(v,C,this.ast.animation,te,be,wn,Yr,cn,wt,qt);let wi=0;if(Tn.forEach(ht=>{wi=Math.max(ht.duration+ht.delay,wi)}),qt.length)return eo(C,this._triggerName,R,Q,Fr,wn,Yr,[],[],sr,cr,wi,qt);Tn.forEach(ht=>{const xt=ht.element,Di=br(sr,xt,new Set);ht.preStyleProps.forEach(To=>Di.add(To));const no=br(cr,xt,new Set);ht.postStyleProps.forEach(To=>no.add(To)),xt!==C&&Dt.add(xt)});const Zt=Os(Dt.values());return eo(C,this._triggerName,R,Q,Fr,wn,Yr,Tn,Zt,sr,cr,wi)}}function Zi(U,v){const C=Rr(v);for(const R in U)U.hasOwnProperty(R)&&null!=U[R]&&(C[R]=U[R]);return C}class wr{constructor(v,C,R){this.styles=v,this.defaultParams=C,this.normalizer=R}buildStyles(v,C){const R=new Map,Q=Rr(this.defaultParams);return Object.keys(v).forEach(te=>{const be=v[te];null!==be&&(Q[te]=be)}),this.styles.styles.forEach(te=>{"string"!=typeof te&&te.forEach((be,Te)=>{be&&(be=gi(be,Q,C));const Je=this.normalizer.normalizePropertyName(Te,C);be=this.normalizer.normalizeStyleValue(Te,Je,be,C),R.set(Je,be)})}),R}}class Hs{constructor(v,C,R){this.name=v,this.ast=C,this._normalizer=R,this.transitionFactories=[],this.states=new Map,C.states.forEach(Q=>{this.states.set(Q.name,new wr(Q.style,Q.options&&Q.options.params||{},R))}),is(this.states,"true","1"),is(this.states,"false","0"),C.transitions.forEach(Q=>{this.transitionFactories.push(new rr(v,Q,this.states))}),this.fallbackTransition=function Zo(U,v,C){return new rr(U,{type:1,animation:{type:2,steps:[],options:null},matchers:[(be,Te)=>!0],options:null,queryCount:0,depCount:0},v)}(v,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(v,C,R,Q){return this.transitionFactories.find(be=>be.match(v,C,R,Q))||null}matchStyles(v,C,R){return this.fallbackTransition.buildStyles(v,C,R)}}function is(U,v,C){U.has(v)?U.has(C)||U.set(C,U.get(v)):U.has(C)&&U.set(v,U.get(C))}const Fo=new Si;class Zr{constructor(v,C,R){this.bodyNode=v,this._driver=C,this._normalizer=R,this._animations=new Map,this._playersById=new Map,this.players=[]}register(v,C){const R=[],te=ds(this._driver,C,R,[]);if(R.length)throw function Hr(U){return new ie.vHH(3503,!1)}();this._animations.set(v,te)}_buildPlayer(v,C,R){const Q=v.element,te=Er(0,this._normalizer,0,v.keyframes,C,R);return this._driver.animate(Q,te,v.duration,v.delay,v.easing,[],!0)}create(v,C,R={}){const Q=[],te=this._animations.get(v);let be;const Te=new Map;if(te?(be=Bs(this._driver,C,te,_e,pe,new Map,new Map,R,Fo,Q),be.forEach(ln=>{const qt=br(Te,ln.element,new Map);ln.postStyleProps.forEach(Mn=>qt.set(Mn,null))})):(Q.push(function Xt(){return new ie.vHH(3300,!1)}()),be=[]),Q.length)throw function fi(U){return new ie.vHH(3504,!1)}();Te.forEach((ln,qt)=>{ln.forEach((Mn,jn)=>{ln.set(jn,this._driver.computeStyle(qt,jn,qe))})});const wt=Dn(be.map(ln=>{const qt=Te.get(ln.element);return this._buildPlayer(ln,new Map,qt)}));return this._playersById.set(v,wt),wt.onDestroy(()=>this.destroy(v)),this.players.push(wt),wt}destroy(v){const C=this._getPlayer(v);C.destroy(),this._playersById.delete(v);const R=this.players.indexOf(C);R>=0&&this.players.splice(R,1)}_getPlayer(v){const C=this._playersById.get(v);if(!C)throw function Cr(U){return new ie.vHH(3301,!1)}();return C}listen(v,C,R,Q){const te=ar(C,"","","");return Wt(this._getPlayer(v),R,te,Q),()=>{}}command(v,C,R,Q){if("register"==R)return void this.register(v,Q[0]);if("create"==R)return void this.create(v,C,Q[0]||{});const te=this._getPlayer(v);switch(R){case"play":te.play();break;case"pause":te.pause();break;case"reset":te.reset();break;case"restart":te.restart();break;case"finish":te.finish();break;case"init":te.init();break;case"setPosition":te.setPosition(parseFloat(Q[0]));break;case"destroy":this.destroy(v)}}}const Nn="ng-animate-queued",wo="ng-animate-disabled",ss=[],yi={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Vo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Mt="__ng_removed";class ur{constructor(v,C=""){this.namespaceId=C;const R=v&&v.hasOwnProperty("value");if(this.value=function $o(U){return U??null}(R?v.value:v),R){const te=Rr(v);delete te.value,this.options=te}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(v){const C=v.params;if(C){const R=this.options.params;Object.keys(C).forEach(Q=>{null==R[Q]&&(R[Q]=C[Q])})}}}const ps="void",xs=new ur(ps);class ti{constructor(v,C,R){this.id=v,this.hostElement=C,this._engine=R,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+v,k(C,this._hostClassName)}listen(v,C,R,Q){if(!this._triggers.has(C))throw function _r(U,v){return new ie.vHH(3302,!1)}();if(null==R||0==R.length)throw function pi(U){return new ie.vHH(3303,!1)}();if(!function zs(U){return"start"==U||"done"==U}(R))throw function Ui(U,v){return new ie.vHH(3400,!1)}();const te=br(this._elementListeners,v,[]),be={name:C,phase:R,callback:Q};te.push(be);const Te=br(this._engine.statesByElement,v,new Map);return Te.has(C)||(k(v,et),k(v,et+"-"+C),Te.set(C,xs)),()=>{this._engine.afterFlush(()=>{const Je=te.indexOf(be);Je>=0&&te.splice(Je,1),this._triggers.has(C)||Te.delete(C)})}}register(v,C){return!this._triggers.has(v)&&(this._triggers.set(v,C),!0)}_getTrigger(v){const C=this._triggers.get(v);if(!C)throw function si(U){return new ie.vHH(3401,!1)}();return C}trigger(v,C,R,Q=!0){const te=this._getTrigger(C),be=new os(this.id,C,v);let Te=this._engine.statesByElement.get(v);Te||(k(v,et),k(v,et+"-"+C),this._engine.statesByElement.set(v,Te=new Map));let Je=Te.get(C);const wt=new ur(R,this.id);if(!(R&&R.hasOwnProperty("value"))&&Je&&wt.absorbOptions(Je.options),Te.set(C,wt),Je||(Je=xs),wt.value!==ps&&Je.value===wt.value){if(!function as(U,v){const C=Object.keys(U),R=Object.keys(v);if(C.length!=R.length)return!1;for(let Q=0;Q<C.length;Q++){const te=C[Q];if(!v.hasOwnProperty(te)||U[te]!==v[te])return!1}return!0}(Je.params,wt.params)){const qn=[],Yr=te.matchStyles(Je.value,Je.params,qn),Dt=te.matchStyles(wt.value,wt.params,qn);qn.length?this._engine.reportError(qn):this._engine.afterFlush(()=>{Sr(v,Yr),nr(v,Dt)})}return}const Mn=br(this._engine.playersByElement,v,[]);Mn.forEach(qn=>{qn.namespaceId==this.id&&qn.triggerName==C&&qn.queued&&qn.destroy()});let jn=te.matchTransition(Je.value,wt.value,v,wt.params),wn=!1;if(!jn){if(!Q)return;jn=te.fallbackTransition,wn=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:C,transition:jn,fromState:Je,toState:wt,player:be,isFallbackTransition:wn}),wn||(k(v,Nn),be.onStart(()=>{ae(v,Nn)})),be.onDone(()=>{let qn=this.players.indexOf(be);qn>=0&&this.players.splice(qn,1);const Yr=this._engine.playersByElement.get(v);if(Yr){let Dt=Yr.indexOf(be);Dt>=0&&Yr.splice(Dt,1)}}),this.players.push(be),Mn.push(be),be}deregister(v){this._triggers.delete(v),this._engine.statesByElement.forEach(C=>C.delete(v)),this._elementListeners.forEach((C,R)=>{this._elementListeners.set(R,C.filter(Q=>Q.name!=v))})}clearElementCache(v){this._engine.statesByElement.delete(v),this._elementListeners.delete(v);const C=this._engine.playersByElement.get(v);C&&(C.forEach(R=>R.destroy()),this._engine.playersByElement.delete(v))}_signalRemovalForInnerTriggers(v,C){const R=this._engine.driver.query(v,St,!0);R.forEach(Q=>{if(Q[Mt])return;const te=this._engine.fetchNamespacesByElement(Q);te.size?te.forEach(be=>be.triggerLeaveAnimation(Q,C,!1,!0)):this.clearElementCache(Q)}),this._engine.afterFlushAnimationsDone(()=>R.forEach(Q=>this.clearElementCache(Q)))}triggerLeaveAnimation(v,C,R,Q){const te=this._engine.statesByElement.get(v),be=new Map;if(te){const Te=[];if(te.forEach((Je,wt)=>{if(be.set(wt,Je.value),this._triggers.has(wt)){const ln=this.trigger(v,wt,ps,Q);ln&&Te.push(ln)}}),Te.length)return this._engine.markElementAsRemoved(this.id,v,!0,C,be),R&&Dn(Te).onDone(()=>this._engine.processLeaveNode(v)),!0}return!1}prepareLeaveAnimationListeners(v){const C=this._elementListeners.get(v),R=this._engine.statesByElement.get(v);if(C&&R){const Q=new Set;C.forEach(te=>{const be=te.name;if(Q.has(be))return;Q.add(be);const Je=this._triggers.get(be).fallbackTransition,wt=R.get(be)||xs,ln=new ur(ps),qt=new os(this.id,be,v);this._engine.totalQueuedPlayers++,this._queue.push({element:v,triggerName:be,transition:Je,fromState:wt,toState:ln,player:qt,isFallbackTransition:!0})})}}removeNode(v,C){const R=this._engine;if(v.childElementCount&&this._signalRemovalForInnerTriggers(v,C),this.triggerLeaveAnimation(v,C,!0))return;let Q=!1;if(R.totalAnimations){const te=R.players.length?R.playersByQueriedElement.get(v):[];if(te&&te.length)Q=!0;else{let be=v;for(;be=be.parentNode;)if(R.statesByElement.get(be)){Q=!0;break}}}if(this.prepareLeaveAnimationListeners(v),Q)R.markElementAsRemoved(this.id,v,!1,C);else{const te=v[Mt];(!te||te===yi)&&(R.afterFlush(()=>this.clearElementCache(v)),R.destroyInnerAnimations(v),R._onRemovalComplete(v,C))}}insertNode(v,C){k(v,this._hostClassName)}drainQueuedTransitions(v){const C=[];return this._queue.forEach(R=>{const Q=R.player;if(Q.destroyed)return;const te=R.element,be=this._elementListeners.get(te);be&&be.forEach(Te=>{if(Te.name==R.triggerName){const Je=ar(te,R.triggerName,R.fromState.value,R.toState.value);Je._data=v,Wt(R.player,Te.phase,Je,Te.callback)}}),Q.markedForDestroy?this._engine.afterFlush(()=>{Q.destroy()}):C.push(R)}),this._queue=[],C.sort((R,Q)=>{const te=R.transition.ast.depCount,be=Q.transition.ast.depCount;return 0==te||0==be?te-be:this._engine.driver.containsElement(R.element,Q.element)?1:-1})}destroy(v){this.players.forEach(C=>C.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,v)}elementContainsData(v){let C=!1;return this._elementListeners.has(v)&&(C=!0),C=!!this._queue.find(R=>R.element===v)||C,C}}class Yi{constructor(v,C,R){this.bodyNode=v,this.driver=C,this._normalizer=R,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(Q,te)=>{}}_onRemovalComplete(v,C){this.onRemovalComplete(v,C)}get queuedPlayers(){const v=[];return this._namespaceList.forEach(C=>{C.players.forEach(R=>{R.queued&&v.push(R)})}),v}createNamespace(v,C){const R=new ti(v,C,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,C)?this._balanceNamespaceList(R,C):(this.newHostElements.set(C,R),this.collectEnterElement(C)),this._namespaceLookup[v]=R}_balanceNamespaceList(v,C){const R=this._namespaceList,Q=this.namespacesByHostElement;if(R.length-1>=0){let be=!1,Te=this.driver.getParentElement(C);for(;Te;){const Je=Q.get(Te);if(Je){const wt=R.indexOf(Je);R.splice(wt+1,0,v),be=!0;break}Te=this.driver.getParentElement(Te)}be||R.unshift(v)}else R.push(v);return Q.set(C,v),v}register(v,C){let R=this._namespaceLookup[v];return R||(R=this.createNamespace(v,C)),R}registerTrigger(v,C,R){let Q=this._namespaceLookup[v];Q&&Q.register(C,R)&&this.totalAnimations++}destroy(v,C){if(!v)return;const R=this._fetchNamespace(v);this.afterFlush(()=>{this.namespacesByHostElement.delete(R.hostElement),delete this._namespaceLookup[v];const Q=this._namespaceList.indexOf(R);Q>=0&&this._namespaceList.splice(Q,1)}),this.afterFlushAnimationsDone(()=>R.destroy(C))}_fetchNamespace(v){return this._namespaceLookup[v]}fetchNamespacesByElement(v){const C=new Set,R=this.statesByElement.get(v);if(R)for(let Q of R.values())if(Q.namespaceId){const te=this._fetchNamespace(Q.namespaceId);te&&C.add(te)}return C}trigger(v,C,R,Q){if(Ps(C)){const te=this._fetchNamespace(v);if(te)return te.trigger(C,R,Q),!0}return!1}insertNode(v,C,R,Q){if(!Ps(C))return;const te=C[Mt];if(te&&te.setForRemoval){te.setForRemoval=!1,te.setForMove=!0;const be=this.collectedLeaveElements.indexOf(C);be>=0&&this.collectedLeaveElements.splice(be,1)}if(v){const be=this._fetchNamespace(v);be&&be.insertNode(C,R)}Q&&this.collectEnterElement(C)}collectEnterElement(v){this.collectedEnterElements.push(v)}markElementAsDisabled(v,C){C?this.disabledNodes.has(v)||(this.disabledNodes.add(v),k(v,wo)):this.disabledNodes.has(v)&&(this.disabledNodes.delete(v),ae(v,wo))}removeNode(v,C,R,Q){if(Ps(C)){const te=v?this._fetchNamespace(v):null;if(te?te.removeNode(C,Q):this.markElementAsRemoved(v,C,!1,Q),R){const be=this.namespacesByHostElement.get(C);be&&be.id!==v&&be.removeNode(C,Q)}}else this._onRemovalComplete(C,Q)}markElementAsRemoved(v,C,R,Q,te){this.collectedLeaveElements.push(C),C[Mt]={namespaceId:v,setForRemoval:Q,hasAnimation:R,removedBeforeQueried:!1,previousTriggersValues:te}}listen(v,C,R,Q,te){return Ps(C)?this._fetchNamespace(v).listen(C,R,Q,te):()=>{}}_buildInstruction(v,C,R,Q,te){return v.transition.build(this.driver,v.element,v.fromState.value,v.toState.value,R,Q,v.fromState.options,v.toState.options,C,te)}destroyInnerAnimations(v){let C=this.driver.query(v,St,!0);C.forEach(R=>this.destroyActiveAnimationsForElement(R)),0!=this.playersByQueriedElement.size&&(C=this.driver.query(v,Cn,!0),C.forEach(R=>this.finishActiveQueriedAnimationOnElement(R)))}destroyActiveAnimationsForElement(v){const C=this.playersByElement.get(v);C&&C.forEach(R=>{R.queued?R.markedForDestroy=!0:R.destroy()})}finishActiveQueriedAnimationOnElement(v){const C=this.playersByQueriedElement.get(v);C&&C.forEach(R=>R.finish())}whenRenderingDone(){return new Promise(v=>{if(this.players.length)return Dn(this.players).onDone(()=>v());v()})}processLeaveNode(v){const C=v[Mt];if(C&&C.setForRemoval){if(v[Mt]=yi,C.namespaceId){this.destroyInnerAnimations(v);const R=this._fetchNamespace(C.namespaceId);R&&R.clearElementCache(v)}this._onRemovalComplete(v,C.setForRemoval)}v.classList?.contains(wo)&&this.markElementAsDisabled(v,!1),this.driver.query(v,".ng-animate-disabled",!0).forEach(R=>{this.markElementAsDisabled(R,!1)})}flush(v=-1){let C=[];if(this.newHostElements.size&&(this.newHostElements.forEach((R,Q)=>this._balanceNamespaceList(R,Q)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let R=0;R<this.collectedEnterElements.length;R++)k(this.collectedEnterElements[R],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const R=[];try{C=this._flushAnimations(R,v)}finally{for(let Q=0;Q<R.length;Q++)R[Q]()}}else for(let R=0;R<this.collectedLeaveElements.length;R++)this.processLeaveNode(this.collectedLeaveElements[R]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(R=>R()),this._flushFns=[],this._whenQuietFns.length){const R=this._whenQuietFns;this._whenQuietFns=[],C.length?Dn(C).onDone(()=>{R.forEach(Q=>Q())}):R.forEach(Q=>Q())}}reportError(v){throw function dt(U){return new ie.vHH(3402,!1)}()}_flushAnimations(v,C){const R=new Si,Q=[],te=new Map,be=[],Te=new Map,Je=new Map,wt=new Map,ln=new Set;this.disabledNodes.forEach(xn=>{ln.add(xn);const Rn=this.driver.query(xn,".ng-animate-queued",!0);for(let Hn=0;Hn<Rn.length;Hn++)ln.add(Rn[Hn])});const qt=this.bodyNode,Mn=Array.from(this.statesByElement.keys()),jn=j(Mn,this.collectedEnterElements),wn=new Map;let qn=0;jn.forEach((xn,Rn)=>{const Hn=_e+qn++;wn.set(Rn,Hn),xn.forEach(Vr=>k(Vr,Hn))});const Yr=[],Dt=new Set,sr=new Set;for(let xn=0;xn<this.collectedLeaveElements.length;xn++){const Rn=this.collectedLeaveElements[xn],Hn=Rn[Mt];Hn&&Hn.setForRemoval&&(Yr.push(Rn),Dt.add(Rn),Hn.hasAnimation?this.driver.query(Rn,".ng-star-inserted",!0).forEach(Vr=>Dt.add(Vr)):sr.add(Rn))}const cr=new Map,Fr=j(Mn,Array.from(Dt));Fr.forEach((xn,Rn)=>{const Hn=pe+qn++;cr.set(Rn,Hn),xn.forEach(Vr=>k(Vr,Hn))}),v.push(()=>{jn.forEach((xn,Rn)=>{const Hn=wn.get(Rn);xn.forEach(Vr=>ae(Vr,Hn))}),Fr.forEach((xn,Rn)=>{const Hn=cr.get(Rn);xn.forEach(Vr=>ae(Vr,Hn))}),Yr.forEach(xn=>{this.processLeaveNode(xn)})});const cn=[],Tn=[];for(let xn=this._namespaceList.length-1;xn>=0;xn--)this._namespaceList[xn].drainQueuedTransitions(C).forEach(Hn=>{const Vr=Hn.player,Qi=Hn.element;if(cn.push(Vr),this.collectedEnterElements.length){const bn=Qi[Mt];if(bn&&bn.setForMove){if(bn.previousTriggersValues&&bn.previousTriggersValues.has(Hn.triggerName)){const Ls=bn.previousTriggersValues.get(Hn.triggerName),$n=this.statesByElement.get(Hn.element);if($n&&$n.has(Hn.triggerName)){const go=$n.get(Hn.triggerName);go.value=Ls,$n.set(Hn.triggerName,go)}}return void Vr.destroy()}}const ks=!qt||!this.driver.containsElement(qt,Qi),$i=cr.get(Qi),Kn=wn.get(Qi),fr=this._buildInstruction(Hn,R,Kn,$i,ks);if(fr.errors&&fr.errors.length)return void Tn.push(fr);if(ks)return Vr.onStart(()=>Sr(Qi,fr.fromStyles)),Vr.onDestroy(()=>nr(Qi,fr.toStyles)),void Q.push(Vr);if(Hn.isFallbackTransition)return Vr.onStart(()=>Sr(Qi,fr.fromStyles)),Vr.onDestroy(()=>nr(Qi,fr.toStyles)),void Q.push(Vr);const _a=[];fr.timelines.forEach(bn=>{bn.stretchStartingKeyframe=!0,this.disabledNodes.has(bn.element)||_a.push(bn)}),fr.timelines=_a,R.append(Qi,fr.timelines),be.push({instruction:fr,player:Vr,element:Qi}),fr.queriedElements.forEach(bn=>br(Te,bn,[]).push(Vr)),fr.preStyleProps.forEach((bn,Ls)=>{if(bn.size){let $n=Je.get(Ls);$n||Je.set(Ls,$n=new Set),bn.forEach((go,Qr)=>$n.add(Qr))}}),fr.postStyleProps.forEach((bn,Ls)=>{let $n=wt.get(Ls);$n||wt.set(Ls,$n=new Set),bn.forEach((go,Qr)=>$n.add(Qr))})});if(Tn.length){const xn=[];Tn.forEach(Rn=>{xn.push(function Ie(U,v){return new ie.vHH(3505,!1)}())}),cn.forEach(Rn=>Rn.destroy()),this.reportError(xn)}const wi=new Map,Zt=new Map;be.forEach(xn=>{const Rn=xn.element;R.has(Rn)&&(Zt.set(Rn,Rn),this._beforeAnimationBuild(xn.player.namespaceId,xn.instruction,wi))}),Q.forEach(xn=>{const Rn=xn.element;this._getPreviousPlayers(Rn,!1,xn.namespaceId,xn.triggerName,null).forEach(Vr=>{br(wi,Rn,[]).push(Vr),Vr.destroy()})});const ht=Yr.filter(xn=>Vi(xn,Je,wt)),xt=new Map;K(xt,this.driver,sr,wt,qe).forEach(xn=>{Vi(xn,Je,wt)&&ht.push(xn)});const no=new Map;jn.forEach((xn,Rn)=>{K(no,this.driver,new Set(xn),Je,"!")}),ht.forEach(xn=>{const Rn=xt.get(xn),Hn=no.get(xn);xt.set(xn,new Map([...Array.from(Rn?.entries()??[]),...Array.from(Hn?.entries()??[])]))});const To=[],So=[],va={};be.forEach(xn=>{const{element:Rn,player:Hn,instruction:Vr}=xn;if(R.has(Rn)){if(ln.has(Rn))return Hn.onDestroy(()=>nr(Rn,Vr.toStyles)),Hn.disabled=!0,Hn.overrideTotalTime(Vr.totalTime),void Q.push(Hn);let Qi=va;if(Zt.size>1){let $i=Rn;const Kn=[];for(;$i=$i.parentNode;){const fr=Zt.get($i);if(fr){Qi=fr;break}Kn.push($i)}Kn.forEach(fr=>Zt.set(fr,Qi))}const ks=this._buildAnimation(Hn.namespaceId,Vr,wi,te,no,xt);if(Hn.setRealPlayer(ks),Qi===va)To.push(Hn);else{const $i=this.playersByElement.get(Qi);$i&&$i.length&&(Hn.parentPlayer=Dn($i)),Q.push(Hn)}}else Sr(Rn,Vr.fromStyles),Hn.onDestroy(()=>nr(Rn,Vr.toStyles)),So.push(Hn),ln.has(Rn)&&Q.push(Hn)}),So.forEach(xn=>{const Rn=te.get(xn.element);if(Rn&&Rn.length){const Hn=Dn(Rn);xn.setRealPlayer(Hn)}}),Q.forEach(xn=>{xn.parentPlayer?xn.syncPlayerEvents(xn.parentPlayer):xn.destroy()});for(let xn=0;xn<Yr.length;xn++){const Rn=Yr[xn],Hn=Rn[Mt];if(ae(Rn,pe),Hn&&Hn.hasAnimation)continue;let Vr=[];if(Te.size){let ks=Te.get(Rn);ks&&ks.length&&Vr.push(...ks);let $i=this.driver.query(Rn,Cn,!0);for(let Kn=0;Kn<$i.length;Kn++){let fr=Te.get($i[Kn]);fr&&fr.length&&Vr.push(...fr)}}const Qi=Vr.filter(ks=>!ks.destroyed);Qi.length?ct(this,Rn,Qi):this.processLeaveNode(Rn)}return Yr.length=0,To.forEach(xn=>{this.players.push(xn),xn.onDone(()=>{xn.destroy();const Rn=this.players.indexOf(xn);this.players.splice(Rn,1)}),xn.play()}),To}elementContainsData(v,C){let R=!1;const Q=C[Mt];return Q&&Q.setForRemoval&&(R=!0),this.playersByElement.has(C)&&(R=!0),this.playersByQueriedElement.has(C)&&(R=!0),this.statesByElement.has(C)&&(R=!0),this._fetchNamespace(v).elementContainsData(C)||R}afterFlush(v){this._flushFns.push(v)}afterFlushAnimationsDone(v){this._whenQuietFns.push(v)}_getPreviousPlayers(v,C,R,Q,te){let be=[];if(C){const Te=this.playersByQueriedElement.get(v);Te&&(be=Te)}else{const Te=this.playersByElement.get(v);if(Te){const Je=!te||te==ps;Te.forEach(wt=>{wt.queued||!Je&&wt.triggerName!=Q||be.push(wt)})}}return(R||Q)&&(be=be.filter(Te=>!(R&&R!=Te.namespaceId||Q&&Q!=Te.triggerName))),be}_beforeAnimationBuild(v,C,R){const te=C.element,be=C.isRemovalTransition?void 0:v,Te=C.isRemovalTransition?void 0:C.triggerName;for(const Je of C.timelines){const wt=Je.element,ln=wt!==te,qt=br(R,wt,[]);this._getPreviousPlayers(wt,ln,be,Te,C.toState).forEach(jn=>{const wn=jn.getRealPlayer();wn.beforeDestroy&&wn.beforeDestroy(),jn.destroy(),qt.push(jn)})}Sr(te,C.fromStyles)}_buildAnimation(v,C,R,Q,te,be){const Te=C.triggerName,Je=C.element,wt=[],ln=new Set,qt=new Set,Mn=C.timelines.map(wn=>{const qn=wn.element;ln.add(qn);const Yr=qn[Mt];if(Yr&&Yr.removedBeforeQueried)return new $t(wn.duration,wn.delay);const Dt=qn!==Je,sr=function un(U){const v=[];return Ln(U,v),v}((R.get(qn)||ss).map(wi=>wi.getRealPlayer())).filter(wi=>!!wi.element&&wi.element===qn),cr=te.get(qn),Fr=be.get(qn),cn=Er(0,this._normalizer,0,wn.keyframes,cr,Fr),Tn=this._buildPlayer(wn,cn,sr);if(wn.subTimeline&&Q&&qt.add(qn),Dt){const wi=new os(v,Te,qn);wi.setRealPlayer(Tn),wt.push(wi)}return Tn});wt.forEach(wn=>{br(this.playersByQueriedElement,wn.element,[]).push(wn),wn.onDone(()=>function gs(U,v,C){let R=U.get(v);if(R){if(R.length){const Q=R.indexOf(C);R.splice(Q,1)}0==R.length&&U.delete(v)}return R}(this.playersByQueriedElement,wn.element,wn))}),ln.forEach(wn=>k(wn,mn));const jn=Dn(Mn);return jn.onDestroy(()=>{ln.forEach(wn=>ae(wn,mn)),nr(Je,C.toStyles)}),qt.forEach(wn=>{br(Q,wn,[]).push(jn)}),jn}_buildPlayer(v,C,R){return C.length>0?this.driver.animate(v.element,C,v.duration,v.delay,v.easing,R):new $t(v.duration,v.delay)}}class os{constructor(v,C,R){this.namespaceId=v,this.triggerName=C,this.element=R,this._player=new $t,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(v){this._containsRealPlayer||(this._player=v,this._queuedCallbacks.forEach((C,R)=>{C.forEach(Q=>Wt(v,R,void 0,Q))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(v.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(v){this.totalTime=v}syncPlayerEvents(v){const C=this._player;C.triggerCallback&&v.onStart(()=>C.triggerCallback("start")),v.onDone(()=>this.finish()),v.onDestroy(()=>this.destroy())}_queueEvent(v,C){br(this._queuedCallbacks,v,[]).push(C)}onDone(v){this.queued&&this._queueEvent("done",v),this._player.onDone(v)}onStart(v){this.queued&&this._queueEvent("start",v),this._player.onStart(v)}onDestroy(v){this.queued&&this._queueEvent("destroy",v),this._player.onDestroy(v)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(v){this.queued||this._player.setPosition(v)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(v){const C=this._player;C.triggerCallback&&C.triggerCallback(v)}}function Ps(U){return U&&1===U.nodeType}function ho(U,v){const C=U.style.display;return U.style.display=v??"none",C}function K(U,v,C,R,Q){const te=[];C.forEach(Je=>te.push(ho(Je)));const be=[];R.forEach((Je,wt)=>{const ln=new Map;Je.forEach(qt=>{const Mn=v.computeStyle(wt,qt,Q);ln.set(qt,Mn),(!Mn||0==Mn.length)&&(wt[Mt]=Vo,be.push(wt))}),U.set(wt,ln)});let Te=0;return C.forEach(Je=>ho(Je,te[Te++])),be}function j(U,v){const C=new Map;if(U.forEach(Te=>C.set(Te,[])),0==v.length)return C;const Q=new Set(v),te=new Map;function be(Te){if(!Te)return 1;let Je=te.get(Te);if(Je)return Je;const wt=Te.parentNode;return Je=C.has(wt)?wt:Q.has(wt)?1:be(wt),te.set(Te,Je),Je}return v.forEach(Te=>{const Je=be(Te);1!==Je&&C.get(Je).push(Te)}),C}function k(U,v){U.classList?.add(v)}function ae(U,v){U.classList?.remove(v)}function ct(U,v,C){Dn(C).onDone(()=>U.processLeaveNode(v))}function Ln(U,v){for(let C=0;C<U.length;C++){const R=U[C];R instanceof Et?Ln(R.players,v):v.push(R)}}function Vi(U,v,C){const R=C.get(U);if(!R)return!1;let Q=v.get(U);return Q?R.forEach(te=>Q.add(te)):v.set(U,R),C.delete(U),!0}class ls{constructor(v,C,R){this.bodyNode=v,this._driver=C,this._normalizer=R,this._triggerCache={},this.onRemovalComplete=(Q,te)=>{},this._transitionEngine=new Yi(v,C,R),this._timelineEngine=new Zr(v,C,R),this._transitionEngine.onRemovalComplete=(Q,te)=>this.onRemovalComplete(Q,te)}registerTrigger(v,C,R,Q,te){const be=v+"-"+Q;let Te=this._triggerCache[be];if(!Te){const Je=[],ln=ds(this._driver,te,Je,[]);if(Je.length)throw function zr(U,v){return new ie.vHH(3404,!1)}();Te=function js(U,v,C){return new Hs(U,v,C)}(Q,ln,this._normalizer),this._triggerCache[be]=Te}this._transitionEngine.registerTrigger(C,Q,Te)}register(v,C){this._transitionEngine.register(v,C)}destroy(v,C){this._transitionEngine.destroy(v,C)}onInsert(v,C,R,Q){this._transitionEngine.insertNode(v,C,R,Q)}onRemove(v,C,R,Q){this._transitionEngine.removeNode(v,C,Q||!1,R)}disableAnimations(v,C){this._transitionEngine.markElementAsDisabled(v,C)}process(v,C,R,Q){if("@"==R.charAt(0)){const[te,be]=Xn(R);this._timelineEngine.command(te,C,be,Q)}else this._transitionEngine.trigger(v,C,R,Q)}listen(v,C,R,Q,te){if("@"==R.charAt(0)){const[be,Te]=Xn(R);return this._timelineEngine.listen(be,C,Te,te)}return this._transitionEngine.listen(v,C,R,Q,te)}flush(v=-1){this._transitionEngine.flush(v)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let fo=(()=>{class U{constructor(C,R,Q){this._element=C,this._startStyles=R,this._endStyles=Q,this._state=0;let te=U.initialStylesByElement.get(C);te||U.initialStylesByElement.set(C,te=new Map),this._initialStyles=te}start(){this._state<1&&(this._startStyles&&nr(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(nr(this._element,this._initialStyles),this._endStyles&&(nr(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(U.initialStylesByElement.delete(this._element),this._startStyles&&(Sr(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Sr(this._element,this._endStyles),this._endStyles=null),nr(this._element,this._initialStyles),this._state=3)}}return U.initialStylesByElement=new WeakMap,U})();function to(U){let v=null;return U.forEach((C,R)=>{(function ua(U){return"display"===U||"position"===U})(R)&&(v=v||new Map,v.set(R,C))}),v}class po{constructor(v,C,R,Q){this.element=v,this.keyframes=C,this.options=R,this._specialStyles=Q,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=R.duration,this._delay=R.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(v=>v()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const v=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,v,this.options),this._finalKeyframe=v.length?v[v.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(v){const C=[];return v.forEach(R=>{C.push(Object.fromEntries(R))}),C}_triggerWebAnimation(v,C,R){return v.animate(this._convertKeyframesToObject(C),R)}onStart(v){this._originalOnStartFns.push(v),this._onStartFns.push(v)}onDone(v){this._originalOnDoneFns.push(v),this._onDoneFns.push(v)}onDestroy(v){this._onDestroyFns.push(v)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(v=>v()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(v=>v()),this._onDestroyFns=[])}setPosition(v){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=v*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const v=new Map;this.hasStarted()&&this._finalKeyframe.forEach((R,Q)=>{"offset"!==Q&&v.set(Q,this._finished?R:Ei(this.element,Q))}),this.currentSnapshot=v}triggerCallback(v){const C="start"===v?this._onStartFns:this._onDoneFns;C.forEach(R=>R()),C.length=0}}class ca{validateStyleProperty(v){return!0}validateAnimatableStyleProperty(v){return!0}matchesElement(v,C){return!1}containsElement(v,C){return Ct(v,C)}getParentElement(v){return mt(v)}query(v,C,R){return Ye(v,C,R)}computeStyle(v,C,R){return window.getComputedStyle(v)[C]}animate(v,C,R,Q,te,be=[]){const Je={duration:R,delay:Q,fill:0==Q?"both":"forwards"};te&&(Je.easing=te);const wt=new Map,ln=be.filter(jn=>jn instanceof po);(function di(U,v){return 0===U||0===v})(R,Q)&&ln.forEach(jn=>{jn.currentSnapshot.forEach((wn,qn)=>wt.set(qn,wn))});let qt=function Ts(U){return U.length?U[0]instanceof Map?U:U.map(v=>ai(v)):[]}(C).map(jn=>jr(jn));qt=function Gi(U,v,C){if(C.size&&v.length){let R=v[0],Q=[];if(C.forEach((te,be)=>{R.has(be)||Q.push(be),R.set(be,te)}),Q.length)for(let te=1;te<v.length;te++){let be=v[te];Q.forEach(Te=>be.set(Te,Ei(U,Te)))}}return v}(v,qt,wt);const Mn=function Do(U,v){let C=null,R=null;return Array.isArray(v)&&v.length?(C=to(v[0]),v.length>1&&(R=to(v[v.length-1]))):v instanceof Map&&(C=to(v)),C||R?new fo(U,C,R):null}(v,qt);return new po(v,qt,Je,Mn)}}var u=ee(6895);let x=(()=>{class U extends We{constructor(C,R){super(),this._nextAnimationId=0,this._renderer=C.createRenderer(R.body,{id:"0",encapsulation:ie.ifc.None,styles:[],data:{animation:[]}})}build(C){const R=this._nextAnimationId.toString();this._nextAnimationId++;const Q=Array.isArray(C)?Pt(C):C;return z(this._renderer,null,R,"register",[Q]),new w(R,this._renderer)}}return U.\u0275fac=function(C){return new(C||U)(ie.LFG(ie.FYo),ie.LFG(u.K0))},U.\u0275prov=ie.Yz7({token:U,factory:U.\u0275fac}),U})();class w extends class He{}{constructor(v,C){super(),this._id=v,this._renderer=C}create(v,C){return new O(this._id,v,C||{},this._renderer)}}class O{constructor(v,C,R,Q){this.id=v,this.element=C,this._renderer=Q,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",R)}_listen(v,C){return this._renderer.listen(this.element,`@@${this.id}:${v}`,C)}_command(v,...C){return z(this._renderer,this.element,this.id,v,C)}onDone(v){this._listen("done",v)}onStart(v){this._listen("start",v)}onDestroy(v){this._listen("destroy",v)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(v){this._command("setPosition",v)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function z(U,v,C,R,Q){return U.setProperty(v,`@@${C}:${R}`,Q)}const g="@",S="@.disabled";let _=(()=>{class U{constructor(C,R,Q){this.delegate=C,this.engine=R,this._zone=Q,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),R.onRemovalComplete=(te,be)=>{const Te=be?.parentNode(te);Te&&be.removeChild(Te,te)}}createRenderer(C,R){const te=this.delegate.createRenderer(C,R);if(!(C&&R&&R.data&&R.data.animation)){let ln=this._rendererCache.get(te);return ln||(ln=new M("",te,this.engine,()=>this._rendererCache.delete(te)),this._rendererCache.set(te,ln)),ln}const be=R.id,Te=R.id+"-"+this._currentId;this._currentId++,this.engine.register(Te,C);const Je=ln=>{Array.isArray(ln)?ln.forEach(Je):this.engine.registerTrigger(be,Te,C,ln.name,ln)};return R.data.animation.forEach(Je),new V(this,Te,te,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(C,R,Q){C>=0&&C<this._microtaskId?this._zone.run(()=>R(Q)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(te=>{const[be,Te]=te;be(Te)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([R,Q]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return U.\u0275fac=function(C){return new(C||U)(ie.LFG(ie.FYo),ie.LFG(ls),ie.LFG(ie.R0b))},U.\u0275prov=ie.Yz7({token:U,factory:U.\u0275fac}),U})();class M{constructor(v,C,R,Q){this.namespaceId=v,this.delegate=C,this.engine=R,this._onDestroy=Q,this.destroyNode=this.delegate.destroyNode?te=>C.destroyNode(te):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(v,C){return this.delegate.createElement(v,C)}createComment(v){return this.delegate.createComment(v)}createText(v){return this.delegate.createText(v)}appendChild(v,C){this.delegate.appendChild(v,C),this.engine.onInsert(this.namespaceId,C,v,!1)}insertBefore(v,C,R,Q=!0){this.delegate.insertBefore(v,C,R),this.engine.onInsert(this.namespaceId,C,v,Q)}removeChild(v,C,R){this.engine.onRemove(this.namespaceId,C,this.delegate,R)}selectRootElement(v,C){return this.delegate.selectRootElement(v,C)}parentNode(v){return this.delegate.parentNode(v)}nextSibling(v){return this.delegate.nextSibling(v)}setAttribute(v,C,R,Q){this.delegate.setAttribute(v,C,R,Q)}removeAttribute(v,C,R){this.delegate.removeAttribute(v,C,R)}addClass(v,C){this.delegate.addClass(v,C)}removeClass(v,C){this.delegate.removeClass(v,C)}setStyle(v,C,R,Q){this.delegate.setStyle(v,C,R,Q)}removeStyle(v,C,R){this.delegate.removeStyle(v,C,R)}setProperty(v,C,R){C.charAt(0)==g&&C==S?this.disableAnimations(v,!!R):this.delegate.setProperty(v,C,R)}setValue(v,C){this.delegate.setValue(v,C)}listen(v,C,R){return this.delegate.listen(v,C,R)}disableAnimations(v,C){this.engine.disableAnimations(v,C)}}class V extends M{constructor(v,C,R,Q,te){super(C,R,Q,te),this.factory=v,this.namespaceId=C}setProperty(v,C,R){C.charAt(0)==g?"."==C.charAt(1)&&C==S?this.disableAnimations(v,R=void 0===R||!!R):this.engine.process(this.namespaceId,v,C.slice(1),R):this.delegate.setProperty(v,C,R)}listen(v,C,R){if(C.charAt(0)==g){const Q=function H(U){switch(U){case"body":return document.body;case"document":return document;case"window":return window;default:return U}}(v);let te=C.slice(1),be="";return te.charAt(0)!=g&&([te,be]=function W(U){const v=U.indexOf(".");return[U.substring(0,v),U.slice(v+1)]}(te)),this.engine.listen(this.namespaceId,Q,te,be,Te=>{this.factory.scheduleListenerCallback(Te._data||-1,R,Te)})}return this.delegate.listen(v,C,R)}}const ce=[{provide:We,useClass:x},{provide:uo,useFactory:function ge(){return new Cs}},{provide:ls,useClass:(()=>{class U extends ls{constructor(C,R,Q,te){super(C.body,R,Q)}ngOnDestroy(){this.flush()}}return U.\u0275fac=function(C){return new(C||U)(ie.LFG(u.K0),ie.LFG(lr),ie.LFG(uo),ie.LFG(ie.z2F))},U.\u0275prov=ie.Yz7({token:U,factory:U.\u0275fac}),U})()},{provide:ie.FYo,useFactory:function Ce(U,v,C){return new _(U,v,C)},deps:[m.se,ls,ie.R0b]}],he=[{provide:lr,useFactory:()=>new ca},{provide:ie.QbO,useValue:"BrowserAnimations"},...ce],Be=[{provide:lr,useClass:An},{provide:ie.QbO,useValue:"NoopAnimations"},...ce];let Me=(()=>{class U{static withConfig(C){return{ngModule:U,providers:C.disableAnimations?Be:he}}}return U.\u0275fac=function(C){return new(C||U)},U.\u0275mod=ie.oAB({type:U}),U.\u0275inj=ie.cJS({providers:he,imports:[m.b2]}),U})();var Ot=ee(529);const Rt=[{path:"admin",loadChildren:()=>ee.e(246).then(ee.bind(ee,4246)).then(U=>U.AdminModule)},{path:"home",loadChildren:()=>ee.e(645).then(ee.bind(ee,7645)).then(U=>U.HomeModule)},{path:"**",loadChildren:()=>ee.e(645).then(ee.bind(ee,7645)).then(U=>U.HomeModule)}];let zt=(()=>{class U{}return U.\u0275fac=function(C){return new(C||U)},U.\u0275mod=ie.oAB({type:U}),U.\u0275inj=ie.cJS({imports:[Re.Bz.forRoot(Rt),Re.Bz]}),U})();const nn_firebase={apiKey:"AIzaSyAIIygjYPh7idEgYvkWDKLVqFZT21zYOgA",authDomain:"najadvent.firebaseapp.com",projectId:"najadvent",storageBucket:"najadvent.appspot.com",messagingSenderId:"780449194318",appId:"1:780449194318:web:6742cf93e8cf13299d3e1f",measurementId:"G-T5MNZ83XY8"};var Lt=ee(2011),st=ee(433);let Ze=(()=>{class U{}return U.\u0275fac=function(C){return new(C||U)},U.\u0275mod=ie.oAB({type:U,bootstrap:[Le]}),U.\u0275inj=ie.cJS({imports:[Me,Lt.hO.initializeApp(nn_firebase),re.yb,Ot.JF,zt,u.ez,st.u5,st.UX]}),U})();(0,ie.G48)(),m.q6().bootstrapModule(Ze).catch(U=>console.error(U))},5867:(an,at,ee)=>{ee.d(at,{C6:()=>m.getApps,Mq:()=>m.getApp});var m=ee(9681);(0,m.registerVersion)("firebase","9.14.0","app")},127:(an,at,ee)=>{ee.d(at,{Z:()=>m.Z});var m=ee(3942);m.Z.registerVersion("firebase","9.14.0","app-compat")},1277:(an,at,ee)=>{ee.r(at);var m=ee(5861),ie=ee(3942),re=ee(2090),Ve=ee(9681),Re=ee(1877),Le=ee(655),We=ee(4859);const ft=function Pt(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},rn=function tt(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},pt=new re.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),gn=new Re.Yd("@firebase/auth");function _n(E,...h){gn.logLevel<=Re.in.ERROR&&gn.error(`Auth (${Ve.SDK_VERSION}): ${E}`,...h)}function xe(E,...h){throw Et(E,...h)}function bt(E,...h){return Et(E,...h)}function vt(E,h,p){const A=Object.assign(Object.assign({},rn()),{[h]:p});return new re.LL("auth","Firebase",A).create(h,{appName:E.name})}function $t(E,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&xe(E,"argument-error"),vt(E,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Et(E,...h){if("string"!=typeof E){const p=h[0],A=[...h.slice(1)];return A[0]&&(A[0].appName=E.name),E._errorFactory.create(p,...A)}return pt.create(E,...h)}function Se(E,h,...p){if(!E)throw Et(h,...p)}function nt(E){const h="INTERNAL ASSERTION FAILED: "+E;throw _n(h),new Error(h)}function Ee(E,h){E||nt(h)}const Ke=new Map;function Ne(E){Ee(E instanceof Function,"Expected a class definition");let h=Ke.get(E);return h?(Ee(h instanceof E,"Instance stored in cache mismatched with class"),h):(h=new E,Ke.set(E,h),h)}function Ut(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.href)||""}function pn(){return"http:"===Bn()||"https:"===Bn()}function Bn(){var E;return typeof self<"u"&&(null===(E=self.location)||void 0===E?void 0:E.protocol)||null}class Yn{constructor(h,p){this.shortDelay=h,this.longDelay=p,Ee(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,re.uI)()||(0,re.b$)()}get(){return function zn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(pn()||(0,re.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Gn(E,h){Ee(E.emulator,"Emulator should always be set here");const{url:p}=E.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class hr{static initialize(h,p,A){this.fetchImpl=h,p&&(this.headersImpl=p),A&&(this.responseImpl=A)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void nt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void nt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void nt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Fn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},Xr=new Yn(3e4,6e4);function Wn(E,h){return E.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:E.tenantId}):h}function Tr(E,h,p,A){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,m.Z)(function*(E,h,p,A,X={}){return _i(E,X,(0,m.Z)(function*(){let ue={},ze={};A&&("GET"===h?ze=A:ue={body:JSON.stringify(A)});const _t=(0,re.xO)(Object.assign({key:E.config.apiKey},ze)).slice(1),en=yield E._getAdditionalHeaders();return en["Content-Type"]="application/json",E.languageCode&&(en["X-Firebase-Locale"]=E.languageCode),hr.fetch()(Pn(E,E.config.apiHost,p,_t),Object.assign({method:h,headers:en,referrerPolicy:"no-referrer"},ue))}))})).apply(this,arguments)}function _i(E,h,p){return mr.apply(this,arguments)}function mr(){return(mr=(0,m.Z)(function*(E,h,p){E._canInitEmulator=!1;const A=Object.assign(Object.assign({},Fn),h);try{const X=new zr(E),ue=yield Promise.race([p(),X.promise]);X.clearNetworkTimeout();const ze=yield ue.json();if("needConfirmation"in ze)throw oi(E,"account-exists-with-different-credential",ze);if(ue.ok&&!("errorMessage"in ze))return ze;{const _t=ue.ok?ze.errorMessage:ze.error.message,[en,On]=_t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===en)throw oi(E,"credential-already-in-use",ze);if("EMAIL_EXISTS"===en)throw oi(E,"email-already-in-use",ze);if("USER_DISABLED"===en)throw oi(E,"user-disabled",ze);const or=A[en]||en.toLowerCase().replace(/[_\s]+/g,"-");if(On)throw vt(E,or,On);xe(E,or)}}catch(X){if(X instanceof re.ZR)throw X;xe(E,"network-request-failed")}})).apply(this,arguments)}function ii(E,h,p,A){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,m.Z)(function*(E,h,p,A,X={}){const ue=yield Tr(E,h,p,A,X);return"mfaPendingCredential"in ue&&xe(E,"multi-factor-auth-required",{_serverResponse:ue}),ue})).apply(this,arguments)}function Pn(E,h,p,A){const X=`${h}${p}?${A}`;return E.config.emulator?Gn(E.config,X):`${E.config.apiScheme}://${X}`}class zr{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,A)=>{this.timer=setTimeout(()=>A(bt(this.auth,"network-request-failed")),Xr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function oi(E,h,p){const A={appName:E.name};p.email&&(A.email=p.email),p.phoneNumber&&(A.phoneNumber=p.phoneNumber);const X=bt(E,h,A);return X.customData._tokenResponse=p,X}function Xt(){return(Xt=(0,m.Z)(function*(E,h){return Tr(E,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function fi(E,h){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,m.Z)(function*(E,h){return Tr(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function _r(E,h){return pi.apply(this,arguments)}function pi(){return(pi=(0,m.Z)(function*(E,h){return Tr(E,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ui(E){if(E)try{const h=new Date(Number(E));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function Oe(){return(Oe=(0,m.Z)(function*(E,h=!1){const p=(0,re.m9)(E),A=yield p.getIdToken(h),X=lt(A);Se(X&&X.exp&&X.auth_time&&X.iat,p.auth,"internal-error");const ue="object"==typeof X.firebase?X.firebase:void 0,ze=ue?.sign_in_provider;return{claims:X,token:A,authTime:Ui(Ie(X.auth_time)),issuedAtTime:Ui(Ie(X.iat)),expirationTime:Ui(Ie(X.exp)),signInProvider:ze||null,signInSecondFactor:ue?.sign_in_second_factor||null}})).apply(this,arguments)}function Ie(E){return 1e3*Number(E)}function lt(E){var h;const[p,A,X]=E.split(".");if(void 0===p||void 0===A||void 0===X)return _n("JWT malformed, contained fewer than 3 sections"),null;try{const ue=(0,re.tV)(A);return ue?JSON.parse(ue):(_n("Failed to decode base64 JWT payload"),null)}catch(ue){return _n("Caught error parsing JWT payload as JSON",null===(h=ue)||void 0===h?void 0:h.toString()),null}}function dn(E,h){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,m.Z)(function*(E,h,p=!1){if(p)return h;try{return yield h}catch(A){throw A instanceof re.ZR&&Er(A)&&E.auth.currentUser===E&&(yield E.auth.signOut()),A}})).apply(this,arguments)}function Er({code:E}){return"auth/user-disabled"===E||"auth/user-token-expired"===E}class Wt{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const A=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),A}{this.errorBackoff=3e4;const X=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,X)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const A=this.getInterval(h);this.timerId=setTimeout((0,m.Z)(function*(){yield p.iteration()}),A)}iteration(){var h=this;return(0,m.Z)(function*(){var p;try{yield h.user.getIdToken(!0)}catch(A){return void("auth/network-request-failed"===(null===(p=A)||void 0===p?void 0:p.code)&&h.schedule(!0))}h.schedule()})()}}class Or{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ui(this.lastLoginAt),this.creationTime=Ui(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ar(E){return br.apply(this,arguments)}function br(){return(br=(0,m.Z)(function*(E){var h;const p=E.auth,A=yield E.getIdToken(),X=yield dn(E,_r(p,{idToken:A}));Se(X?.users.length,p,"internal-error");const ue=X.users[0];E._notifyReloadListener(ue);const ze=null!==(h=ue.providerUserInfo)&&void 0!==h&&h.length?Qt(ue.providerUserInfo):[],_t=on(E.providerData,ze),or=!!E.isAnonymous&&!(E.email&&ue.passwordHash||_t?.length),tr={uid:ue.localId,displayName:ue.displayName||null,photoURL:ue.photoUrl||null,email:ue.email||null,emailVerified:ue.emailVerified||!1,phoneNumber:ue.phoneNumber||null,tenantId:ue.tenantId||null,providerData:_t,metadata:new Or(ue.createdAt,ue.lastLoginAt),isAnonymous:or};Object.assign(E,tr)})).apply(this,arguments)}function Vn(){return(Vn=(0,m.Z)(function*(E){const h=(0,re.m9)(E);yield ar(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function on(E,h){return[...E.filter(A=>!h.some(X=>X.providerId===A.providerId)),...h]}function Qt(E){return E.map(h=>{var{providerId:p}=h,A=(0,Le._T)(h,["providerId"]);return{providerId:p,uid:A.rawId||"",displayName:A.displayName||null,email:A.email||null,phoneNumber:A.phoneNumber||null,photoURL:A.photoUrl||null}})}function Gt(){return(Gt=(0,m.Z)(function*(E,h){const p=yield _i(E,{},(0,m.Z)(function*(){const A=(0,re.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:X,apiKey:ue}=E.config,ze=Pn(E,X,"/v1/token",`key=${ue}`),_t=yield E._getAdditionalHeaders();return _t["Content-Type"]="application/x-www-form-urlencoded",hr.fetch()(ze,{method:"POST",headers:_t,body:A})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class kn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){Se(h.idToken,"internal-error"),Se(typeof h.idToken<"u","internal-error"),Se(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function It(E){const h=lt(E);return Se(h,"internal-error"),Se(typeof h.exp<"u","internal-error"),Se(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var A=this;return(0,m.Z)(function*(){return Se(!A.accessToken||A.refreshToken,h,"user-token-expired"),p||!A.accessToken||A.isExpired?A.refreshToken?(yield A.refresh(h,A.refreshToken),A.accessToken):null:A.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var A=this;return(0,m.Z)(function*(){const{accessToken:X,refreshToken:ue,expiresIn:ze}=yield function mt(E,h){return Gt.apply(this,arguments)}(h,p);A.updateTokensAndExpiration(X,ue,Number(ze))})()}updateTokensAndExpiration(h,p,A){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*A}static fromJSON(h,p){const{refreshToken:A,accessToken:X,expirationTime:ue}=p,ze=new kn;return A&&(Se("string"==typeof A,"internal-error",{appName:h}),ze.refreshToken=A),X&&(Se("string"==typeof X,"internal-error",{appName:h}),ze.accessToken=X),ue&&(Se("number"==typeof ue,"internal-error",{appName:h}),ze.expirationTime=ue),ze}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new kn,this.toJSON())}_performRefresh(){return nt("not implemented")}}function Sn(E,h){Se("string"==typeof E||typeof E>"u","internal-error",{appName:h})}class Un{constructor(h){var{uid:p,auth:A,stsTokenManager:X}=h,ue=(0,Le._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=A,this.stsTokenManager=X,this.accessToken=X.accessToken,this.displayName=ue.displayName||null,this.email=ue.email||null,this.emailVerified=ue.emailVerified||!1,this.phoneNumber=ue.phoneNumber||null,this.photoURL=ue.photoURL||null,this.isAnonymous=ue.isAnonymous||!1,this.tenantId=ue.tenantId||null,this.providerData=ue.providerData?[...ue.providerData]:[],this.metadata=new Or(ue.createdAt||void 0,ue.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,m.Z)(function*(){const A=yield dn(p,p.stsTokenManager.getToken(p.auth,h));return Se(A,p.auth,"internal-error"),p.accessToken!==A&&(p.accessToken=A,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),A})()}getIdTokenResult(h){return function dt(E){return Oe.apply(this,arguments)}(this,h)}reload(){return function Xn(E){return Vn.apply(this,arguments)}(this)}_assign(h){this!==h&&(Se(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){return new Un(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(h){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var A=this;return(0,m.Z)(function*(){let X=!1;h.idToken&&h.idToken!==A.stsTokenManager.accessToken&&(A.stsTokenManager.updateFromServerResponse(h),X=!0),p&&(yield ar(A)),yield A.auth._persistUserIfCurrent(A),X&&A.auth._notifyListenersIfCurrent(A)})()}delete(){var h=this;return(0,m.Z)(function*(){const p=yield h.getIdToken();return yield dn(h,function Hr(E,h){return Xt.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var A,X,ue,ze,_t,en,On,or;const tr=null!==(A=p.displayName)&&void 0!==A?A:void 0,li=null!==(X=p.email)&&void 0!==X?X:void 0,ma=null!==(ue=p.phoneNumber)&&void 0!==ue?ue:void 0,mc=null!==(ze=p.photoURL)&&void 0!==ze?ze:void 0,ja=null!==(_t=p.tenantId)&&void 0!==_t?_t:void 0,nu=null!==(en=p._redirectEventId)&&void 0!==en?en:void 0,yc=null!==(On=p.createdAt)&&void 0!==On?On:void 0,xh=null!==(or=p.lastLoginAt)&&void 0!==or?or:void 0,{uid:Ph,emailVerified:yp,isAnonymous:vp,providerData:md,stsTokenManager:yd}=p;Se(Ph&&yd,h,"internal-error");const vd=kn.fromJSON(this.name,yd);Se("string"==typeof Ph,h,"internal-error"),Sn(tr,h.name),Sn(li,h.name),Se("boolean"==typeof yp,h,"internal-error"),Se("boolean"==typeof vp,h,"internal-error"),Sn(ma,h.name),Sn(mc,h.name),Sn(ja,h.name),Sn(nu,h.name),Sn(yc,h.name),Sn(xh,h.name);const vc=new Un({uid:Ph,auth:h,email:li,emailVerified:yp,displayName:tr,isAnonymous:vp,photoURL:mc,phoneNumber:ma,tenantId:ja,stsTokenManager:vd,createdAt:yc,lastLoginAt:xh});return md&&Array.isArray(md)&&(vc.providerData=md.map(Nh=>Object.assign({},Nh))),nu&&(vc._redirectEventId=nu),vc}static _fromIdTokenResponse(h,p,A=!1){return(0,m.Z)(function*(){const X=new kn;X.updateFromServerResponse(p);const ue=new Un({uid:p.localId,auth:h,stsTokenManager:X,isAnonymous:A});return yield ar(ue),ue})()}}const De=(()=>{class E{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,m.Z)(function*(){return!0})()}_set(p,A){var X=this;return(0,m.Z)(function*(){X.storage[p]=A})()}_get(p){var A=this;return(0,m.Z)(function*(){const X=A.storage[p];return void 0===X?null:X})()}_remove(p){var A=this;return(0,m.Z)(function*(){delete A.storage[p]})()}_addListener(p,A){}_removeListener(p,A){}}return E.type="NONE",E})();function je(E,h,p){return`firebase:${E}:${h}:${p}`}class Ct{constructor(h,p,A){this.persistence=h,this.auth=p,this.userKey=A;const{config:X,name:ue}=this.auth;this.fullUserKey=je(this.userKey,X.apiKey,ue),this.fullPersistenceKey=je("persistence",X.apiKey,ue),this.boundEventHandler=p._onStorageEvent.bind(p),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(h){return this.persistence._set(this.fullUserKey,h.toJSON())}getCurrentUser(){var h=this;return(0,m.Z)(function*(){const p=yield h.persistence._get(h.fullUserKey);return p?Un._fromJSON(h.auth,p):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(h){var p=this;return(0,m.Z)(function*(){if(p.persistence===h)return;const A=yield p.getCurrentUser();return yield p.removeCurrentUser(),p.persistence=h,A?p.setCurrentUser(A):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(h,p,A="authUser"){return(0,m.Z)(function*(){if(!p.length)return new Ct(Ne(De),h,A);const X=(yield Promise.all(p.map(function(){var On=(0,m.Z)(function*(or){if(yield or._isAvailable())return or});return function(or){return On.apply(this,arguments)}}()))).filter(On=>On);let ue=X[0]||Ne(De);const ze=je(A,h.config.apiKey,h.name);let _t=null;for(const On of p)try{const or=yield On._get(ze);if(or){const tr=Un._fromJSON(h,or);On!==ue&&(_t=tr),ue=On;break}}catch{}const en=X.filter(On=>On._shouldAllowMigration);return ue._shouldAllowMigration&&en.length?(ue=en[0],_t&&(yield ue._set(ze,_t.toJSON())),yield Promise.all(p.map(function(){var On=(0,m.Z)(function*(or){if(or!==ue)try{yield or._remove(ze)}catch{}});return function(or){return On.apply(this,arguments)}}())),new Ct(ue,h,A)):new Ct(ue,h,A)})()}}function Ye(E){const h=E.toLowerCase();if(h.includes("opera/")||h.includes("opr/")||h.includes("opios/"))return"Opera";if(Nr(h))return"IEMobile";if(h.includes("msie")||h.includes("trident/"))return"IE";if(h.includes("edge/"))return"Edge";if(Yt(h))return"Firefox";if(h.includes("silk/"))return"Silk";if(Ae(h))return"Blackberry";if(_e(h))return"Webos";if(An(h))return"Safari";if((h.includes("chrome/")||lr(h))&&!h.includes("edge/"))return"Chrome";if(gr(h))return"Android";{const A=E.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===A?.length)return A[1]}return"Other"}function Yt(E=(0,re.z$)()){return/firefox\//i.test(E)}function An(E=(0,re.z$)()){const h=E.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function lr(E=(0,re.z$)()){return/crios\//i.test(E)}function Nr(E=(0,re.z$)()){return/iemobile/i.test(E)}function gr(E=(0,re.z$)()){return/android/i.test(E)}function Ae(E=(0,re.z$)()){return/blackberry/i.test(E)}function _e(E=(0,re.z$)()){return/webos/i.test(E)}function pe(E=(0,re.z$)()){return/iphone|ipad|ipod/i.test(E)||/macintosh/i.test(E)&&/mobile/i.test(E)}function Cn(E=(0,re.z$)()){return pe(E)||gr(E)||_e(E)||Ae(E)||/windows phone/i.test(E)||Nr(E)}function Ur(E,h=[]){let p;switch(E){case"Browser":p=Ye((0,re.z$)());break;case"Worker":p=`${Ye((0,re.z$)())}-${E}`;break;default:p=E}const A=h.length?h.join(","):"FirebaseCore-web";return`${p}/JsCore/${Ve.SDK_VERSION}/${A}`}class ci{constructor(h){this.auth=h,this.queue=[]}pushCallback(h,p){const A=ue=>new Promise((ze,_t)=>{try{ze(h(ue))}catch(en){_t(en)}});A.onAbort=p,this.queue.push(A);const X=this.queue.length-1;return()=>{this.queue[X]=()=>Promise.resolve()}}runMiddleware(h){var p=this;return(0,m.Z)(function*(){var A;if(p.auth.currentUser===h)return;const X=[];try{for(const ue of p.queue)yield ue(h),ue.onAbort&&X.push(ue.onAbort)}catch(ue){X.reverse();for(const ze of X)try{ze()}catch{}throw p.auth._errorFactory.create("login-blocked",{originalMessage:null===(A=ue)||void 0===A?void 0:A.message})}})()}}class Jt{constructor(h,p,A){this.app=h,this.heartbeatServiceProvider=p,this.config=A,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ai(this),this.idTokenSubscription=new ai(this),this.beforeStateQueue=new ci(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pt,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=h.name,this.clientVersion=A.sdkClientVersion}_initializeWithPersistence(h,p){var A=this;return p&&(this._popupRedirectResolver=Ne(p)),this._initializationPromise=this.queue((0,m.Z)(function*(){var X,ue;if(!A._deleted&&(A.persistenceManager=yield Ct.create(A,h),!A._deleted)){if(null!==(X=A._popupRedirectResolver)&&void 0!==X&&X._shouldInitProactively)try{yield A._popupRedirectResolver._initialize(A)}catch{}yield A.initializeCurrentUser(p),A.lastNotifiedUid=(null===(ue=A.currentUser)||void 0===ue?void 0:ue.uid)||null,!A._deleted&&(A._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var h=this;return(0,m.Z)(function*(){if(h._deleted)return;const p=yield h.assertedPersistence.getCurrentUser();if(h.currentUser||p){if(h.currentUser&&p&&h.currentUser.uid===p.uid)return h._currentUser._assign(p),void(yield h.currentUser.getIdToken());yield h._updateCurrentUser(p,!0)}})()}initializeCurrentUser(h){var p=this;return(0,m.Z)(function*(){var A;const X=yield p.assertedPersistence.getCurrentUser();let ue=X,ze=!1;if(h&&p.config.authDomain){yield p.getOrInitRedirectPersistenceManager();const _t=null===(A=p.redirectUser)||void 0===A?void 0:A._redirectEventId,en=ue?._redirectEventId,On=yield p.tryRedirectSignIn(h);(!_t||_t===en)&&On?.user&&(ue=On.user,ze=!0)}if(!ue)return p.directlySetCurrentUser(null);if(!ue._redirectEventId){if(ze)try{yield p.beforeStateQueue.runMiddleware(ue)}catch(_t){ue=X,p._popupRedirectResolver._overrideRedirectResult(p,()=>Promise.reject(_t))}return ue?p.reloadAndSetCurrentUserOrClear(ue):p.directlySetCurrentUser(null)}return Se(p._popupRedirectResolver,p,"argument-error"),yield p.getOrInitRedirectPersistenceManager(),p.redirectUser&&p.redirectUser._redirectEventId===ue._redirectEventId?p.directlySetCurrentUser(ue):p.reloadAndSetCurrentUserOrClear(ue)})()}tryRedirectSignIn(h){var p=this;return(0,m.Z)(function*(){let A=null;try{A=yield p._popupRedirectResolver._completeRedirectFn(p,h,!0)}catch{yield p._setRedirectUser(null)}return A})()}reloadAndSetCurrentUserOrClear(h){var p=this;return(0,m.Z)(function*(){var A;try{yield ar(h)}catch(X){if("auth/network-request-failed"!==(null===(A=X)||void 0===A?void 0:A.code))return p.directlySetCurrentUser(null)}return p.directlySetCurrentUser(h)})()}useDeviceLanguage(){this.languageCode=function Kt(){if(typeof navigator>"u")return null;const E=navigator;return E.languages&&E.languages[0]||E.language||null}()}_delete(){var h=this;return(0,m.Z)(function*(){h._deleted=!0})()}updateCurrentUser(h){var p=this;return(0,m.Z)(function*(){const A=h?(0,re.m9)(h):null;return A&&Se(A.auth.config.apiKey===p.config.apiKey,p,"invalid-user-token"),p._updateCurrentUser(A&&A._clone(p))})()}_updateCurrentUser(h,p=!1){var A=this;return(0,m.Z)(function*(){if(!A._deleted)return h&&Se(A.tenantId===h.tenantId,A,"tenant-id-mismatch"),p||(yield A.beforeStateQueue.runMiddleware(h)),A.queue((0,m.Z)(function*(){yield A.directlySetCurrentUser(h),A.notifyAuthListeners()}))})()}signOut(){var h=this;return(0,m.Z)(function*(){return yield h.beforeStateQueue.runMiddleware(null),(h.redirectPersistenceManager||h._popupRedirectResolver)&&(yield h._setRedirectUser(null)),h._updateCurrentUser(null,!0)})()}setPersistence(h){var p=this;return this.queue((0,m.Z)(function*(){yield p.assertedPersistence.setPersistence(Ne(h))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(h){this._errorFactory=new re.LL("auth","Firebase",h())}onAuthStateChanged(h,p,A){return this.registerStateListener(this.authStateSubscription,h,p,A)}beforeAuthStateChanged(h,p){return this.beforeStateQueue.pushCallback(h,p)}onIdTokenChanged(h,p,A){return this.registerStateListener(this.idTokenSubscription,h,p,A)}toJSON(){var h;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(h=this._currentUser)||void 0===h?void 0:h.toJSON()}}_setRedirectUser(h,p){var A=this;return(0,m.Z)(function*(){const X=yield A.getOrInitRedirectPersistenceManager(p);return null===h?X.removeCurrentUser():X.setCurrentUser(h)})()}getOrInitRedirectPersistenceManager(h){var p=this;return(0,m.Z)(function*(){if(!p.redirectPersistenceManager){const A=h&&Ne(h)||p._popupRedirectResolver;Se(A,p,"argument-error"),p.redirectPersistenceManager=yield Ct.create(p,[Ne(A._redirectPersistence)],"redirectUser"),p.redirectUser=yield p.redirectPersistenceManager.getCurrentUser()}return p.redirectPersistenceManager})()}_redirectUserForId(h){var p=this;return(0,m.Z)(function*(){var A,X;return p._isInitialized&&(yield p.queue((0,m.Z)(function*(){}))),(null===(A=p._currentUser)||void 0===A?void 0:A._redirectEventId)===h?p._currentUser:(null===(X=p.redirectUser)||void 0===X?void 0:X._redirectEventId)===h?p.redirectUser:null})()}_persistUserIfCurrent(h){var p=this;return(0,m.Z)(function*(){if(h===p.currentUser)return p.queue((0,m.Z)(function*(){return p.directlySetCurrentUser(h)}))})()}_notifyListenersIfCurrent(h){h===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var h,p;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const A=null!==(p=null===(h=this.currentUser)||void 0===h?void 0:h.uid)&&void 0!==p?p:null;this.lastNotifiedUid!==A&&(this.lastNotifiedUid=A,this.authStateSubscription.next(this.currentUser))}registerStateListener(h,p,A,X){if(this._deleted)return()=>{};const ue="function"==typeof p?p:p.next.bind(p),ze=this._isInitialized?Promise.resolve():this._initializationPromise;return Se(ze,this,"internal-error"),ze.then(()=>ue(this.currentUser)),"function"==typeof p?h.addObserver(p,A,X):h.addObserver(p)}directlySetCurrentUser(h){var p=this;return(0,m.Z)(function*(){p.currentUser&&p.currentUser!==h&&p._currentUser._stopProactiveRefresh(),h&&p.isProactiveRefreshEnabled&&h._startProactiveRefresh(),p.currentUser=h,h?yield p.assertedPersistence.setCurrentUser(h):yield p.assertedPersistence.removeCurrentUser()})()}queue(h){return this.operations=this.operations.then(h,h),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(h){!h||this.frameworks.includes(h)||(this.frameworks.push(h),this.frameworks.sort(),this.clientVersion=Ur(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var h=this;return(0,m.Z)(function*(){var p;const A={"X-Client-Version":h.clientVersion};h.app.options.appId&&(A["X-Firebase-gmpid"]=h.app.options.appId);const X=yield null===(p=h.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===p?void 0:p.getHeartbeatsHeader();return X&&(A["X-Firebase-Client"]=X),A})()}}function Rr(E){return(0,re.m9)(E)}class ai{constructor(h){this.auth=h,this.observer=null,this.addObserver=(0,re.ne)(p=>this.observer=p)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Ss(E){const h=E.indexOf(":");return h<0?"":E.substr(0,h+1)}function ji(E){if(!E)return null;const h=Number(E);return isNaN(h)?null:h}class nr{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return nt("not implemented")}_getIdTokenResponse(h){return nt("not implemented")}_linkToIdToken(h,p){return nt("not implemented")}_getReauthenticationResolver(h){return nt("not implemented")}}function Sr(E,h){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,m.Z)(function*(E,h){return Tr(E,"POST","/v1/accounts:resetPassword",Wn(E,h))})).apply(this,arguments)}function yr(E,h){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,m.Z)(function*(E,h){return Tr(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function Ms(E,h){return gi.apply(this,arguments)}function gi(){return(gi=(0,m.Z)(function*(E,h){return Tr(E,"POST","/v1/accounts:update",Wn(E,h))})).apply(this,arguments)}function Ji(){return(Ji=(0,m.Z)(function*(E,h){return ii(E,"POST","/v1/accounts:signInWithPassword",Wn(E,h))})).apply(this,arguments)}function zi(E,h){return Es.apply(this,arguments)}function Es(){return(Es=(0,m.Z)(function*(E,h){return Tr(E,"POST","/v1/accounts:sendOobCode",Wn(E,h))})).apply(this,arguments)}function di(E,h){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,m.Z)(function*(E,h){return zi(E,h)})).apply(this,arguments)}function Mr(E,h){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,m.Z)(function*(E,h){return zi(E,h)})).apply(this,arguments)}function Wi(E,h){return ki.apply(this,arguments)}function ki(){return(ki=(0,m.Z)(function*(E,h){return zi(E,h)})).apply(this,arguments)}function Oo(E,h){return kr.apply(this,arguments)}function kr(){return(kr=(0,m.Z)(function*(E,h){return zi(E,h)})).apply(this,arguments)}function Rs(){return(Rs=(0,m.Z)(function*(E,h){return ii(E,"POST","/v1/accounts:signInWithEmailLink",Wn(E,h))})).apply(this,arguments)}function bs(){return(bs=(0,m.Z)(function*(E,h){return ii(E,"POST","/v1/accounts:signInWithEmailLink",Wn(E,h))})).apply(this,arguments)}class Wo extends nr{constructor(h,p,A,X=null){super("password",A),this._email=h,this._password=p,this._tenantId=X}static _fromEmailAndPassword(h,p){return new Wo(h,p,"password")}static _fromEmailAndCode(h,p,A=null){return new Wo(h,p,"emailLink",A)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h;if(p?.email&&p?.password){if("password"===p.signInMethod)return this._fromEmailAndPassword(p.email,p.password);if("emailLink"===p.signInMethod)return this._fromEmailAndCode(p.email,p.password,p.tenantId)}return null}_getIdTokenResponse(h){var p=this;return(0,m.Z)(function*(){switch(p.signInMethod){case"password":return function Os(E,h){return Ji.apply(this,arguments)}(h,{returnSecureToken:!0,email:p._email,password:p._password});case"emailLink":return function bo(E,h){return Rs.apply(this,arguments)}(h,{email:p._email,oobCode:p._password});default:xe(h,"internal-error")}})()}_linkToIdToken(h,p){var A=this;return(0,m.Z)(function*(){switch(A.signInMethod){case"password":return yr(h,{idToken:p,returnSecureToken:!0,email:A._email,password:A._password});case"emailLink":return function Go(E,h){return bs.apply(this,arguments)}(h,{idToken:p,email:A._email,oobCode:A._password});default:xe(h,"internal-error")}})()}_getReauthenticationResolver(h){return this._getIdTokenResponse(h)}}function Ar(E,h){return Ro.apply(this,arguments)}function Ro(){return(Ro=(0,m.Z)(function*(E,h){return ii(E,"POST","/v1/accounts:signInWithIdp",Wn(E,h))})).apply(this,arguments)}class Ti extends nr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new Ti(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):xe("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:X}=p,ue=(0,Le._T)(p,["providerId","signInMethod"]);if(!A||!X)return null;const ze=new Ti(A,X);return ze.idToken=ue.idToken||void 0,ze.accessToken=ue.accessToken||void 0,ze.secret=ue.secret,ze.nonce=ue.nonce,ze.pendingToken=ue.pendingToken||null,ze}_getIdTokenResponse(h){return Ar(h,this.buildRequest())}_linkToIdToken(h,p){const A=this.buildRequest();return A.idToken=p,Ar(h,A)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ar(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,re.xO)(p)}return h}}function qo(E,h){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,m.Z)(function*(E,h){return Tr(E,"POST","/v1/accounts:sendVerificationCode",Wn(E,h))})).apply(this,arguments)}function ds(){return(ds=(0,m.Z)(function*(E,h){return ii(E,"POST","/v1/accounts:signInWithPhoneNumber",Wn(E,h))})).apply(this,arguments)}function Ko(){return(Ko=(0,m.Z)(function*(E,h){const p=yield ii(E,"POST","/v1/accounts:signInWithPhoneNumber",Wn(E,h));if(p.temporaryProof)throw oi(E,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const Lo={USER_NOT_FOUND:"user-not-found"};function Js(){return(Js=(0,m.Z)(function*(E,h){return ii(E,"POST","/v1/accounts:signInWithPhoneNumber",Wn(E,Object.assign(Object.assign({},h),{operation:"REAUTH"})),Lo)})).apply(this,arguments)}class qi extends nr{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new qi({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new qi({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function ko(E,h){return ds.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function so(E,h){return Ko.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function ta(E,h){return Js.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:A,verificationCode:X}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:A,code:X}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:A,phoneNumber:X,temporaryProof:ue}=h;return A||p||X||ue?new qi({verificationId:p,verificationCode:A,phoneNumber:X,temporaryProof:ue}):null}}class es{constructor(h){var p,A,X,ue,ze,_t;const en=(0,re.zd)((0,re.pd)(h)),On=null!==(p=en.apiKey)&&void 0!==p?p:null,or=null!==(A=en.oobCode)&&void 0!==A?A:null,tr=function oo(E){switch(E){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(X=en.mode)&&void 0!==X?X:null);Se(On&&or&&tr,"argument-error"),this.apiKey=On,this.operation=tr,this.code=or,this.continueUrl=null!==(ue=en.continueUrl)&&void 0!==ue?ue:null,this.languageCode=null!==(ze=en.languageCode)&&void 0!==ze?ze:null,this.tenantId=null!==(_t=en.tenantId)&&void 0!==_t?_t:null}static parseLink(h){const p=function bi(E){const h=(0,re.zd)((0,re.pd)(E)).link,p=h?(0,re.zd)((0,re.pd)(h)).deep_link_id:null,A=(0,re.zd)((0,re.pd)(E)).deep_link_id;return(A?(0,re.zd)((0,re.pd)(A)).link:null)||A||p||h||E}(h);try{return new es(p)}catch{return null}}}let Si=(()=>{class E{constructor(){this.providerId=E.PROVIDER_ID}static credential(p,A){return Wo._fromEmailAndPassword(p,A)}static credentialWithLink(p,A){const X=es.parseLink(A);return Se(X,"argument-error"),Wo._fromEmailAndCode(p,X.code,X.tenantId)}}return E.PROVIDER_ID="password",E.EMAIL_PASSWORD_SIGN_IN_METHOD="password",E.EMAIL_LINK_SIGN_IN_METHOD="emailLink",E})();class ts{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Ai extends ts{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class Is extends Ai{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return Se("providerId"in p&&"signInMethod"in p,"argument-error"),Ti._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return Se(h.idToken||h.accessToken,"argument-error"),Ti._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return Is.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return Is.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:A,oauthTokenSecret:X,pendingToken:ue,nonce:ze,providerId:_t}=h;if(!A&&!X&&!p&&!ue||!_t)return null;try{return new Is(_t)._credential({idToken:p,accessToken:A,nonce:ze,pendingToken:ue})}catch{return null}}}let Io=(()=>{class E extends Ai{constructor(){super("facebook.com")}static credential(p){return Ti._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return E.credential(p.oauthAccessToken)}catch{return null}}}return E.FACEBOOK_SIGN_IN_METHOD="facebook.com",E.PROVIDER_ID="facebook.com",E})(),ns=(()=>{class E extends Ai{constructor(){super("google.com"),this.addScope("profile")}static credential(p,A){return Ti._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:A})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:A,oauthAccessToken:X}=p;if(!A&&!X)return null;try{return E.credential(A,X)}catch{return null}}}return E.GOOGLE_SIGN_IN_METHOD="google.com",E.PROVIDER_ID="google.com",E})(),Bs=(()=>{class E extends Ai{constructor(){super("github.com")}static credential(p){return Ti._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return E.credential(p.oauthAccessToken)}catch{return null}}}return E.GITHUB_SIGN_IN_METHOD="github.com",E.PROVIDER_ID="github.com",E})();class Li extends nr{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return Ar(h,this.buildRequest())}_linkToIdToken(h,p){const A=this.buildRequest();return A.idToken=p,Ar(h,A)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,Ar(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:A,signInMethod:X,pendingToken:ue}=p;return A&&X&&ue&&A===X?new Li(A,ue):null}static _create(h,p){return new Li(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class hi extends ts{constructor(h){Se(h.startsWith("saml."),"argument-error"),super(h)}static credentialFromResult(h){return hi.samlCredentialFromTaggedObject(h)}static credentialFromError(h){return hi.samlCredentialFromTaggedObject(h.customData||{})}static credentialFromJSON(h){const p=Li.fromJSON(h);return Se(p,"argument-error"),p}static samlCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{pendingToken:p,providerId:A}=h;if(!p||!A)return null;try{return Li._create(A,p)}catch{return null}}}let rs=(()=>{class E extends Ai{constructor(){super("twitter.com")}static credential(p,A){return Ti._fromParams({providerId:E.PROVIDER_ID,signInMethod:E.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:A})}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:A,oauthTokenSecret:X}=p;if(!A||!X)return null;try{return E.credential(A,X)}catch{return null}}}return E.TWITTER_SIGN_IN_METHOD="twitter.com",E.PROVIDER_ID="twitter.com",E})();function Ki(E,h){return lo.apply(this,arguments)}function lo(){return(lo=(0,m.Z)(function*(E,h){return ii(E,"POST","/v1/accounts:signUp",Wn(E,h))})).apply(this,arguments)}class Fi{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,A,X=!1){return(0,m.Z)(function*(){const ue=yield Un._fromIdTokenResponse(h,A,X),ze=uo(A);return new Fi({user:ue,providerId:ze,_tokenResponse:A,operationType:p})})()}static _forOperation(h,p,A){return(0,m.Z)(function*(){yield h._updateTokensIfNecessary(A,!0);const X=uo(A);return new Fi({user:h,providerId:X,_tokenResponse:A,operationType:p})})()}}function uo(E){return E.providerId?E.providerId:"phoneNumber"in E?"phone":null}function Lr(){return(Lr=(0,m.Z)(function*(E){var h;const p=Rr(E);if(yield p._initializationPromise,null!==(h=p.currentUser)&&void 0!==h&&h.isAnonymous)return new Fi({user:p.currentUser,providerId:null,operationType:"signIn"});const A=yield Ki(p,{returnSecureToken:!0}),X=yield Fi._fromIdTokenResponse(p,"signIn",A,!0);return yield p._updateCurrentUser(X.user),X})).apply(this,arguments)}class Cs extends re.ZR{constructor(h,p,A,X){var ue;super(p.code,p.message),this.operationType=A,this.user=X,Object.setPrototypeOf(this,Cs.prototype),this.customData={appName:h.name,tenantId:null!==(ue=h.tenantId)&&void 0!==ue?ue:void 0,_serverResponse:p.customData._serverResponse,operationType:A}}static _fromErrorAndOperation(h,p,A,X){return new Cs(h,p,A,X)}}function eo(E,h,p,A){return("reauthenticate"===h?p._getReauthenticationResolver(E):p._getIdTokenResponse(E)).catch(ue=>{throw"auth/multi-factor-auth-required"===ue.code?Cs._fromErrorAndOperation(E,ue,h,A):ue})}function Mi(E){return new Set(E.map(({providerId:h})=>h).filter(h=>!!h))}function xi(){return(xi=(0,m.Z)(function*(E,h){const p=(0,re.m9)(E);yield wr(!0,p,h);const{providerUserInfo:A}=yield fi(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),X=Mi(A||[]);return p.providerData=p.providerData.filter(ue=>X.has(ue.providerId)),X.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function hs(E,h){return Zi.apply(this,arguments)}function Zi(){return(Zi=(0,m.Z)(function*(E,h,p=!1){const A=yield dn(E,h._linkToIdToken(E.auth,yield E.getIdToken()),p);return Fi._forOperation(E,"link",A)})).apply(this,arguments)}function wr(E,h,p){return js.apply(this,arguments)}function js(){return(js=(0,m.Z)(function*(E,h,p){yield ar(h);const X=!1===E?"provider-already-linked":"no-such-provider";Se(Mi(h.providerData).has(p)===E,h.auth,X)})).apply(this,arguments)}function Hs(E,h){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,m.Z)(function*(E,h,p=!1){var A;const{auth:X}=E,ue="reauthenticate";try{const ze=yield dn(E,eo(X,ue,h,E),p);Se(ze.idToken,X,"internal-error");const _t=lt(ze.idToken);Se(_t,X,"internal-error");const{sub:en}=_t;return Se(E.uid===en,X,"user-mismatch"),Fi._forOperation(E,ue,ze)}catch(ze){throw"auth/user-not-found"===(null===(A=ze)||void 0===A?void 0:A.code)&&xe(X,"user-mismatch"),ze}})).apply(this,arguments)}function is(E,h){return Fo.apply(this,arguments)}function Fo(){return(Fo=(0,m.Z)(function*(E,h,p=!1){const A="signIn",X=yield eo(E,A,h),ue=yield Fi._fromIdTokenResponse(E,A,X);return p||(yield E._updateCurrentUser(ue.user)),ue})).apply(this,arguments)}function Zr(E,h){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,m.Z)(function*(E,h){return is(Rr(E),h)})).apply(this,arguments)}function Co(E,h){return wo.apply(this,arguments)}function wo(){return(wo=(0,m.Z)(function*(E,h){const p=(0,re.m9)(E);return yield wr(!1,p,h.providerId),hs(p,h)})).apply(this,arguments)}function co(E,h){return fs.apply(this,arguments)}function fs(){return(fs=(0,m.Z)(function*(E,h){return Hs((0,re.m9)(E),h)})).apply(this,arguments)}function Pi(E,h){return ss.apply(this,arguments)}function ss(){return(ss=(0,m.Z)(function*(E,h){return ii(E,"POST","/v1/accounts:signInWithCustomToken",Wn(E,h))})).apply(this,arguments)}function Vo(){return(Vo=(0,m.Z)(function*(E,h){const p=Rr(E),A=yield Pi(p,{token:h,returnSecureToken:!0}),X=yield Fi._fromIdTokenResponse(p,"signIn",A);return yield p._updateCurrentUser(X.user),X})).apply(this,arguments)}class Mt{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?ur._fromServerResponse(h,p):xe(h,"internal-error")}}class ur extends Mt{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new ur(p)}}function ps(E,h,p){var A;Se((null===(A=p.url)||void 0===A?void 0:A.length)>0,E,"invalid-continue-uri"),Se(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,E,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(Se(p.iOS.bundleId.length>0,E,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(Se(p.android.packageName.length>0,E,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function ti(){return(ti=(0,m.Z)(function*(E,h,p){const A=(0,re.m9)(E),X={requestType:"PASSWORD_RESET",email:h};p&&ps(A,X,p),yield Mr(A,X)})).apply(this,arguments)}function os(){return(os=(0,m.Z)(function*(E,h,p){yield Sr((0,re.m9)(E),{oobCode:h,newPassword:p})})).apply(this,arguments)}function $o(){return($o=(0,m.Z)(function*(E,h){yield Ms((0,re.m9)(E),{oobCode:h})})).apply(this,arguments)}function Ps(E,h){return zs.apply(this,arguments)}function zs(){return(zs=(0,m.Z)(function*(E,h){const p=(0,re.m9)(E),A=yield Sr(p,{oobCode:h}),X=A.requestType;switch(Se(X,p,"internal-error"),X){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Se(A.newEmail,p,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Se(A.mfaInfo,p,"internal-error");default:Se(A.email,p,"internal-error")}let ue=null;return A.mfaInfo&&(ue=Mt._fromServerResponse(Rr(p),A.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.newEmail:A.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===A.requestType?A.email:A.newEmail)||null,multiFactorInfo:ue},operation:X}})).apply(this,arguments)}function K(){return(K=(0,m.Z)(function*(E,h){const{data:p}=yield Ps((0,re.m9)(E),h);return p.email})).apply(this,arguments)}function k(){return(k=(0,m.Z)(function*(E,h,p){const A=Rr(E),X=yield Ki(A,{returnSecureToken:!0,email:h,password:p}),ue=yield Fi._fromIdTokenResponse(A,"signIn",X);return yield A._updateCurrentUser(ue.user),ue})).apply(this,arguments)}function un(){return(un=(0,m.Z)(function*(E,h,p){const A=(0,re.m9)(E),X={requestType:"EMAIL_SIGNIN",email:h};Se(p.handleCodeInApp,A,"argument-error"),p&&ps(A,X,p),yield Wi(A,X)})).apply(this,arguments)}function Vi(){return(Vi=(0,m.Z)(function*(E,h,p){const A=(0,re.m9)(E),X=Si.credentialWithLink(h,p||Ut());return Se(X._tenantId===(A.tenantId||null),A,"tenant-id-mismatch"),Zr(A,X)})).apply(this,arguments)}function ls(E,h){return Do.apply(this,arguments)}function Do(){return(Do=(0,m.Z)(function*(E,h){return Tr(E,"POST","/v1/accounts:createAuthUri",Wn(E,h))})).apply(this,arguments)}function to(){return(to=(0,m.Z)(function*(E,h){const A={identifier:h,continueUri:pn()?Ut():"http://localhost"},{signinMethods:X}=yield ls((0,re.m9)(E),A);return X||[]})).apply(this,arguments)}function po(){return(po=(0,m.Z)(function*(E,h){const p=(0,re.m9)(E),X={requestType:"VERIFY_EMAIL",idToken:yield E.getIdToken()};h&&ps(p.auth,X,h);const{email:ue}=yield di(p.auth,X);ue!==E.email&&(yield E.reload())})).apply(this,arguments)}function u(){return(u=(0,m.Z)(function*(E,h,p){const A=(0,re.m9)(E),ue={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield E.getIdToken(),newEmail:h};p&&ps(A.auth,ue,p);const{email:ze}=yield Oo(A.auth,ue);ze!==E.email&&(yield E.reload())})).apply(this,arguments)}function x(E,h){return w.apply(this,arguments)}function w(){return(w=(0,m.Z)(function*(E,h){return Tr(E,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function z(){return(z=(0,m.Z)(function*(E,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const A=(0,re.m9)(E),ue={idToken:yield A.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},ze=yield dn(A,x(A.auth,ue));A.displayName=ze.displayName||null,A.photoURL=ze.photoUrl||null;const _t=A.providerData.find(({providerId:en})=>"password"===en);_t&&(_t.displayName=A.displayName,_t.photoURL=A.photoURL),yield A._updateTokensIfNecessary(ze)})).apply(this,arguments)}function _(E,h,p){return M.apply(this,arguments)}function M(){return(M=(0,m.Z)(function*(E,h,p){const{auth:A}=E,ue={idToken:yield E.getIdToken(),returnSecureToken:!0};h&&(ue.email=h),p&&(ue.password=p);const ze=yield dn(E,yr(A,ue));yield E._updateTokensIfNecessary(ze,!0)})).apply(this,arguments)}class H{constructor(h,p,A={}){this.isNewUser=h,this.providerId=p,this.profile=A}}class W extends H{constructor(h,p,A,X){super(h,p,A),this.username=X}}class ne extends H{constructor(h,p){super(h,"facebook.com",p)}}class ge extends W{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Ce extends H{constructor(h,p){super(h,"google.com",p)}}class ce extends W{constructor(h,p,A){super(h,"twitter.com",p,A)}}function he(E){const{user:h,_tokenResponse:p}=E;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function V(E){var h,p;if(!E)return null;const{providerId:A}=E,X=E.rawUserInfo?JSON.parse(E.rawUserInfo):{},ue=E.isNewUser||"identitytoolkit#SignupNewUserResponse"===E.kind;if(!A&&E?.idToken){const ze=null===(p=null===(h=lt(E.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(ze)return new H(ue,"anonymous"!==ze&&"custom"!==ze?ze:null)}if(!A)return null;switch(A){case"facebook.com":return new ne(ue,X);case"github.com":return new ge(ue,X);case"google.com":return new Ce(ue,X);case"twitter.com":return new ce(ue,X,E.screenName||null);case"custom":case"anonymous":return new H(ue,null);default:return new H(ue,A,X)}}(p)}class Lt{constructor(h,p,A){this.type=h,this.credential=p,this.auth=A}static _fromIdtoken(h,p){return new Lt("enroll",h,p)}static _fromMfaPendingCredential(h){return new Lt("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,A;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return Lt._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(A=h.multiFactorSession)&&void 0!==A&&A.idToken)return Lt._fromIdtoken(h.multiFactorSession.idToken)}return null}}class st{constructor(h,p,A){this.session=h,this.hints=p,this.signInResolver=A}static _fromError(h,p){const A=Rr(h),X=p.customData._serverResponse,ue=(X.mfaInfo||[]).map(_t=>Mt._fromServerResponse(A,_t));Se(X.mfaPendingCredential,A,"internal-error");const ze=Lt._fromMfaPendingCredential(X.mfaPendingCredential);return new st(ze,ue,function(){var _t=(0,m.Z)(function*(en){const On=yield en._process(A,ze);delete X.mfaInfo,delete X.mfaPendingCredential;const or=Object.assign(Object.assign({},X),{idToken:On.idToken,refreshToken:On.refreshToken});switch(p.operationType){case"signIn":const tr=yield Fi._fromIdTokenResponse(A,p.operationType,or);return yield A._updateCurrentUser(tr.user),tr;case"reauthenticate":return Se(p.user,A,"internal-error"),Fi._forOperation(p.user,p.operationType,or);default:xe(A,"internal-error")}});return function(en){return _t.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,m.Z)(function*(){return p.signInResolver(h)})()}}function U(E,h){return Tr(E,"POST","/v2/accounts/mfaEnrollment:start",Wn(E,h))}class R{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(A=>Mt._fromServerResponse(h.auth,A)))})}static _fromUser(h){return new R(h)}getSession(){var h=this;return(0,m.Z)(function*(){return Lt._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,p){var A=this;return(0,m.Z)(function*(){const X=h,ue=yield A.getSession(),ze=yield dn(A.user,X._process(A.user.auth,ue,p));return yield A.user._updateTokensIfNecessary(ze),A.user.reload()})()}unenroll(h){var p=this;return(0,m.Z)(function*(){var A;const X="string"==typeof h?h:h.uid,ue=yield p.user.getIdToken(),ze=yield dn(p.user,function C(E,h){return Tr(E,"POST","/v2/accounts/mfaEnrollment:withdraw",Wn(E,h))}(p.user.auth,{idToken:ue,mfaEnrollmentId:X}));p.enrolledFactors=p.enrolledFactors.filter(({uid:_t})=>_t!==X),yield p.user._updateTokensIfNecessary(ze);try{yield p.user.reload()}catch(_t){if("auth/user-token-expired"!==(null===(A=_t)||void 0===A?void 0:A.code))throw _t}})()}}const Q=new WeakMap,be="__sak";class Te{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem(be,"1"),this.storage.removeItem(be),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const Mn=(()=>{class E extends Te{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,A)=>this.onStorageEvent(p,A),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Je(){const E=(0,re.z$)();return An(E)||pe(E)}()&&function yn(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=Cn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const A of Object.keys(this.listeners)){const X=this.storage.getItem(A),ue=this.localCache[A];X!==ue&&p(A,ue,X)}}onStorageEvent(p,A=!1){if(!p.key)return void this.forAllChangedKeys((_t,en,On)=>{this.notifyListeners(_t,On)});const X=p.key;if(A?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const _t=this.storage.getItem(X);if(p.newValue!==_t)null!==p.newValue?this.storage.setItem(X,p.newValue):this.storage.removeItem(X);else if(this.localCache[X]===p.newValue&&!A)return}const ue=()=>{const _t=this.storage.getItem(X);!A&&this.localCache[X]===_t||this.notifyListeners(X,_t)},ze=this.storage.getItem(X);!function mn(){return(0,re.w1)()&&10===document.documentMode}()||ze===p.newValue||p.newValue===p.oldValue?ue():setTimeout(ue,10)}notifyListeners(p,A){this.localCache[p]=A;const X=this.listeners[p];if(X)for(const ue of Array.from(X))ue(A&&JSON.parse(A))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,A,X)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:A,newValue:X}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,A){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(A)}_removeListener(p,A){this.listeners[p]&&(this.listeners[p].delete(A),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,A){var X=()=>super._set,ue=this;return(0,m.Z)(function*(){yield X().call(ue,p,A),ue.localCache[p]=JSON.stringify(A)})()}_get(p){var A=()=>super._get,X=this;return(0,m.Z)(function*(){const ue=yield A().call(X,p);return X.localCache[p]=JSON.stringify(ue),ue})()}_remove(p){var A=()=>super._remove,X=this;return(0,m.Z)(function*(){yield A().call(X,p),delete X.localCache[p]})()}}return E.type="LOCAL",E})(),wn=(()=>{class E extends Te{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,A){}_removeListener(p,A){}}return E.type="SESSION",E})();let Yr=(()=>{class E{constructor(p){this.eventTarget=p,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(p){const A=this.receivers.find(ue=>ue.isListeningto(p));if(A)return A;const X=new E(p);return this.receivers.push(X),X}isListeningto(p){return this.eventTarget===p}handleEvent(p){var A=this;return(0,m.Z)(function*(){const X=p,{eventId:ue,eventType:ze,data:_t}=X.data,en=A.handlersMap[ze];if(!en?.size)return;X.ports[0].postMessage({status:"ack",eventId:ue,eventType:ze});const On=Array.from(en).map(function(){var tr=(0,m.Z)(function*(li){return li(X.origin,_t)});return function(li){return tr.apply(this,arguments)}}()),or=yield function qn(E){return Promise.all(E.map(function(){var h=(0,m.Z)(function*(p){try{return{fulfilled:!0,value:yield p}}catch(A){return{fulfilled:!1,reason:A}}});return function(p){return h.apply(this,arguments)}}()))}(On);X.ports[0].postMessage({status:"done",eventId:ue,eventType:ze,response:or})})()}_subscribe(p,A){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[p]||(this.handlersMap[p]=new Set),this.handlersMap[p].add(A)}_unsubscribe(p,A){this.handlersMap[p]&&A&&this.handlersMap[p].delete(A),(!A||0===this.handlersMap[p].size)&&delete this.handlersMap[p],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return E.receivers=[],E})();function Dt(E="",h=10){let p="";for(let A=0;A<h;A++)p+=Math.floor(10*Math.random());return E+p}class sr{constructor(h){this.target=h,this.handlers=new Set}removeMessageHandler(h){h.messageChannel&&(h.messageChannel.port1.removeEventListener("message",h.onMessage),h.messageChannel.port1.close()),this.handlers.delete(h)}_send(h,p,A=50){var X=this;return(0,m.Z)(function*(){const ue=typeof MessageChannel<"u"?new MessageChannel:null;if(!ue)throw new Error("connection_unavailable");let ze,_t;return new Promise((en,On)=>{const or=Dt("",20);ue.port1.start();const tr=setTimeout(()=>{On(new Error("unsupported_event"))},A);_t={messageChannel:ue,onMessage(li){const ma=li;if(ma.data.eventId===or)switch(ma.data.status){case"ack":clearTimeout(tr),ze=setTimeout(()=>{On(new Error("timeout"))},3e3);break;case"done":clearTimeout(ze),en(ma.data.response);break;default:clearTimeout(tr),clearTimeout(ze),On(new Error("invalid_response"))}}},X.handlers.add(_t),ue.port1.addEventListener("message",_t.onMessage),X.target.postMessage({eventType:h,eventId:or,data:p},[ue.port2])}).finally(()=>{_t&&X.removeMessageHandler(_t)})})()}}function cr(){return window}function cn(){return typeof cr().WorkerGlobalScope<"u"&&"function"==typeof cr().importScripts}function wi(){return(wi=(0,m.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const xt="firebaseLocalStorageDb",no="firebaseLocalStorage",To="fbase_key";class So{constructor(h){this.request=h}toPromise(){return new Promise((h,p)=>{this.request.addEventListener("success",()=>{h(this.request.result)}),this.request.addEventListener("error",()=>{p(this.request.error)})})}}function va(E,h){return E.transaction([no],h?"readwrite":"readonly").objectStore(no)}function Rn(){const E=indexedDB.open(xt,1);return new Promise((h,p)=>{E.addEventListener("error",()=>{p(E.error)}),E.addEventListener("upgradeneeded",()=>{const A=E.result;try{A.createObjectStore(no,{keyPath:To})}catch(X){p(X)}}),E.addEventListener("success",(0,m.Z)(function*(){const A=E.result;A.objectStoreNames.contains(no)?h(A):(A.close(),yield function xn(){const E=indexedDB.deleteDatabase(xt);return new So(E).toPromise()}(),h(yield Rn()))}))})}function Hn(E,h,p){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,m.Z)(function*(E,h,p){const A=va(E,!0).put({[To]:h,value:p});return new So(A).toPromise()})).apply(this,arguments)}function ks(){return(ks=(0,m.Z)(function*(E,h){const p=va(E,!1).get(h),A=yield new So(p).toPromise();return void 0===A?null:A.value})).apply(this,arguments)}function $i(E,h){const p=va(E,!0).delete(h);return new So(p).toPromise()}const Jr=(()=>{class E{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var p=this;return(0,m.Z)(function*(){return p.db||(p.db=yield Rn()),p.db})()}_withRetries(p){var A=this;return(0,m.Z)(function*(){let X=0;for(;;)try{const ue=yield A._openDb();return yield p(ue)}catch(ue){if(X++>3)throw ue;A.db&&(A.db.close(),A.db=void 0)}})()}initializeServiceWorkerMessaging(){var p=this;return(0,m.Z)(function*(){return cn()?p.initializeReceiver():p.initializeSender()})()}initializeReceiver(){var p=this;return(0,m.Z)(function*(){p.receiver=Yr._getInstance(function ht(){return cn()?self:null}()),p.receiver._subscribe("keyChanged",function(){var A=(0,m.Z)(function*(X,ue){return{keyProcessed:(yield p._poll()).includes(ue.key)}});return function(X,ue){return A.apply(this,arguments)}}()),p.receiver._subscribe("ping",function(){var A=(0,m.Z)(function*(X,ue){return["keyChanged"]});return function(X,ue){return A.apply(this,arguments)}}())})()}initializeSender(){var p=this;return(0,m.Z)(function*(){var A,X;if(p.activeServiceWorker=yield function Tn(){return wi.apply(this,arguments)}(),!p.activeServiceWorker)return;p.sender=new sr(p.activeServiceWorker);const ue=yield p.sender._send("ping",{},800);!ue||(null===(A=ue[0])||void 0===A?void 0:A.fulfilled)&&(null===(X=ue[0])||void 0===X?void 0:X.value.includes("keyChanged"))&&(p.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(p){var A=this;return(0,m.Z)(function*(){if(A.sender&&A.activeServiceWorker&&function Zt(){var E;return(null===(E=navigator?.serviceWorker)||void 0===E?void 0:E.controller)||null}()===A.activeServiceWorker)try{yield A.sender._send("keyChanged",{key:p},A.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,m.Z)(function*(){try{if(!indexedDB)return!1;const p=yield Rn();return yield Hn(p,be,"1"),yield $i(p,be),!0}catch{}return!1})()}_withPendingWrite(p){var A=this;return(0,m.Z)(function*(){A.pendingWrites++;try{yield p()}finally{A.pendingWrites--}})()}_set(p,A){var X=this;return(0,m.Z)(function*(){return X._withPendingWrite((0,m.Z)(function*(){return yield X._withRetries(ue=>Hn(ue,p,A)),X.localCache[p]=A,X.notifyServiceWorker(p)}))})()}_get(p){var A=this;return(0,m.Z)(function*(){const X=yield A._withRetries(ue=>function Qi(E,h){return ks.apply(this,arguments)}(ue,p));return A.localCache[p]=X,X})()}_remove(p){var A=this;return(0,m.Z)(function*(){return A._withPendingWrite((0,m.Z)(function*(){return yield A._withRetries(X=>$i(X,p)),delete A.localCache[p],A.notifyServiceWorker(p)}))})()}_poll(){var p=this;return(0,m.Z)(function*(){const A=yield p._withRetries(ze=>{const _t=va(ze,!1).getAll();return new So(_t).toPromise()});if(!A)return[];if(0!==p.pendingWrites)return[];const X=[],ue=new Set;for(const{fbase_key:ze,value:_t}of A)ue.add(ze),JSON.stringify(p.localCache[ze])!==JSON.stringify(_t)&&(p.notifyListeners(ze,_t),X.push(ze));for(const ze of Object.keys(p.localCache))p.localCache[ze]&&!ue.has(ze)&&(p.notifyListeners(ze,null),X.push(ze));return X})()}notifyListeners(p,A){this.localCache[p]=A;const X=this.listeners[p];if(X)for(const ue of Array.from(X))ue(A)}startPolling(){var p=this;this.stopPolling(),this.pollTimer=setInterval((0,m.Z)(function*(){return p._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(p,A){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[p]||(this.listeners[p]=new Set,this._get(p)),this.listeners[p].add(A)}_removeListener(p,A){this.listeners[p]&&(this.listeners[p].delete(A),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return E.type="LOCAL",E})();function bn(E,h){return Tr(E,"POST","/v2/accounts/mfaSignIn:start",Wn(E,h))}function go(){return(go=(0,m.Z)(function*(E){return(yield Tr(E,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function sn(E){return new Promise((h,p)=>{const A=document.createElement("script");A.setAttribute("src",E),A.onload=h,A.onerror=X=>{const ue=bt("internal-error");ue.customData=X,p(ue)},A.type="text/javascript",A.charset="UTF-8",function Qr(){var E,h;return null!==(h=null===(E=document.getElementsByTagName("head"))||void 0===E?void 0:E[0])&&void 0!==h?h:document}().appendChild(A)})}function Aa(E){return`__${E}${Math.floor(1e6*Math.random())}`}const Ma=1e12;class ei{constructor(h){this.auth=h,this.counter=Ma,this._widgets=new Map}render(h,p){const A=this.counter;return this._widgets.set(A,new Xc(h,this.auth.name,p||{})),this.counter++,A}reset(h){var p;const A=h||Ma;null===(p=this._widgets.get(A))||void 0===p||p.delete(),this._widgets.delete(A)}getResponse(h){var p;return(null===(p=this._widgets.get(h||Ma))||void 0===p?void 0:p.getResponse())||""}execute(h){var p=this;return(0,m.Z)(function*(){var A;return null===(A=p._widgets.get(h||Ma))||void 0===A||A.execute(),""})()}}class Xc{constructor(h,p,A){this.params=A,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const X="string"==typeof h?document.getElementById(h):h;Se(X,"argument-error",{appName:p}),this.container=X,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function qa(E){const h=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let A=0;A<E;A++)h.push(p.charAt(Math.floor(Math.random()*p.length)));return h.join("")}(50);const{callback:h,"expired-callback":p}=this.params;if(h)try{h(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,p)try{p()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const xa=Aa("rcb"),bl=new Yn(3e4,6e4);class Ka{constructor(){var h;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(h=cr().grecaptcha)||void 0===h||!h.render)}load(h,p=""){return Se(function Iu(E){return E.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(E)}(p),h,"argument-error"),this.shouldResolveImmediately(p)?Promise.resolve(cr().grecaptcha):new Promise((A,X)=>{const ue=cr().setTimeout(()=>{X(bt(h,"network-request-failed"))},bl.get());cr()[xa]=()=>{cr().clearTimeout(ue),delete cr()[xa];const _t=cr().grecaptcha;if(!_t)return void X(bt(h,"internal-error"));const en=_t.render;_t.render=(On,or)=>{const tr=en(On,or);return this.counter++,tr},this.hostLanguage=p,A(_t)},sn(`https://www.google.com/recaptcha/api.js??${(0,re.xO)({onload:xa,render:"explicit",hl:p})}`).catch(()=>{clearTimeout(ue),X(bt(h,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(h){var p;return!(null===(p=cr().grecaptcha)||void 0===p||!p.render)&&(h===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Pa{load(h){return(0,m.Z)(function*(){return new ei(h)})()}clearedOneInstance(){}}const Na="recaptcha",Cu={theme:"light",type:"image"};class rt{constructor(h,p=Object.assign({},Cu),A){this.parameters=p,this.type=Na,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rr(A),this.isInvisible="invisible"===this.parameters.size,Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const X="string"==typeof h?document.getElementById(h):h;Se(X,this.auth,"argument-error"),this.container=X,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Pa:new Ka,this.validateStartingState()}verify(){var h=this;return(0,m.Z)(function*(){h.assertNotDestroyed();const p=yield h.render(),A=h.getAssertedRecaptcha();return A.getResponse(p)||new Promise(ue=>{const ze=_t=>{!_t||(h.tokenChangeListeners.delete(ze),ue(_t))};h.tokenChangeListeners.add(ze),h.isInvisible&&A.execute(p)})})()}render(){try{this.assertNotDestroyed()}catch(h){return Promise.reject(h)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(h=>{throw this.renderPromise=null,h})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(h=>{this.container.removeChild(h)})}validateStartingState(){Se(!this.parameters.sitekey,this.auth,"argument-error"),Se(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Se(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(h){return p=>{if(this.tokenChangeListeners.forEach(A=>A(p)),"function"==typeof h)h(p);else if("string"==typeof h){const A=cr()[h];"function"==typeof A&&A(p)}}}assertNotDestroyed(){Se(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var h=this;return(0,m.Z)(function*(){if(yield h.init(),!h.widgetId){let p=h.container;if(!h.isInvisible){const A=document.createElement("div");p.appendChild(A),p=A}h.widgetId=h.getAssertedRecaptcha().render(p,h.parameters)}return h.widgetId})()}init(){var h=this;return(0,m.Z)(function*(){Se(pn()&&!cn(),h.auth,"internal-error"),yield function Oa(){let E=null;return new Promise(h=>{"complete"!==document.readyState?(E=()=>h(),window.addEventListener("load",E)):h()}).catch(h=>{throw E&&window.removeEventListener("load",E),h})}(),h.recaptcha=yield h._recaptchaLoader.load(h.auth,h.auth.languageCode||void 0);const p=yield function $n(E){return go.apply(this,arguments)}(h.auth);Se(p,h.auth,"internal-error"),h.parameters.sitekey=p})()}getAssertedRecaptcha(){return Se(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Ws{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=qi._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function Qo(){return(Qo=(0,m.Z)(function*(E,h,p){const A=Rr(E),X=yield na(A,h,(0,re.m9)(p));return new Ws(X,ue=>Zr(A,ue))})).apply(this,arguments)}function Bo(){return(Bo=(0,m.Z)(function*(E,h,p){const A=(0,re.m9)(E);yield wr(!1,A,"phone");const X=yield na(A.auth,h,(0,re.m9)(p));return new Ws(X,ue=>Co(A,ue))})).apply(this,arguments)}function Ra(){return(Ra=(0,m.Z)(function*(E,h,p){const A=(0,re.m9)(E),X=yield na(A.auth,h,(0,re.m9)(p));return new Ws(X,ue=>co(A,ue))})).apply(this,arguments)}function na(E,h,p){return dl.apply(this,arguments)}function dl(){return(dl=(0,m.Z)(function*(E,h,p){var A;const X=yield p.verify();try{let ue;if(Se("string"==typeof X,E,"argument-error"),Se(p.type===Na,E,"argument-error"),ue="string"==typeof h?{phoneNumber:h}:h,"session"in ue){const ze=ue.session;if("phoneNumber"in ue)return Se("enroll"===ze.type,E,"internal-error"),(yield U(E,{idToken:ze.credential,phoneEnrollmentInfo:{phoneNumber:ue.phoneNumber,recaptchaToken:X}})).phoneSessionInfo.sessionInfo;{Se("signin"===ze.type,E,"internal-error");const _t=(null===(A=ue.multiFactorHint)||void 0===A?void 0:A.uid)||ue.multiFactorUid;return Se(_t,E,"missing-multi-factor-info"),(yield bn(E,{mfaPendingCredential:ze.credential,mfaEnrollmentId:_t,phoneSignInInfo:{recaptchaToken:X}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ze}=yield qo(E,{phoneNumber:ue.phoneNumber,recaptchaToken:X});return ze}}finally{p._reset()}})).apply(this,arguments)}function qs(){return(qs=(0,m.Z)(function*(E,h){yield hs((0,re.m9)(E),h)})).apply(this,arguments)}let Za=(()=>{class E{constructor(p){this.providerId=E.PROVIDER_ID,this.auth=Rr(p)}verifyPhoneNumber(p,A){return na(this.auth,p,(0,re.m9)(A))}static credential(p,A){return qi._fromVerification(p,A)}static credentialFromResult(p){return E.credentialFromTaggedObject(p)}static credentialFromError(p){return E.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:A,temporaryProof:X}=p;return A&&X?qi._fromTokenResponse(A,X):null}}return E.PROVIDER_ID="phone",E.PHONE_SIGN_IN_METHOD="phone",E})();function Uo(E,h){return h?Ne(h):(Se(E._popupRedirectResolver,E,"argument-error"),E._popupRedirectResolver)}class Va extends nr{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return Ar(h,this._buildIdpRequest())}_linkToIdToken(h,p){return Ar(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return Ar(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function Gr(E){return is(E.auth,new Va(E),E.bypassAuthState)}function ka(E){const{auth:h,user:p}=E;return Se(p,h,"internal-error"),Hs(p,new Va(E),E.bypassAuthState)}function D(E){return T.apply(this,arguments)}function T(){return(T=(0,m.Z)(function*(E){const{auth:h,user:p}=E;return Se(p,h,"internal-error"),hs(p,new Va(E),E.bypassAuthState)})).apply(this,arguments)}class I{constructor(h,p,A,X,ue=!1){this.auth=h,this.resolver=A,this.user=X,this.bypassAuthState=ue,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,m.Z)(function*(A,X){h.pendingPromise={resolve:A,reject:X};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(ue){h.reject(ue)}});return function(A,X){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,m.Z)(function*(){const{urlResponse:A,sessionId:X,postBody:ue,tenantId:ze,error:_t,type:en}=h;if(_t)return void p.reject(_t);const On={auth:p.auth,requestUri:A,sessionId:X,tenantId:ze||void 0,postBody:ue||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(en)(On))}catch(or){p.reject(or)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return Gr;case"linkViaPopup":case"linkViaRedirect":return D;case"reauthViaPopup":case"reauthViaRedirect":return ka;default:xe(this.auth,"internal-error")}}resolve(h){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const L=new Yn(2e3,1e4);function oe(){return(oe=(0,m.Z)(function*(E,h,p){const A=Rr(E);$t(E,h,ts);const X=Uo(A,p);return new Qn(A,"signInViaPopup",h,X).executeNotNull()})).apply(this,arguments)}function Pe(){return(Pe=(0,m.Z)(function*(E,h,p){const A=(0,re.m9)(E);$t(A.auth,h,ts);const X=Uo(A.auth,p);return new Qn(A.auth,"reauthViaPopup",h,X,A).executeNotNull()})).apply(this,arguments)}function jt(){return(jt=(0,m.Z)(function*(E,h,p){const A=(0,re.m9)(E);$t(A.auth,h,ts);const X=Uo(A.auth,p);return new Qn(A.auth,"linkViaPopup",h,X,A).executeNotNull()})).apply(this,arguments)}let Qn=(()=>{class E extends I{constructor(p,A,X,ue,ze){super(p,A,ue,ze),this.provider=X,this.authWindow=null,this.pollId=null,E.currentPopupAction&&E.currentPopupAction.cancel(),E.currentPopupAction=this}executeNotNull(){var p=this;return(0,m.Z)(function*(){const A=yield p.execute();return Se(A,p.auth,"internal-error"),A})()}onExecution(){var p=this;return(0,m.Z)(function*(){Ee(1===p.filter.length,"Popup operations only handle one event");const A=Dt();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],A),p.authWindow.associatedEvent=A,p.resolver._originValidation(p.auth).catch(X=>{p.reject(X)}),p.resolver._isIframeWebStorageSupported(p.auth,X=>{X||p.reject(bt(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(bt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,E.currentPopupAction=null}pollUserCancellation(){const p=()=>{var A,X;this.pollId=null!==(X=null===(A=this.authWindow)||void 0===A?void 0:A.window)&&void 0!==X&&X.closed?window.setTimeout(()=>{this.pollId=null,this.reject(bt(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(p,L.get())};p()}}return E.currentPopupAction=null,E})();const xr=new Map;class ms extends I{constructor(h,p,A=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,A),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,m.Z)(function*(){let A=xr.get(p.auth._key());if(!A){try{const ue=(yield function jo(E,h){return Xi.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;A=()=>Promise.resolve(ue)}catch(X){A=()=>Promise.reject(X)}xr.set(p.auth._key(),A)}return p.bypassAuthState||xr.set(p.auth._key(),()=>Promise.resolve(null)),A()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,A=this;return(0,m.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(A,h);if("unknown"!==h.type){if(h.eventId){const X=yield A.auth._redirectUserForId(h.eventId);if(X)return A.user=X,p().call(A,h);A.resolve(null)}}else A.resolve(null)})()}onExecution(){return(0,m.Z)(function*(){})()}cleanUp(){}}function Xi(){return(Xi=(0,m.Z)(function*(E,h){const p=Ba(h),A=ha(E);if(!(yield A._isAvailable()))return!1;const X="true"===(yield A._get(p));return yield A._remove(p),X})).apply(this,arguments)}function Fs(E,h){return mo.apply(this,arguments)}function mo(){return(mo=(0,m.Z)(function*(E,h){return ha(E)._set(Ba(h),"true")})).apply(this,arguments)}function Ao(E,h){xr.set(E._key(),h)}function ha(E){return Ne(E._redirectPersistence)}function Ba(E){return je("pendingRedirect",E.config.apiKey,E.name)}function B(){return(B=(0,m.Z)(function*(E,h,p){const A=Rr(E);$t(E,h,ts);const X=Uo(A,p);return yield Fs(X,A),X._openRedirect(A,h,"signInViaRedirect")})).apply(this,arguments)}function we(){return(we=(0,m.Z)(function*(E,h,p){const A=(0,re.m9)(E);$t(A.auth,h,ts);const X=Uo(A.auth,p);yield Fs(X,A.auth);const ue=yield er(A);return X._openRedirect(A.auth,h,"reauthViaRedirect",ue)})).apply(this,arguments)}function Bt(){return(Bt=(0,m.Z)(function*(E,h,p){const A=(0,re.m9)(E);$t(A.auth,h,ts);const X=Uo(A.auth,p);yield wr(!1,A,h.providerId),yield Fs(X,A.auth);const ue=yield er(A);return X._openRedirect(A.auth,h,"linkViaRedirect",ue)})).apply(this,arguments)}function Jn(){return(Jn=(0,m.Z)(function*(E,h){return yield Rr(E)._initializationPromise,ir(E,h,!1)})).apply(this,arguments)}function ir(E,h){return vr.apply(this,arguments)}function vr(){return(vr=(0,m.Z)(function*(E,h,p=!1){const A=Rr(E),X=Uo(A,h),ze=yield new ms(A,X,p).execute();return ze&&!p&&(delete ze.user._redirectEventId,yield A._persistUserIfCurrent(ze.user),yield A._setRedirectUser(null,h)),ze})).apply(this,arguments)}function er(E){return ys.apply(this,arguments)}function ys(){return(ys=(0,m.Z)(function*(E){const h=Dt(`${E.uid}:::`);return E._redirectEventId=h,yield E.auth._setRedirectUser(E),yield E.auth._persistUserIfCurrent(E),h})).apply(this,arguments)}class Ya{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(A=>{this.isEventForConsumer(h,A)&&(p=!0,this.sendToConsumer(h,A),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function Xa(E){switch(E.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return us(E);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var A;if(h.error&&!us(h)){const X=(null===(A=h.error.code)||void 0===A?void 0:A.split("auth/")[1])||"internal-error";p.onError(bt(this.auth,X))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const A=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&A}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Qa(h))}saveEventToCache(h){this.cachedEventUids.add(Qa(h)),this.lastProcessedEventTime=Date.now()}}function Qa(E){return[E.type,E.eventId,E.sessionId,E.tenantId].filter(h=>h).join("-")}function us({type:E,error:h}){return"unknown"===E&&"auth/no-auth-event"===h?.code}function ni(E){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,m.Z)(function*(E,h={}){return Tr(E,"GET","/v1/projects",h)})).apply(this,arguments)}const el=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xo=/^https?/;function zl(){return(zl=(0,m.Z)(function*(E){if(E.config.emulator)return;const{authorizedDomains:h}=yield ni(E);for(const p of h)try{if(Ju(p))return}catch{}xe(E,"unauthorized-domain")})).apply(this,arguments)}function Ju(E){const h=Ut(),{protocol:p,hostname:A}=new URL(h);if(E.startsWith("chrome-extension://")){const ze=new URL(E);return""===ze.hostname&&""===A?"chrome-extension:"===p&&E.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&ze.hostname===A}if(!Xo.test(p))return!1;if(el.test(E))return A===E;const X=E.replace(/\./g,"\\.");return new RegExp("^(.+\\."+X+"|"+X+")$","i").test(A)}const ec=new Yn(3e4,6e4);function Jc(){const E=cr().___jsl;if(E?.H)for(const h of Object.keys(E.H))if(E.H[h].r=E.H[h].r||[],E.H[h].L=E.H[h].L||[],E.H[h].r=[...E.H[h].L],E.CP)for(let p=0;p<E.CP.length;p++)E.CP[p]=null}let Vs=null;function rp(E){return Vs=Vs||function wu(E){return new Promise((h,p)=>{var A,X,ue;function ze(){Jc(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{Jc(),p(bt(E,"network-request-failed"))},timeout:ec.get()})}if(null!==(X=null===(A=cr().gapi)||void 0===A?void 0:A.iframes)&&void 0!==X&&X.Iframe)h(gapi.iframes.getContext());else{if(null===(ue=cr().gapi)||void 0===ue||!ue.load){const _t=Aa("iframefcb");return cr()[_t]=()=>{gapi.load?ze():p(bt(E,"network-request-failed"))},sn(`https://apis.google.com/js/api.js?onload=${_t}`).catch(en=>p(en))}ze()}}).catch(h=>{throw Vs=null,h})}(E),Vs}const mh=new Yn(5e3,15e3),Mm={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},td=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ip(E){const h=E.config;Se(h.authDomain,E,"auth-domain-config-required");const p=h.emulator?Gn(h,"emulator/auth/iframe"):`https://${E.config.authDomain}/__/auth/iframe`,A={apiKey:h.apiKey,appName:E.name,v:Ve.SDK_VERSION},X=td.get(E.config.apiHost);X&&(A.eid=X);const ue=E._getFrameworks();return ue.length&&(A.fw=ue.join(",")),`${p}?${(0,re.xO)(A).slice(1)}`}function fa(){return fa=(0,m.Z)(function*(E){const h=yield rp(E),p=cr().gapi;return Se(p,E,"internal-error"),h.open({where:document.body,url:ip(E),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mm,dontclear:!0},A=>new Promise(function(){var X=(0,m.Z)(function*(ue,ze){yield A.restyle({setHideOnLeave:!1});const _t=bt(E,"network-request-failed"),en=cr().setTimeout(()=>{ze(_t)},mh.get());function On(){cr().clearTimeout(en),ue(A)}A.ping(On).then(On,()=>{ze(_t)})});return function(ue,ze){return X.apply(this,arguments)}}()))}),fa.apply(this,arguments)}const hl={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Wl{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ql(E,h,p,A,X,ue){Se(E.config.authDomain,E,"auth-domain-config-required"),Se(E.config.apiKey,E,"invalid-api-key");const ze={apiKey:E.config.apiKey,appName:E.name,authType:p,redirectUrl:A,v:Ve.SDK_VERSION,eventId:X};if(h instanceof ts){h.setDefaultLanguage(E.languageCode),ze.providerId=h.providerId||"",(0,re.xb)(h.getCustomParameters())||(ze.customParameters=JSON.stringify(h.getCustomParameters()));for(const[en,On]of Object.entries(ue||{}))ze[en]=On}if(h instanceof Ai){const en=h.getScopes().filter(On=>""!==On);en.length>0&&(ze.scopes=en.join(","))}E.tenantId&&(ze.tid=E.tenantId);const _t=ze;for(const en of Object.keys(_t))void 0===_t[en]&&delete _t[en];return`${function Kl({config:E}){return E.emulator?Gn(E,"emulator/auth/handler"):`https://${E.authDomain}/__/auth/handler`}(E)}?${(0,re.xO)(_t).slice(1)}`}const Mo="webStorageSupport";class ba extends class Eh{constructor(h){this.factorId=h}_process(h,p,A){switch(p.type){case"enroll":return this._finalizeEnroll(h,p.credential,A);case"signin":return this._finalizeSignIn(h,p.credential);default:return nt("unexpected MultiFactorSessionType")}}}{constructor(h){super("phone"),this.credential=h}static _fromCredential(h){return new ba(h)}_finalizeEnroll(h,p,A){return function v(E,h){return Tr(E,"POST","/v2/accounts/mfaEnrollment:finalize",Wn(E,h))}(h,{idToken:p,displayName:A,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(h,p){return function Ls(E,h){return Tr(E,"POST","/v2/accounts/mfaSignIn:finalize",Wn(E,h))}(h,{mfaPendingCredential:p,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Cl=(()=>{class E{constructor(){}static assertion(p){return ba._fromCredential(p)}}return E.FACTOR_ID="phone",E})();var rd="@firebase/auth",bh="0.20.11";class xm{constructor(h){this.auth=h,this.internalListeners=new Map}getUid(){var h;return this.assertAuthConfigured(),(null===(h=this.auth.currentUser)||void 0===h?void 0:h.uid)||null}getToken(h){var p=this;return(0,m.Z)(function*(){return p.assertAuthConfigured(),yield p.auth._initializationPromise,p.auth.currentUser?{accessToken:yield p.auth.currentUser.getIdToken(h)}:null})()}addAuthTokenListener(h){if(this.assertAuthConfigured(),this.internalListeners.has(h))return;const p=this.auth.onIdTokenChanged(A=>{var X;h((null===(X=A)||void 0===X?void 0:X.stsTokenManager.accessToken)||null)});this.internalListeners.set(h,p),this.updateProactiveRefresh()}removeAuthTokenListener(h){this.assertAuthConfigured();const p=this.internalListeners.get(h);!p||(this.internalListeners.delete(h),p(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Ia(){return window}function pa(){return(pa=(0,m.Z)(function*(E,h,p){var A;const{BuildInfo:X}=Ia();Ee(h.sessionId,"AuthEvent did not contain a session ID");const ue=yield od(h.sessionId),ze={};return pe()?ze.ibi=X.packageName:gr()?ze.apn=X.packageName:xe(E,"operation-not-supported-in-this-environment"),X.displayName&&(ze.appDisplayName=X.displayName),ze.sessionId=ue,ql(E,p,h.type,void 0,null!==(A=h.eventId)&&void 0!==A?A:void 0,ze)})).apply(this,arguments)}function nl(){return(nl=(0,m.Z)(function*(E){const{BuildInfo:h}=Ia(),p={};pe()?p.iosBundleId=h.packageName:gr()?p.androidPackageName=h.packageName:xe(E,"operation-not-supported-in-this-environment"),yield ni(E,p)})).apply(this,arguments)}function Yl(){return(Yl=(0,m.Z)(function*(E,h,p){const{cordova:A}=Ia();let X=()=>{};try{yield new Promise((ue,ze)=>{let _t=null;function en(){var tr;ue();const li=null===(tr=A.plugins.browsertab)||void 0===tr?void 0:tr.close;"function"==typeof li&&li(),"function"==typeof p?.close&&p.close()}function On(){_t||(_t=window.setTimeout(()=>{ze(bt(E,"redirect-cancelled-by-user"))},2e3))}function or(){"visible"===document?.visibilityState&&On()}h.addPassiveListener(en),document.addEventListener("resume",On,!1),gr()&&document.addEventListener("visibilitychange",or,!1),X=()=>{h.removePassiveListener(en),document.removeEventListener("resume",On,!1),document.removeEventListener("visibilitychange",or,!1),_t&&window.clearTimeout(_t)}})}finally{X()}})).apply(this,arguments)}function od(E){return Ni.apply(this,arguments)}function Ni(){return(Ni=(0,m.Z)(function*(E){const h=ad(E),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(X=>X.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function ad(E){if(Ee(/[0-9a-zA-Z]+/.test(E),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(E);const h=new ArrayBuffer(E.length),p=new Uint8Array(h);for(let A=0;A<E.length;A++)p[A]=E.charCodeAt(A);return p}(0,re.Pz)("authIdTokenMaxAge"),function op(E){(0,Ve._registerComponent)(new We.wA("auth",(h,{options:p})=>{const A=h.getProvider("app").getImmediate(),X=h.getProvider("heartbeat"),{apiKey:ue,authDomain:ze}=A.options;return((_t,en)=>{Se(ue&&!ue.includes(":"),"invalid-api-key",{appName:_t.name}),Se(!ze?.includes(":"),"argument-error",{appName:_t.name});const On={apiKey:ue,authDomain:ze,clientPlatform:E,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ur(E)},or=new Jt(_t,en,On);return function Ft(E,h){const p=h?.persistence||[],A=(Array.isArray(p)?p:[p]).map(Ne);h?.errorMap&&E._updateErrorMap(h.errorMap),E._initializeWithPersistence(A,h?.popupRedirectResolver)}(or,p),or})(A,X)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((h,p,A)=>{h.getProvider("auth-internal").initialize()})),(0,Ve._registerComponent)(new We.wA("auth-internal",h=>{const p=Rr(h.getProvider("auth").getImmediate());return new xm(p)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Ve.registerVersion)(rd,bh,function sp(E){switch(E){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(E)),(0,Ve.registerVersion)(rd,bh,"esm2017")}("Browser");class ud extends Ya{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,m.Z)(function*(){yield h.initPromise})()}}function Ch(E){return ic.apply(this,arguments)}function ic(){return(ic=(0,m.Z)(function*(E){const h=yield sc()._get(Ql(E));return h&&(yield sc()._remove(Ql(E))),h})).apply(this,arguments)}function Ca(){const E=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const A=Math.floor(Math.random()*h.length);E.push(h.charAt(A))}return E.join("")}function sc(){return Ne(Mn)}function Ql(E){return je("authEvent",E.config.apiKey,E.name)}function Xl(E){if(!E?.includes("?"))return{};const[h,...p]=E.split("?");return(0,re.zd)(p.join("?"))}function cd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bt("no-auth-event")}}function Su(){var E;return(null===(E=self?.location)||void 0===E?void 0:E.protocol)||null}function Dl(E=(0,re.z$)()){return!("file:"!==Su()&&"ionic:"!==Su()&&"capacitor:"!==Su()||!E.toLowerCase().match(/iphone|ipad|ipod|android/))}function Sh(){try{const E=self.localStorage,h=Dt();if(E)return E.setItem(h,"1"),E.removeItem(h),!function Th(E=(0,re.z$)()){return function dd(){return(0,re.w1)()&&11===document?.documentMode}()||function Jl(E=(0,re.z$)()){return/Edge\/\d+/.test(E)}(E)}()||(0,re.hl)()}catch{return Dr()&&(0,re.hl)()}return!1}function Dr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function ac(){return(function oc(){return"http:"===Su()||"https:"===Su()}()||(0,re.ru)()||Dl())&&!function wa(){return(0,re.b$)()||(0,re.UG)()}()&&Sh()&&!Dr()}function Tl(){return Dl()&&typeof document<"u"}function Sl(){return(Sl=(0,m.Z)(function*(){return!!Tl()&&new Promise(E=>{const h=setTimeout(()=>{E(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),E(!0)})})})).apply(this,arguments)}const Jo={LOCAL:"local",NONE:"none",SESSION:"session"},Al=Se,rl="persistence";function tu(E){return Ml.apply(this,arguments)}function Ml(){return(Ml=(0,m.Z)(function*(E){yield E._initializationPromise;const h=uc(),p=je(rl,E.config.apiKey,E.name);h&&h.setItem(p,E._getPersistence())})).apply(this,arguments)}function uc(){var E;try{return(null===(E=function eu(){return typeof window<"u"?window:null}())||void 0===E?void 0:E.sessionStorage)||null}catch{return null}}const cc=Se;class vo{constructor(){this.browserResolver=Ne(class rc{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wn,this._completeRedirectFn=ir,this._overrideRedirectResult=Ao}_openPopup(h,p,A,X){var ue=this;return(0,m.Z)(function*(){var ze;Ee(null===(ze=ue.eventManagers[h._key()])||void 0===ze?void 0:ze.manager,"_initialize() not called before _openPopup()");const _t=ql(h,p,A,Ut(),X);return function pl(E,h,p,A=500,X=600){const ue=Math.max((window.screen.availHeight-X)/2,0).toString(),ze=Math.max((window.screen.availWidth-A)/2,0).toString();let _t="";const en=Object.assign(Object.assign({},hl),{width:A.toString(),height:X.toString(),top:ue,left:ze}),On=(0,re.z$)().toLowerCase();p&&(_t=lr(On)?"_blank":p),Yt(On)&&(h=h||"http://localhost",en.scrollbars="yes");const or=Object.entries(en).reduce((li,[ma,mc])=>`${li}${ma}=${mc},`,"");if(function St(E=(0,re.z$)()){var h;return pe(E)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(On)&&"_self"!==_t)return function nd(E,h){const p=document.createElement("a");p.href=E,p.target=h;const A=document.createEvent("MouseEvent");A.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(A)}(h||"",_t),new Wl(null);const tr=window.open(h||"",_t,or);Se(tr,E,"popup-blocked");try{tr.focus()}catch{}return new Wl(tr)}(h,_t,Dt())})()}_openRedirect(h,p,A,X){var ue=this;return(0,m.Z)(function*(){return yield ue._originValidation(h),function Fr(E){cr().location.href=E}(ql(h,p,A,Ut(),X)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:X,promise:ue}=this.eventManagers[p];return X?Promise.resolve(X):(Ee(ue,"If manager is not set, promise should be"),ue)}const A=this.initAndGetManager(h);return this.eventManagers[p]={promise:A},A.catch(()=>{delete this.eventManagers[p]}),A}initAndGetManager(h){var p=this;return(0,m.Z)(function*(){const A=yield function yh(E){return fa.apply(this,arguments)}(h),X=new Ya(h);return A.register("authEvent",ue=>(Se(ue?.authEvent,h,"invalid-auth-event"),{status:X.onEvent(ue.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:X},p.iframes[h._key()]=A,X})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Mo,{type:Mo},X=>{var ue;const ze=null===(ue=X?.[0])||void 0===ue?void 0:ue[Mo];void 0!==ze&&p(!!ze),xe(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Xu(E){return zl.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return Cn()||An()||pe()}}),this.cordovaResolver=Ne(class Ns{constructor(){this._redirectPersistence=wn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ir,this._overrideRedirectResult=Ao}_initialize(h){var p=this;return(0,m.Z)(function*(){const A=h._key();let X=p.eventManagers.get(A);return X||(X=new ud(h),p.eventManagers.set(A,X),p.attachCallbackListeners(h,X)),X})()}_openPopup(h){xe(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,A,X){var ue=this;return(0,m.Z)(function*(){!function Pm(E){var h,p,A,X,ue,ze,_t,en,On,or;const tr=Ia();Se("function"==typeof(null===(h=tr?.universalLinks)||void 0===h?void 0:h.subscribe),E,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Se(typeof(null===(p=tr?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Se("function"==typeof(null===(ue=null===(X=null===(A=tr?.cordova)||void 0===A?void 0:A.plugins)||void 0===X?void 0:X.browsertab)||void 0===ue?void 0:ue.openUrl),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(en=null===(_t=null===(ze=tr?.cordova)||void 0===ze?void 0:ze.plugins)||void 0===_t?void 0:_t.browsertab)||void 0===en?void 0:en.isAvailable),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Se("function"==typeof(null===(or=null===(On=tr?.cordova)||void 0===On?void 0:On.InAppBrowser)||void 0===or?void 0:or.open),E,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const ze=yield ue._initialize(h);yield ze.initialized(),ze.resetRedirect(),function $a(){xr.clear()}(),yield ue._originValidation(h);const _t=function dp(E,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:Ca(),postBody:null,tenantId:E.tenantId,error:bt(E,"no-auth-event")}}(h,A,X);yield function Tu(E,h){return sc()._set(Ql(E),h)}(h,_t);const en=yield function Ua(E,h,p){return pa.apply(this,arguments)}(h,_t,p),On=yield function sd(E){const{cordova:h}=Ia();return new Promise(p=>{h.plugins.browsertab.isAvailable(A=>{let X=null;A?h.plugins.browsertab.openUrl(E):X=h.InAppBrowser.open(E,function et(E=(0,re.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(E)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(E)}()?"_blank":"_system","location=yes"),p(X)})})}(en);return function cp(E,h,p){return Yl.apply(this,arguments)}(h,ze,On)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function id(E){return nl.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:A,handleOpenURL:X,BuildInfo:ue}=Ia(),ze=setTimeout((0,m.Z)(function*(){yield Ch(h),p.onEvent(cd())}),500),_t=function(){var or=(0,m.Z)(function*(tr){clearTimeout(ze);const li=yield Ch(h);let ma=null;li&&tr?.url&&(ma=function wl(E,h){var p,A;const X=function cs(E){const h=Xl(E),p=h.link?decodeURIComponent(h.link):void 0,A=Xl(p).link,X=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Xl(X).link||X||A||p||E}(h);if(X.includes("/__/auth/callback")){const ue=Xl(X),ze=ue.firebaseError?function wh(E){try{return JSON.parse(E)}catch{return null}}(decodeURIComponent(ue.firebaseError)):null,_t=null===(A=null===(p=ze?.code)||void 0===p?void 0:p.split("auth/"))||void 0===A?void 0:A[1],en=_t?bt(_t):null;return en?{type:E.type,eventId:E.eventId,tenantId:E.tenantId,error:en,urlResponse:null,sessionId:null,postBody:null}:{type:E.type,eventId:E.eventId,tenantId:E.tenantId,sessionId:E.sessionId,urlResponse:X,postBody:null}}return null}(li,tr.url)),p.onEvent(ma||cd())});return function(li){return or.apply(this,arguments)}}();typeof A<"u"&&"function"==typeof A.subscribe&&A.subscribe(null,_t);const en=X,On=`${ue.packageName.toLowerCase()}://`;Ia().handleOpenURL=function(){var or=(0,m.Z)(function*(tr){if(tr.toLowerCase().startsWith(On)&&_t({url:tr}),"function"==typeof en)try{en(tr)}catch(li){console.error(li)}});return function(tr){return or.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=wn,this._completeRedirectFn=ir,this._overrideRedirectResult=Ao}_initialize(h){var p=this;return(0,m.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,A,X){var ue=this;return(0,m.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openPopup(h,p,A,X)})()}_openRedirect(h,p,A,X){var ue=this;return(0,m.Z)(function*(){return yield ue.selectUnderlyingResolver(),ue.assertedUnderlyingResolver._openRedirect(h,p,A,X)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Tl()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return cc(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,m.Z)(function*(){if(h.underlyingResolver)return;const p=yield function lc(){return Sl.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function dc(E){return E.unwrap()}function _o(E){return hc(E)}function hc(E){const{_tokenResponse:h}=E instanceof re.ZR?E.customData:E;if(!h)return null;if(!(E instanceof re.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Za.credentialFromResult(E);const p=h.providerId;if(!p||"password"===p)return null;let A;switch(p){case"google.com":A=ns;break;case"facebook.com":A=Io;break;case"github.com":A=Bs;break;case"twitter.com":A=rs;break;default:const{oauthIdToken:X,oauthAccessToken:ue,oauthTokenSecret:ze,pendingToken:_t,nonce:en}=h;return ue||ze||X||_t?_t?p.startsWith("saml.")?Li._create(p,_t):Ti._fromParams({providerId:p,signInMethod:p,pendingToken:_t,idToken:X,accessToken:ue}):new Is(p).credential({idToken:X,accessToken:ue,rawNonce:en}):null}return E instanceof re.ZR?A.credentialFromError(E):A.credentialFromResult(E)}function Ds(E,h){return h.catch(p=>{throw p instanceof re.ZR&&function fd(E,h){var p,A;const X=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===(null===(A=h)||void 0===A?void 0:A.code))h.resolver=new Ah(E,function Ze(E,h){var p;const A=(0,re.m9)(E),X=h;return Se(h.customData.operationType,A,"argument-error"),Se(null===(p=X.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,A,"argument-error"),st._fromError(A,X)}(E,h));else if(X){const ue=hc(h),ze=h;ue&&(ze.credential=ue,ze.tenantId=X.tenantId||void 0,ze.email=X.email||void 0,ze.phoneNumber=X.phoneNumber||void 0)}}(E,p),p}).then(p=>{const X=p.user;return{operationType:p.operationType,credential:_o(p),additionalUserInfo:he(p),user:ga.getOrCreate(X)}})}function Da(E,h){return Au.apply(this,arguments)}function Au(){return(Au=(0,m.Z)(function*(E,h){const p=yield h;return{verificationId:p.verificationId,confirm:A=>Ds(E,p.confirm(A))}})).apply(this,arguments)}class Ah{constructor(h,p){this.resolver=p,this.auth=function hd(E){return E.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return Ds(dc(this.auth),this.resolver.resolveSignIn(h))}}class ga{constructor(h){this._delegate=h,this.multiFactor=function te(E){const h=(0,re.m9)(E);return Q.has(h)||Q.set(h,R._fromUser(h)),Q.get(h)}(h)}static getOrCreate(h){return ga.USER_MAP.has(h)||ga.USER_MAP.set(h,new ga(h)),ga.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,m.Z)(function*(){return Ds(p.auth,Co(p._delegate,h))})()}linkWithPhoneNumber(h,p){var A=this;return(0,m.Z)(function*(){return Da(A.auth,function ws(E,h,p){return Bo.apply(this,arguments)}(A._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,m.Z)(function*(){return Ds(p.auth,function yt(E,h,p){return jt.apply(this,arguments)}(p._delegate,h,vo))})()}linkWithRedirect(h){var p=this;return(0,m.Z)(function*(){return yield tu(Rr(p.auth)),function Qe(E,h,p){return function gt(E,h,p){return Bt.apply(this,arguments)}(E,h,p)}(p._delegate,h,vo)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,m.Z)(function*(){return Ds(p.auth,co(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return Da(this.auth,function Ea(E,h,p){return Ra.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return Ds(this.auth,function me(E,h,p){return Pe.apply(this,arguments)}(this._delegate,h,vo))}reauthenticateWithRedirect(h){var p=this;return(0,m.Z)(function*(){return yield tu(Rr(p.auth)),function Z(E,h,p){return function se(E,h,p){return we.apply(this,arguments)}(E,h,p)}(p._delegate,h,vo)})()}sendEmailVerification(h){return function ua(E,h){return po.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,m.Z)(function*(){return yield function rr(E,h){return xi.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function g(E,h){return _((0,re.m9)(E),h,null)}(this._delegate,h)}updatePassword(h){return function S(E,h){return _((0,re.m9)(E),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Qu(E,h){return qs.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function O(E,h){return z.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function ca(E,h,p){return u.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ga.USER_MAP=new WeakMap;const ml=Se;let pd=(()=>{class E{constructor(p,A){if(this.app=p,A.isInitialized())return this._delegate=A.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:X}=p.options;ml(X,"invalid-api-key",{appName:p.name}),ml(X,"invalid-api-key",{appName:p.name});const ue=typeof window<"u"?vo:void 0;this._delegate=A.initialize({options:{persistence:mp(X,p.name),popupRedirectResolver:ue}}),this._delegate._updateErrorMap(ft),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?ga.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(p){this._delegate.languageCode=p}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(p){this._delegate.tenantId=p}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(p,A){!function Ts(E,h,p){const A=Rr(E);Se(A._canInitEmulator,A,"emulator-config-failed"),Se(/^https?:\/\//.test(h),A,"invalid-emulator-scheme");const X=!!p?.disableWarnings,ue=Ss(h),{host:ze,port:_t}=function jr(E){const h=Ss(E),p=/(\/\/)?([^?#/]+)/.exec(E.substr(h.length));if(!p)return{host:"",port:null};const A=p[2].split("@").pop()||"",X=/^(\[[^\]]+\])(:|$)/.exec(A);if(X){const ue=X[1];return{host:ue,port:ji(A.substr(ue.length+1))}}{const[ue,ze]=A.split(":");return{host:ue,port:ji(ze)}}}(h);A.config.emulator={url:`${ue}//${ze}${null===_t?"":`:${_t}`}/`},A.settings.appVerificationDisabledForTesting=!0,A.emulatorConfig=Object.freeze({host:ze,port:_t,protocol:ue.replace(":",""),options:Object.freeze({disableWarnings:X})}),X||function As(){function E(){const h=document.createElement("p"),p=h.style;h.innerText="Running in emulator mode. Do not use with production credentials.",p.position="fixed",p.width="100%",p.backgroundColor="#ffffff",p.border=".1em solid #000000",p.color="#b50000",p.bottom="0px",p.left="0px",p.margin="0px",p.zIndex="10000",p.textAlign="center",h.classList.add("firebase-emulator-warning"),document.body.appendChild(h)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",E):E())}()}(this._delegate,p,A)}applyActionCode(p){return function gs(E,h){return $o.apply(this,arguments)}(this._delegate,p)}checkActionCode(p){return Ps(this._delegate,p)}confirmPasswordReset(p,A){return function Yi(E,h,p){return os.apply(this,arguments)}(this._delegate,p,A)}createUserWithEmailAndPassword(p,A){var X=this;return(0,m.Z)(function*(){return Ds(X._delegate,function j(E,h,p){return k.apply(this,arguments)}(X._delegate,p,A))})()}fetchProvidersForEmail(p){return this.fetchSignInMethodsForEmail(p)}fetchSignInMethodsForEmail(p){return function fo(E,h){return to.apply(this,arguments)}(this._delegate,p)}isSignInWithEmailLink(p){return function Ln(E,h){return"EMAIL_SIGNIN"===es.parseLink(h)?.operation}(0,p)}getRedirectResult(){var p=this;return(0,m.Z)(function*(){ml(ac(),p._delegate,"operation-not-supported-in-this-environment");const A=yield function hn(E,h){return Jn.apply(this,arguments)}(p._delegate,vo);return A?Ds(p._delegate,Promise.resolve(A)):{credential:null,user:null}})()}addFrameworkForLogging(p){!function Dh(E,h){Rr(E)._logFramework(h)}(this._delegate,p)}onAuthStateChanged(p,A,X){const{next:ue,error:ze,complete:_t}=fc(p,A,X);return this._delegate.onAuthStateChanged(ue,ze,_t)}onIdTokenChanged(p,A,X){const{next:ue,error:ze,complete:_t}=fc(p,A,X);return this._delegate.onIdTokenChanged(ue,ze,_t)}sendSignInLinkToEmail(p,A){return function ct(E,h,p){return un.apply(this,arguments)}(this._delegate,p,A)}sendPasswordResetEmail(p,A){return function xs(E,h,p){return ti.apply(this,arguments)}(this._delegate,p,A||void 0)}setPersistence(p){var A=this;return(0,m.Z)(function*(){let X;switch(function pp(E,h){Al(Object.values(Jo).includes(h),E,"invalid-persistence-type"),(0,re.b$)()?Al(h!==Jo.SESSION,E,"unsupported-persistence-type"):(0,re.UG)()?Al(h===Jo.NONE,E,"unsupported-persistence-type"):Dr()?Al(h===Jo.NONE||h===Jo.LOCAL&&(0,re.hl)(),E,"unsupported-persistence-type"):Al(h===Jo.NONE||Sh(),E,"unsupported-persistence-type")}(A._delegate,p),p){case Jo.SESSION:X=wn;break;case Jo.LOCAL:X=(yield Ne(Jr)._isAvailable())?Jr:Mn;break;case Jo.NONE:X=De;break;default:return xe("argument-error",{appName:A._delegate.name})}return A._delegate.setPersistence(X)})()}signInAndRetrieveDataWithCredential(p){return this.signInWithCredential(p)}signInAnonymously(){return Ds(this._delegate,function Us(E){return Lr.apply(this,arguments)}(this._delegate))}signInWithCredential(p){return Ds(this._delegate,Zr(this._delegate,p))}signInWithCustomToken(p){return Ds(this._delegate,function yi(E,h){return Vo.apply(this,arguments)}(this._delegate,p))}signInWithEmailAndPassword(p,A){return Ds(this._delegate,function ae(E,h,p){return Zr((0,re.m9)(E),Si.credential(h,p))}(this._delegate,p,A))}signInWithEmailLink(p,A){return Ds(this._delegate,function as(E,h,p){return Vi.apply(this,arguments)}(this._delegate,p,A))}signInWithPhoneNumber(p,A){return Da(this._delegate,function Yu(E,h,p){return Qo.apply(this,arguments)}(this._delegate,p,A))}signInWithPopup(p){var A=this;return(0,m.Z)(function*(){return ml(ac(),A._delegate,"operation-not-supported-in-this-environment"),Ds(A._delegate,function G(E,h,p){return oe.apply(this,arguments)}(A._delegate,p,vo))})()}signInWithRedirect(p){var A=this;return(0,m.Z)(function*(){return ml(ac(),A._delegate,"operation-not-supported-in-this-environment"),yield tu(A._delegate),function vi(E,h,p){return function Il(E,h,p){return B.apply(this,arguments)}(E,h,p)}(A._delegate,p,vo)})()}updateCurrentUser(p){return this._delegate.updateCurrentUser(p)}verifyPasswordResetCode(p){return function ho(E,h){return K.apply(this,arguments)}(this._delegate,p)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return E.Persistence=Jo,E})();function fc(E,h,p){let A=E;"function"!=typeof E&&({next:A,error:h,complete:p}=E);const X=A;return{next:ze=>X(ze&&ga.getOrCreate(ze)),error:h,complete:p}}function mp(E,h){const p=function gp(E,h){const p=uc();if(!p)return[];const A=je(rl,E,h);switch(p.getItem(A)){case Jo.NONE:return[De];case Jo.LOCAL:return[Jr,wn];case Jo.SESSION:return[wn];default:return[]}}(E,h);if(typeof self<"u"&&!p.includes(Jr)&&p.push(Jr),typeof window<"u")for(const A of[Mn,wn])p.includes(A)||p.push(A);return p.includes(De)||p.push(De),p}class pc{constructor(){this.providerId="phone",this._delegate=new Za(dc(ie.Z.auth()))}static credential(h,p){return Za.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}pc.PHONE_SIGN_IN_METHOD=Za.PHONE_SIGN_IN_METHOD,pc.PROVIDER_ID=Za.PROVIDER_ID;const gc=Se;class gd{constructor(h,p,A=ie.Z.app()){var X;gc(null===(X=A.options)||void 0===X?void 0:X.apiKey,"invalid-api-key",{appName:A.name}),this._delegate=new rt(h,p,A.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Mh(E){E.INTERNAL.registerComponent(new We.wA("auth-compat",h=>{const p=h.getProvider("app-compat").getImmediate(),A=h.getProvider("auth");return new pd(p,A)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:Si,FacebookAuthProvider:Io,GithubAuthProvider:Bs,GoogleAuthProvider:ns,OAuthProvider:Is,SAMLAuthProvider:hi,PhoneAuthProvider:pc,PhoneMultiFactorGenerator:Cl,RecaptchaVerifier:gd,TwitterAuthProvider:rs,Auth:pd,AuthCredential:nr,Error:re.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),E.registerVersion("@firebase/auth-compat","0.2.24")}(ie.Z)},9751:(an,at,ee)=>{ee.d(at,{y:()=>He});var m=ee(930),ie=ee(727),re=ee(8822),Ve=ee(9635),Re=ee(2416),Le=ee(576),We=ee(2806);let He=(()=>{class $e{constructor(tt){tt&&(this._subscribe=tt)}lift(tt){const ft=new $e;return ft.source=this,ft.operator=tt,ft}subscribe(tt,ft,rn){const pt=function ve($e){return $e&&$e instanceof m.Lv||function fe($e){return $e&&(0,Le.m)($e.next)&&(0,Le.m)($e.error)&&(0,Le.m)($e.complete)}($e)&&(0,ie.Nn)($e)}(tt)?tt:new m.Hp(tt,ft,rn);return(0,We.x)(()=>{const{operator:ut,source:gn}=this;pt.add(ut?ut.call(pt,gn):gn?this._subscribe(pt):this._trySubscribe(pt))}),pt}_trySubscribe(tt){try{return this._subscribe(tt)}catch(ft){tt.error(ft)}}forEach(tt,ft){return new(ft=qe(ft))((rn,pt)=>{const ut=new m.Hp({next:gn=>{try{tt(gn)}catch(_n){pt(_n),ut.unsubscribe()}},error:pt,complete:rn});this.subscribe(ut)})}_subscribe(tt){var ft;return null===(ft=this.source)||void 0===ft?void 0:ft.subscribe(tt)}[re.L](){return this}pipe(...tt){return(0,Ve.U)(tt)(this)}toPromise(tt){return new(tt=qe(tt))((ft,rn)=>{let pt;this.subscribe(ut=>pt=ut,ut=>rn(ut),()=>ft(pt))})}}return $e.create=Pt=>new $e(Pt),$e})();function qe($e){var Pt;return null!==(Pt=$e??Re.v.Promise)&&void 0!==Pt?Pt:Promise}},4707:(an,at,ee)=>{ee.d(at,{t:()=>re});var m=ee(7579),ie=ee(6063);class re extends m.x{constructor(Re=1/0,Le=1/0,We=ie.l){super(),this._bufferSize=Re,this._windowTime=Le,this._timestampProvider=We,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=Le===1/0,this._bufferSize=Math.max(1,Re),this._windowTime=Math.max(1,Le)}next(Re){const{isStopped:Le,_buffer:We,_infiniteTimeWindow:He,_timestampProvider:qe,_windowTime:fe}=this;Le||(We.push(Re),!He&&We.push(qe.now()+fe)),this._trimBuffer(),super.next(Re)}_subscribe(Re){this._throwIfClosed(),this._trimBuffer();const Le=this._innerSubscribe(Re),{_infiniteTimeWindow:We,_buffer:He}=this,qe=He.slice();for(let fe=0;fe<qe.length&&!Re.closed;fe+=We?1:2)Re.next(qe[fe]);return this._checkFinalizedStatuses(Re),Le}_trimBuffer(){const{_bufferSize:Re,_timestampProvider:Le,_buffer:We,_infiniteTimeWindow:He}=this,qe=(He?1:2)*Re;if(Re<1/0&&qe<We.length&&We.splice(0,We.length-qe),!He){const fe=Le.now();let ve=0;for(let $e=1;$e<We.length&&We[$e]<=fe;$e+=2)ve=$e;ve&&We.splice(0,ve+1)}}}},7579:(an,at,ee)=>{ee.d(at,{x:()=>We});var m=ee(9751),ie=ee(727);const Ve=(0,ee(3888).d)(qe=>function(){qe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Re=ee(8737),Le=ee(2806);let We=(()=>{class qe extends m.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ve){const $e=new He(this,this);return $e.operator=ve,$e}_throwIfClosed(){if(this.closed)throw new Ve}next(ve){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const $e of this.currentObservers)$e.next(ve)}})}error(ve){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ve;const{observers:$e}=this;for(;$e.length;)$e.shift().error(ve)}})}complete(){(0,Le.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ve}=this;for(;ve.length;)ve.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ve;return(null===(ve=this.observers)||void 0===ve?void 0:ve.length)>0}_trySubscribe(ve){return this._throwIfClosed(),super._trySubscribe(ve)}_subscribe(ve){return this._throwIfClosed(),this._checkFinalizedStatuses(ve),this._innerSubscribe(ve)}_innerSubscribe(ve){const{hasError:$e,isStopped:Pt,observers:tt}=this;return $e||Pt?ie.Lc:(this.currentObservers=null,tt.push(ve),new ie.w0(()=>{this.currentObservers=null,(0,Re.P)(tt,ve)}))}_checkFinalizedStatuses(ve){const{hasError:$e,thrownError:Pt,isStopped:tt}=this;$e?ve.error(Pt):tt&&ve.complete()}asObservable(){const ve=new m.y;return ve.source=this,ve}}return qe.create=(fe,ve)=>new He(fe,ve),qe})();class He extends We{constructor(fe,ve){super(),this.destination=fe,this.source=ve}next(fe){var ve,$e;null===($e=null===(ve=this.destination)||void 0===ve?void 0:ve.next)||void 0===$e||$e.call(ve,fe)}error(fe){var ve,$e;null===($e=null===(ve=this.destination)||void 0===ve?void 0:ve.error)||void 0===$e||$e.call(ve,fe)}complete(){var fe,ve;null===(ve=null===(fe=this.destination)||void 0===fe?void 0:fe.complete)||void 0===ve||ve.call(fe)}_subscribe(fe){var ve,$e;return null!==($e=null===(ve=this.source)||void 0===ve?void 0:ve.subscribe(fe))&&void 0!==$e?$e:ie.Lc}}},930:(an,at,ee)=>{ee.d(at,{Hp:()=>rn,Lv:()=>$e});var m=ee(576),ie=ee(727),re=ee(2416),Ve=ee(7849),Re=ee(5032);const Le=qe("C",void 0,void 0);function qe(xe,bt,vt){return{kind:xe,value:bt,error:vt}}var fe=ee(3410),ve=ee(2806);class $e extends ie.w0{constructor(bt){super(),this.isStopped=!1,bt?(this.destination=bt,(0,ie.Nn)(bt)&&bt.add(this)):this.destination=_n}static create(bt,vt,$t){return new rn(bt,vt,$t)}next(bt){this.isStopped?gn(function He(xe){return qe("N",xe,void 0)}(bt),this):this._next(bt)}error(bt){this.isStopped?gn(function We(xe){return qe("E",void 0,xe)}(bt),this):(this.isStopped=!0,this._error(bt))}complete(){this.isStopped?gn(Le,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(bt){this.destination.next(bt)}_error(bt){try{this.destination.error(bt)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Pt=Function.prototype.bind;function tt(xe,bt){return Pt.call(xe,bt)}class ft{constructor(bt){this.partialObserver=bt}next(bt){const{partialObserver:vt}=this;if(vt.next)try{vt.next(bt)}catch($t){pt($t)}}error(bt){const{partialObserver:vt}=this;if(vt.error)try{vt.error(bt)}catch($t){pt($t)}else pt(bt)}complete(){const{partialObserver:bt}=this;if(bt.complete)try{bt.complete()}catch(vt){pt(vt)}}}class rn extends $e{constructor(bt,vt,$t){let Et;if(super(),(0,m.m)(bt)||!bt)Et={next:bt??void 0,error:vt??void 0,complete:$t??void 0};else{let Se;this&&re.v.useDeprecatedNextContext?(Se=Object.create(bt),Se.unsubscribe=()=>this.unsubscribe(),Et={next:bt.next&&tt(bt.next,Se),error:bt.error&&tt(bt.error,Se),complete:bt.complete&&tt(bt.complete,Se)}):Et=bt}this.destination=new ft(Et)}}function pt(xe){re.v.useDeprecatedSynchronousErrorHandling?(0,ve.O)(xe):(0,Ve.h)(xe)}function gn(xe,bt){const{onStoppedNotification:vt}=re.v;vt&&fe.z.setTimeout(()=>vt(xe,bt))}const _n={closed:!0,next:Re.Z,error:function ut(xe){throw xe},complete:Re.Z}},727:(an,at,ee)=>{ee.d(at,{Lc:()=>Le,w0:()=>Re,Nn:()=>We});var m=ee(576);const re=(0,ee(3888).d)(qe=>function(ve){qe(this),this.message=ve?`${ve.length} errors occurred during unsubscription:\n${ve.map(($e,Pt)=>`${Pt+1}) ${$e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ve});var Ve=ee(8737);class Re{constructor(fe){this.initialTeardown=fe,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let fe;if(!this.closed){this.closed=!0;const{_parentage:ve}=this;if(ve)if(this._parentage=null,Array.isArray(ve))for(const tt of ve)tt.remove(this);else ve.remove(this);const{initialTeardown:$e}=this;if((0,m.m)($e))try{$e()}catch(tt){fe=tt instanceof re?tt.errors:[tt]}const{_finalizers:Pt}=this;if(Pt){this._finalizers=null;for(const tt of Pt)try{He(tt)}catch(ft){fe=fe??[],ft instanceof re?fe=[...fe,...ft.errors]:fe.push(ft)}}if(fe)throw new re(fe)}}add(fe){var ve;if(fe&&fe!==this)if(this.closed)He(fe);else{if(fe instanceof Re){if(fe.closed||fe._hasParent(this))return;fe._addParent(this)}(this._finalizers=null!==(ve=this._finalizers)&&void 0!==ve?ve:[]).push(fe)}}_hasParent(fe){const{_parentage:ve}=this;return ve===fe||Array.isArray(ve)&&ve.includes(fe)}_addParent(fe){const{_parentage:ve}=this;this._parentage=Array.isArray(ve)?(ve.push(fe),ve):ve?[ve,fe]:fe}_removeParent(fe){const{_parentage:ve}=this;ve===fe?this._parentage=null:Array.isArray(ve)&&(0,Ve.P)(ve,fe)}remove(fe){const{_finalizers:ve}=this;ve&&(0,Ve.P)(ve,fe),fe instanceof Re&&fe._removeParent(this)}}Re.EMPTY=(()=>{const qe=new Re;return qe.closed=!0,qe})();const Le=Re.EMPTY;function We(qe){return qe instanceof Re||qe&&"closed"in qe&&(0,m.m)(qe.remove)&&(0,m.m)(qe.add)&&(0,m.m)(qe.unsubscribe)}function He(qe){(0,m.m)(qe)?qe():qe.unsubscribe()}},2416:(an,at,ee)=>{ee.d(at,{v:()=>m});const m={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(an,at,ee)=>{ee.d(at,{z:()=>Re});var m=ee(8189),re=ee(3269),Ve=ee(8996);function Re(...Le){return function ie(){return(0,m.J)(1)}()((0,Ve.D)(Le,(0,re.yG)(Le)))}},515:(an,at,ee)=>{ee.d(at,{E:()=>ie,c:()=>re});var m=ee(9751);const ie=new m.y(Re=>Re.complete());function re(Re){return Re?function Ve(Re){return new m.y(Le=>Re.schedule(()=>Le.complete()))}(Re):ie}},8996:(an,at,ee)=>{ee.d(at,{D:()=>bt});var m=ee(8421),ie=ee(5363),re=ee(9468),Le=ee(9751),He=ee(2202),qe=ee(576),fe=ee(9672);function $e(vt,$t){if(!vt)throw new Error("Iterable cannot be null");return new Le.y(Et=>{(0,fe.f)(Et,$t,()=>{const Se=vt[Symbol.asyncIterator]();(0,fe.f)(Et,$t,()=>{Se.next().then(nt=>{nt.done?Et.complete():Et.next(nt.value)})},0,!0)})})}var Pt=ee(3670),tt=ee(8239),ft=ee(1144),rn=ee(6495),pt=ee(2206),ut=ee(4532),gn=ee(3260);function bt(vt,$t){return $t?function xe(vt,$t){if(null!=vt){if((0,Pt.c)(vt))return function Ve(vt,$t){return(0,m.Xf)(vt).pipe((0,re.R)($t),(0,ie.Q)($t))}(vt,$t);if((0,ft.z)(vt))return function We(vt,$t){return new Le.y(Et=>{let Se=0;return $t.schedule(function(){Se===vt.length?Et.complete():(Et.next(vt[Se++]),Et.closed||this.schedule())})})}(vt,$t);if((0,tt.t)(vt))return function Re(vt,$t){return(0,m.Xf)(vt).pipe((0,re.R)($t),(0,ie.Q)($t))}(vt,$t);if((0,pt.D)(vt))return $e(vt,$t);if((0,rn.T)(vt))return function ve(vt,$t){return new Le.y(Et=>{let Se;return(0,fe.f)(Et,$t,()=>{Se=vt[He.h](),(0,fe.f)(Et,$t,()=>{let nt,Ee;try{({value:nt,done:Ee}=Se.next())}catch(Ke){return void Et.error(Ke)}Ee?Et.complete():Et.next(nt)},0,!0)}),()=>(0,qe.m)(Se?.return)&&Se.return()})}(vt,$t);if((0,gn.L)(vt))return function _n(vt,$t){return $e((0,gn.Q)(vt),$t)}(vt,$t)}throw(0,ut.z)(vt)}(vt,$t):(0,m.Xf)(vt)}},8421:(an,at,ee)=>{ee.d(at,{Xf:()=>Pt});var m=ee(655),ie=ee(1144),re=ee(8239),Ve=ee(9751),Re=ee(3670),Le=ee(2206),We=ee(4532),He=ee(6495),qe=ee(3260),fe=ee(576),ve=ee(7849),$e=ee(8822);function Pt(xe){if(xe instanceof Ve.y)return xe;if(null!=xe){if((0,Re.c)(xe))return function tt(xe){return new Ve.y(bt=>{const vt=xe[$e.L]();if((0,fe.m)(vt.subscribe))return vt.subscribe(bt);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(xe);if((0,ie.z)(xe))return function ft(xe){return new Ve.y(bt=>{for(let vt=0;vt<xe.length&&!bt.closed;vt++)bt.next(xe[vt]);bt.complete()})}(xe);if((0,re.t)(xe))return function rn(xe){return new Ve.y(bt=>{xe.then(vt=>{bt.closed||(bt.next(vt),bt.complete())},vt=>bt.error(vt)).then(null,ve.h)})}(xe);if((0,Le.D)(xe))return ut(xe);if((0,He.T)(xe))return function pt(xe){return new Ve.y(bt=>{for(const vt of xe)if(bt.next(vt),bt.closed)return;bt.complete()})}(xe);if((0,qe.L)(xe))return function gn(xe){return ut((0,qe.Q)(xe))}(xe)}throw(0,We.z)(xe)}function ut(xe){return new Ve.y(bt=>{(function _n(xe,bt){var vt,$t,Et,Se;return(0,m.mG)(this,void 0,void 0,function*(){try{for(vt=(0,m.KL)(xe);!($t=yield vt.next()).done;)if(bt.next($t.value),bt.closed)return}catch(nt){Et={error:nt}}finally{try{$t&&!$t.done&&(Se=vt.return)&&(yield Se.call(vt))}finally{if(Et)throw Et.error}}bt.complete()})})(xe,bt).catch(vt=>bt.error(vt))})}},6451:(an,at,ee)=>{ee.d(at,{T:()=>Le});var m=ee(8189),ie=ee(8421),re=ee(515),Ve=ee(3269),Re=ee(8996);function Le(...We){const He=(0,Ve.yG)(We),qe=(0,Ve._6)(We,1/0),fe=We;return fe.length?1===fe.length?(0,ie.Xf)(fe[0]):(0,m.J)(qe)((0,Re.D)(fe,He)):re.E}},9646:(an,at,ee)=>{ee.d(at,{of:()=>re});var m=ee(3269),ie=ee(8996);function re(...Ve){const Re=(0,m.yG)(Ve);return(0,ie.D)(Ve,Re)}},5403:(an,at,ee)=>{ee.d(at,{x:()=>ie});var m=ee(930);function ie(Ve,Re,Le,We,He){return new re(Ve,Re,Le,We,He)}class re extends m.Lv{constructor(Re,Le,We,He,qe,fe){super(Re),this.onFinalize=qe,this.shouldUnsubscribe=fe,this._next=Le?function(ve){try{Le(ve)}catch($e){Re.error($e)}}:super._next,this._error=He?function(ve){try{He(ve)}catch($e){Re.error($e)}finally{this.unsubscribe()}}:super._error,this._complete=We?function(){try{We()}catch(ve){Re.error(ve)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var Re;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:Le}=this;super.unsubscribe(),!Le&&(null===(Re=this.onFinalize)||void 0===Re||Re.call(this))}}}},262:(an,at,ee)=>{ee.d(at,{K:()=>Ve});var m=ee(8421),ie=ee(5403),re=ee(4482);function Ve(Re){return(0,re.e)((Le,We)=>{let fe,He=null,qe=!1;He=Le.subscribe((0,ie.x)(We,void 0,void 0,ve=>{fe=(0,m.Xf)(Re(ve,Ve(Re)(Le))),He?(He.unsubscribe(),He=null,fe.subscribe(We)):qe=!0})),qe&&(He.unsubscribe(),He=null,fe.subscribe(We))})}},4351:(an,at,ee)=>{ee.d(at,{b:()=>re});var m=ee(5577),ie=ee(576);function re(Ve,Re){return(0,ie.m)(Re)?(0,m.z)(Ve,Re,1):(0,m.z)(Ve,1)}},6590:(an,at,ee)=>{ee.d(at,{d:()=>re});var m=ee(4482),ie=ee(5403);function re(Ve){return(0,m.e)((Re,Le)=>{let We=!1;Re.subscribe((0,ie.x)(Le,He=>{We=!0,Le.next(He)},()=>{We||Le.next(Ve),Le.complete()}))})}},9300:(an,at,ee)=>{ee.d(at,{h:()=>re});var m=ee(4482),ie=ee(5403);function re(Ve,Re){return(0,m.e)((Le,We)=>{let He=0;Le.subscribe((0,ie.x)(We,qe=>Ve.call(Re,qe,He++)&&We.next(qe)))})}},590:(an,at,ee)=>{ee.d(at,{P:()=>We});var m=ee(6805),ie=ee(9300),re=ee(5698),Ve=ee(6590),Re=ee(8068),Le=ee(4671);function We(He,qe){const fe=arguments.length>=2;return ve=>ve.pipe(He?(0,ie.h)(($e,Pt)=>He($e,Pt,ve)):Le.y,(0,re.q)(1),fe?(0,Ve.d)(qe):(0,Re.T)(()=>new m.K))}},4004:(an,at,ee)=>{ee.d(at,{U:()=>re});var m=ee(4482),ie=ee(5403);function re(Ve,Re){return(0,m.e)((Le,We)=>{let He=0;Le.subscribe((0,ie.x)(We,qe=>{We.next(Ve.call(Re,qe,He++))}))})}},8189:(an,at,ee)=>{ee.d(at,{J:()=>re});var m=ee(5577),ie=ee(4671);function re(Ve=1/0){return(0,m.z)(ie.y,Ve)}},5577:(an,at,ee)=>{ee.d(at,{z:()=>He});var m=ee(4004),ie=ee(8421),re=ee(4482),Ve=ee(9672),Re=ee(5403),We=ee(576);function He(qe,fe,ve=1/0){return(0,We.m)(fe)?He(($e,Pt)=>(0,m.U)((tt,ft)=>fe($e,tt,Pt,ft))((0,ie.Xf)(qe($e,Pt))),ve):("number"==typeof fe&&(ve=fe),(0,re.e)(($e,Pt)=>function Le(qe,fe,ve,$e,Pt,tt,ft,rn){const pt=[];let ut=0,gn=0,_n=!1;const xe=()=>{_n&&!pt.length&&!ut&&fe.complete()},bt=$t=>ut<$e?vt($t):pt.push($t),vt=$t=>{tt&&fe.next($t),ut++;let Et=!1;(0,ie.Xf)(ve($t,gn++)).subscribe((0,Re.x)(fe,Se=>{Pt?.(Se),tt?bt(Se):fe.next(Se)},()=>{Et=!0},void 0,()=>{if(Et)try{for(ut--;pt.length&&ut<$e;){const Se=pt.shift();ft?(0,Ve.f)(fe,ft,()=>vt(Se)):vt(Se)}xe()}catch(Se){fe.error(Se)}}))};return qe.subscribe((0,Re.x)(fe,bt,()=>{_n=!0,xe()})),()=>{rn?.()}}($e,Pt,qe,ve)))}},5363:(an,at,ee)=>{ee.d(at,{Q:()=>Ve});var m=ee(9672),ie=ee(4482),re=ee(5403);function Ve(Re,Le=0){return(0,ie.e)((We,He)=>{We.subscribe((0,re.x)(He,qe=>(0,m.f)(He,Re,()=>He.next(qe),Le),()=>(0,m.f)(He,Re,()=>He.complete(),Le),qe=>(0,m.f)(He,Re,()=>He.error(qe),Le)))})}},5026:(an,at,ee)=>{ee.d(at,{R:()=>Ve});var m=ee(4482),ie=ee(5403);function re(Re,Le,We,He,qe){return(fe,ve)=>{let $e=We,Pt=Le,tt=0;fe.subscribe((0,ie.x)(ve,ft=>{const rn=tt++;Pt=$e?Re(Pt,ft,rn):($e=!0,ft),He&&ve.next(Pt)},qe&&(()=>{$e&&ve.next(Pt),ve.complete()})))}}function Ve(Re,Le){return(0,m.e)(re(Re,Le,arguments.length>=2,!0))}},3099:(an,at,ee)=>{ee.d(at,{B:()=>Re});var m=ee(8421),ie=ee(7579),re=ee(930),Ve=ee(4482);function Re(We={}){const{connector:He=(()=>new ie.x),resetOnError:qe=!0,resetOnComplete:fe=!0,resetOnRefCountZero:ve=!0}=We;return $e=>{let Pt,tt,ft,rn=0,pt=!1,ut=!1;const gn=()=>{tt?.unsubscribe(),tt=void 0},_n=()=>{gn(),Pt=ft=void 0,pt=ut=!1},xe=()=>{const bt=Pt;_n(),bt?.unsubscribe()};return(0,Ve.e)((bt,vt)=>{rn++,!ut&&!pt&&gn();const $t=ft=ft??He();vt.add(()=>{rn--,0===rn&&!ut&&!pt&&(tt=Le(xe,ve))}),$t.subscribe(vt),!Pt&&rn>0&&(Pt=new re.Hp({next:Et=>$t.next(Et),error:Et=>{ut=!0,gn(),tt=Le(_n,qe,Et),$t.error(Et)},complete:()=>{pt=!0,gn(),tt=Le(_n,fe),$t.complete()}}),(0,m.Xf)(bt).subscribe(Pt))})($e)}}function Le(We,He,...qe){if(!0===He)return void We();if(!1===He)return;const fe=new re.Hp({next:()=>{fe.unsubscribe(),We()}});return He(...qe).subscribe(fe)}},8675:(an,at,ee)=>{ee.d(at,{O:()=>Ve});var m=ee(7272),ie=ee(3269),re=ee(4482);function Ve(...Re){const Le=(0,ie.yG)(Re);return(0,re.e)((We,He)=>{(Le?(0,m.z)(Re,We,Le):(0,m.z)(Re,We)).subscribe(He)})}},9468:(an,at,ee)=>{ee.d(at,{R:()=>ie});var m=ee(4482);function ie(re,Ve=0){return(0,m.e)((Re,Le)=>{Le.add(re.schedule(()=>Re.subscribe(Le),Ve))})}},3900:(an,at,ee)=>{ee.d(at,{w:()=>Ve});var m=ee(8421),ie=ee(4482),re=ee(5403);function Ve(Re,Le){return(0,ie.e)((We,He)=>{let qe=null,fe=0,ve=!1;const $e=()=>ve&&!qe&&He.complete();We.subscribe((0,re.x)(He,Pt=>{qe?.unsubscribe();let tt=0;const ft=fe++;(0,m.Xf)(Re(Pt,ft)).subscribe(qe=(0,re.x)(He,rn=>He.next(Le?Le(Pt,rn,ft,tt++):rn),()=>{qe=null,$e()}))},()=>{ve=!0,$e()}))})}},5698:(an,at,ee)=>{ee.d(at,{q:()=>Ve});var m=ee(515),ie=ee(4482),re=ee(5403);function Ve(Re){return Re<=0?()=>m.E:(0,ie.e)((Le,We)=>{let He=0;Le.subscribe((0,re.x)(We,qe=>{++He<=Re&&(We.next(qe),Re<=He&&We.complete())}))})}},8505:(an,at,ee)=>{ee.d(at,{b:()=>Re});var m=ee(576),ie=ee(4482),re=ee(5403),Ve=ee(4671);function Re(Le,We,He){const qe=(0,m.m)(Le)||We||He?{next:Le,error:We,complete:He}:Le;return qe?(0,ie.e)((fe,ve)=>{var $e;null===($e=qe.subscribe)||void 0===$e||$e.call(qe);let Pt=!0;fe.subscribe((0,re.x)(ve,tt=>{var ft;null===(ft=qe.next)||void 0===ft||ft.call(qe,tt),ve.next(tt)},()=>{var tt;Pt=!1,null===(tt=qe.complete)||void 0===tt||tt.call(qe),ve.complete()},tt=>{var ft;Pt=!1,null===(ft=qe.error)||void 0===ft||ft.call(qe,tt),ve.error(tt)},()=>{var tt,ft;Pt&&(null===(tt=qe.unsubscribe)||void 0===tt||tt.call(qe)),null===(ft=qe.finalize)||void 0===ft||ft.call(qe)}))}):Ve.y}},8068:(an,at,ee)=>{ee.d(at,{T:()=>Ve});var m=ee(6805),ie=ee(4482),re=ee(5403);function Ve(Le=Re){return(0,ie.e)((We,He)=>{let qe=!1;We.subscribe((0,re.x)(He,fe=>{qe=!0,He.next(fe)},()=>qe?He.complete():He.error(Le())))})}function Re(){return new m.K}},4408:(an,at,ee)=>{ee.d(at,{o:()=>Re});var m=ee(727);class ie extends m.w0{constructor(We,He){super()}schedule(We,He=0){return this}}const re={setInterval(Le,We,...He){const{delegate:qe}=re;return qe?.setInterval?qe.setInterval(Le,We,...He):setInterval(Le,We,...He)},clearInterval(Le){const{delegate:We}=re;return(We?.clearInterval||clearInterval)(Le)},delegate:void 0};var Ve=ee(8737);class Re extends ie{constructor(We,He){super(We,He),this.scheduler=We,this.work=He,this.pending=!1}schedule(We,He=0){var qe;if(this.closed)return this;this.state=We;const fe=this.id,ve=this.scheduler;return null!=fe&&(this.id=this.recycleAsyncId(ve,fe,He)),this.pending=!0,this.delay=He,this.id=null!==(qe=this.id)&&void 0!==qe?qe:this.requestAsyncId(ve,this.id,He),this}requestAsyncId(We,He,qe=0){return re.setInterval(We.flush.bind(We,this),qe)}recycleAsyncId(We,He,qe=0){if(null!=qe&&this.delay===qe&&!1===this.pending)return He;null!=He&&re.clearInterval(He)}execute(We,He){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const qe=this._execute(We,He);if(qe)return qe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(We,He){let fe,qe=!1;try{this.work(We)}catch(ve){qe=!0,fe=ve||new Error("Scheduled action threw falsy error")}if(qe)return this.unsubscribe(),fe}unsubscribe(){if(!this.closed){const{id:We,scheduler:He}=this,{actions:qe}=He;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ve.P)(qe,this),null!=We&&(this.id=this.recycleAsyncId(He,We,null)),this.delay=null,super.unsubscribe()}}}},7565:(an,at,ee)=>{ee.d(at,{v:()=>re});var m=ee(6063);class ie{constructor(Re,Le=ie.now){this.schedulerActionCtor=Re,this.now=Le}schedule(Re,Le=0,We){return new this.schedulerActionCtor(this,Re).schedule(We,Le)}}ie.now=m.l.now;class re extends ie{constructor(Re,Le=ie.now){super(Re,Le),this.actions=[],this._active=!1}flush(Re){const{actions:Le}=this;if(this._active)return void Le.push(Re);let We;this._active=!0;do{if(We=Re.execute(Re.state,Re.delay))break}while(Re=Le.shift());if(this._active=!1,We){for(;Re=Le.shift();)Re.unsubscribe();throw We}}}},4986:(an,at,ee)=>{ee.d(at,{P:()=>Ve,z:()=>re});var m=ee(4408);const re=new(ee(7565).v)(m.o),Ve=re},6063:(an,at,ee)=>{ee.d(at,{l:()=>m});const m={now:()=>(m.delegate||Date).now(),delegate:void 0}},3410:(an,at,ee)=>{ee.d(at,{z:()=>m});const m={setTimeout(ie,re,...Ve){const{delegate:Re}=m;return Re?.setTimeout?Re.setTimeout(ie,re,...Ve):setTimeout(ie,re,...Ve)},clearTimeout(ie){const{delegate:re}=m;return(re?.clearTimeout||clearTimeout)(ie)},delegate:void 0}},2202:(an,at,ee)=>{ee.d(at,{h:()=>ie});const ie=function m(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(an,at,ee)=>{ee.d(at,{L:()=>m});const m="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(an,at,ee)=>{ee.d(at,{K:()=>ie});const ie=(0,ee(3888).d)(re=>function(){re(this),this.name="EmptyError",this.message="no elements in sequence"})},3269:(an,at,ee)=>{ee.d(at,{_6:()=>Le,jO:()=>Ve,yG:()=>Re});var m=ee(576),ie=ee(3532);function re(We){return We[We.length-1]}function Ve(We){return(0,m.m)(re(We))?We.pop():void 0}function Re(We){return(0,ie.K)(re(We))?We.pop():void 0}function Le(We,He){return"number"==typeof re(We)?We.pop():He}},4742:(an,at,ee)=>{ee.d(at,{D:()=>Re});const{isArray:m}=Array,{getPrototypeOf:ie,prototype:re,keys:Ve}=Object;function Re(We){if(1===We.length){const He=We[0];if(m(He))return{args:He,keys:null};if(function Le(We){return We&&"object"==typeof We&&ie(We)===re}(He)){const qe=Ve(He);return{args:qe.map(fe=>He[fe]),keys:qe}}}return{args:We,keys:null}}},8737:(an,at,ee)=>{function m(ie,re){if(ie){const Ve=ie.indexOf(re);0<=Ve&&ie.splice(Ve,1)}}ee.d(at,{P:()=>m})},3888:(an,at,ee)=>{function m(ie){const Ve=ie(Re=>{Error.call(Re),Re.stack=(new Error).stack});return Ve.prototype=Object.create(Error.prototype),Ve.prototype.constructor=Ve,Ve}ee.d(at,{d:()=>m})},1810:(an,at,ee)=>{function m(ie,re){return ie.reduce((Ve,Re,Le)=>(Ve[Re]=re[Le],Ve),{})}ee.d(at,{n:()=>m})},2806:(an,at,ee)=>{ee.d(at,{O:()=>Ve,x:()=>re});var m=ee(2416);let ie=null;function re(Re){if(m.v.useDeprecatedSynchronousErrorHandling){const Le=!ie;if(Le&&(ie={errorThrown:!1,error:null}),Re(),Le){const{errorThrown:We,error:He}=ie;if(ie=null,We)throw He}}else Re()}function Ve(Re){m.v.useDeprecatedSynchronousErrorHandling&&ie&&(ie.errorThrown=!0,ie.error=Re)}},9672:(an,at,ee)=>{function m(ie,re,Ve,Re=0,Le=!1){const We=re.schedule(function(){Ve(),Le?ie.add(this.schedule(null,Re)):this.unsubscribe()},Re);if(ie.add(We),!Le)return We}ee.d(at,{f:()=>m})},4671:(an,at,ee)=>{function m(ie){return ie}ee.d(at,{y:()=>m})},1144:(an,at,ee)=>{ee.d(at,{z:()=>m});const m=ie=>ie&&"number"==typeof ie.length&&"function"!=typeof ie},2206:(an,at,ee)=>{ee.d(at,{D:()=>ie});var m=ee(576);function ie(re){return Symbol.asyncIterator&&(0,m.m)(re?.[Symbol.asyncIterator])}},576:(an,at,ee)=>{function m(ie){return"function"==typeof ie}ee.d(at,{m:()=>m})},3670:(an,at,ee)=>{ee.d(at,{c:()=>re});var m=ee(8822),ie=ee(576);function re(Ve){return(0,ie.m)(Ve[m.L])}},6495:(an,at,ee)=>{ee.d(at,{T:()=>re});var m=ee(2202),ie=ee(576);function re(Ve){return(0,ie.m)(Ve?.[m.h])}},8239:(an,at,ee)=>{ee.d(at,{t:()=>ie});var m=ee(576);function ie(re){return(0,m.m)(re?.then)}},3260:(an,at,ee)=>{ee.d(at,{L:()=>Ve,Q:()=>re});var m=ee(655),ie=ee(576);function re(Re){return(0,m.FC)(this,arguments,function*(){const We=Re.getReader();try{for(;;){const{value:He,done:qe}=yield(0,m.qq)(We.read());if(qe)return yield(0,m.qq)(void 0);yield yield(0,m.qq)(He)}}finally{We.releaseLock()}})}function Ve(Re){return(0,ie.m)(Re?.getReader)}},3532:(an,at,ee)=>{ee.d(at,{K:()=>ie});var m=ee(576);function ie(re){return re&&(0,m.m)(re.schedule)}},4482:(an,at,ee)=>{ee.d(at,{A:()=>ie,e:()=>re});var m=ee(576);function ie(Ve){return(0,m.m)(Ve?.lift)}function re(Ve){return Re=>{if(ie(Re))return Re.lift(function(Le){try{return Ve(Le,this)}catch(We){this.error(We)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(an,at,ee)=>{ee.d(at,{Z:()=>Ve});var m=ee(4004);const{isArray:ie}=Array;function Ve(Re){return(0,m.U)(Le=>function re(Re,Le){return ie(Le)?Re(...Le):Re(Le)}(Re,Le))}},5032:(an,at,ee)=>{function m(){}ee.d(at,{Z:()=>m})},9635:(an,at,ee)=>{ee.d(at,{U:()=>re,z:()=>ie});var m=ee(4671);function ie(...Ve){return re(Ve)}function re(Ve){return 0===Ve.length?m.y:1===Ve.length?Ve[0]:function(Le){return Ve.reduce((We,He)=>He(We),Le)}}},7849:(an,at,ee)=>{ee.d(at,{h:()=>re});var m=ee(2416),ie=ee(3410);function re(Ve){ie.z.setTimeout(()=>{const{onUnhandledError:Re}=m.v;if(!Re)throw Ve;Re(Ve)})}},4532:(an,at,ee)=>{function m(ie){return new TypeError(`You provided ${null!==ie&&"object"==typeof ie?"an invalid object":`'${ie}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}ee.d(at,{z:()=>m})},655:(an,at,ee)=>{function Ve(Ee,Ke){var Ne={};for(var Xe in Ee)Object.prototype.hasOwnProperty.call(Ee,Xe)&&Ke.indexOf(Xe)<0&&(Ne[Xe]=Ee[Xe]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var Ft=0;for(Xe=Object.getOwnPropertySymbols(Ee);Ft<Xe.length;Ft++)Ke.indexOf(Xe[Ft])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Xe[Ft])&&(Ne[Xe[Ft]]=Ee[Xe[Ft]])}return Ne}function He(Ee,Ke,Ne,Xe){return new(Ne||(Ne=Promise))(function(Ut,pn){function Bn(Yn){try{Kt(Xe.next(Yn))}catch(Gn){pn(Gn)}}function zn(Yn){try{Kt(Xe.throw(Yn))}catch(Gn){pn(Gn)}}function Kt(Yn){Yn.done?Ut(Yn.value):function Ft(Ut){return Ut instanceof Ne?Ut:new Ne(function(pn){pn(Ut)})}(Yn.value).then(Bn,zn)}Kt((Xe=Xe.apply(Ee,Ke||[])).next())})}function pt(Ee){return this instanceof pt?(this.v=Ee,this):new pt(Ee)}function ut(Ee,Ke,Ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ft,Xe=Ne.apply(Ee,Ke||[]),Ut=[];return Ft={},pn("next"),pn("throw"),pn("return"),Ft[Symbol.asyncIterator]=function(){return this},Ft;function pn(hr){Xe[hr]&&(Ft[hr]=function(Fn){return new Promise(function(Xr,Wn){Ut.push([hr,Fn,Xr,Wn])>1||Bn(hr,Fn)})})}function Bn(hr,Fn){try{!function zn(hr){hr.value instanceof pt?Promise.resolve(hr.value.v).then(Kt,Yn):Gn(Ut[0][2],hr)}(Xe[hr](Fn))}catch(Xr){Gn(Ut[0][3],Xr)}}function Kt(hr){Bn("next",hr)}function Yn(hr){Bn("throw",hr)}function Gn(hr,Fn){hr(Fn),Ut.shift(),Ut.length&&Bn(Ut[0][0],Ut[0][1])}}function _n(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ne,Ke=Ee[Symbol.asyncIterator];return Ke?Ke.call(Ee):(Ee=function $e(Ee){var Ke="function"==typeof Symbol&&Symbol.iterator,Ne=Ke&&Ee[Ke],Xe=0;if(Ne)return Ne.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Xe>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Xe++],done:!Ee}}};throw new TypeError(Ke?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),Ne={},Xe("next"),Xe("throw"),Xe("return"),Ne[Symbol.asyncIterator]=function(){return this},Ne);function Xe(Ut){Ne[Ut]=Ee[Ut]&&function(pn){return new Promise(function(Bn,zn){!function Ft(Ut,pn,Bn,zn){Promise.resolve(zn).then(function(Kt){Ut({value:Kt,done:Bn})},pn)}(Bn,zn,(pn=Ee[Ut](pn)).done,pn.value)})}}}ee.d(at,{FC:()=>ut,KL:()=>_n,_T:()=>Ve,mG:()=>He,qq:()=>pt})},6895:(an,at,ee)=>{ee.d(at,{Do:()=>_n,ED:()=>Oo,EM:()=>Cs,HT:()=>Re,JF:()=>hs,K0:()=>We,Mx:()=>Hi,NF:()=>lo,O5:()=>di,Ov:()=>Xs,PM:()=>Fi,RF:()=>Wi,S$:()=>pt,V_:()=>fe,Ye:()=>xe,b0:()=>gn,bD:()=>mi,ez:()=>Li,mk:()=>yr,n9:()=>ki,q:()=>re,sg:()=>Ji,tP:()=>bs,w_:()=>Le});var m=ee(4650);let ie=null;function re(){return ie}function Re(g){ie||(ie=g)}class Le{}const We=new m.OlP("DocumentToken");let He=(()=>{class g{historyGo(_){throw new Error("Not implemented")}}return g.\u0275fac=function(_){return new(_||g)},g.\u0275prov=m.Yz7({token:g,factory:function(){return function qe(){return(0,m.LFG)(ve)}()},providedIn:"platform"}),g})();const fe=new m.OlP("Location Initialized");let ve=(()=>{class g extends He{constructor(_){super(),this._doc=_,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return re().getBaseHref(this._doc)}onPopState(_){const M=re().getGlobalEventTarget(this._doc,"window");return M.addEventListener("popstate",_,!1),()=>M.removeEventListener("popstate",_)}onHashChange(_){const M=re().getGlobalEventTarget(this._doc,"window");return M.addEventListener("hashchange",_,!1),()=>M.removeEventListener("hashchange",_)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(_){this.location.pathname=_}pushState(_,M,V){$e()?this._history.pushState(_,M,V):this.location.hash=V}replaceState(_,M,V){$e()?this._history.replaceState(_,M,V):this.location.hash=V}forward(){this._history.forward()}back(){this._history.back()}historyGo(_=0){this._history.go(_)}getState(){return this._history.state}}return g.\u0275fac=function(_){return new(_||g)(m.LFG(We))},g.\u0275prov=m.Yz7({token:g,factory:function(){return function Pt(){return new ve((0,m.LFG)(We))}()},providedIn:"platform"}),g})();function $e(){return!!window.history.pushState}function tt(g,S){if(0==g.length)return S;if(0==S.length)return g;let _=0;return g.endsWith("/")&&_++,S.startsWith("/")&&_++,2==_?g+S.substring(1):1==_?g+S:g+"/"+S}function ft(g){const S=g.match(/#|\?|$/),_=S&&S.index||g.length;return g.slice(0,_-("/"===g[_-1]?1:0))+g.slice(_)}function rn(g){return g&&"?"!==g[0]?"?"+g:g}let pt=(()=>{class g{historyGo(_){throw new Error("Not implemented")}}return g.\u0275fac=function(_){return new(_||g)},g.\u0275prov=m.Yz7({token:g,factory:function(){return(0,m.f3M)(gn)},providedIn:"root"}),g})();const ut=new m.OlP("appBaseHref");let gn=(()=>{class g extends pt{constructor(_,M){super(),this._platformLocation=_,this._removeListenerFns=[],this._baseHref=M??this._platformLocation.getBaseHrefFromDOM()??(0,m.f3M)(We).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(_){this._removeListenerFns.push(this._platformLocation.onPopState(_),this._platformLocation.onHashChange(_))}getBaseHref(){return this._baseHref}prepareExternalUrl(_){return tt(this._baseHref,_)}path(_=!1){const M=this._platformLocation.pathname+rn(this._platformLocation.search),V=this._platformLocation.hash;return V&&_?`${M}${V}`:M}pushState(_,M,V,H){const W=this.prepareExternalUrl(V+rn(H));this._platformLocation.pushState(_,M,W)}replaceState(_,M,V,H){const W=this.prepareExternalUrl(V+rn(H));this._platformLocation.replaceState(_,M,W)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(_=0){this._platformLocation.historyGo?.(_)}}return g.\u0275fac=function(_){return new(_||g)(m.LFG(He),m.LFG(ut,8))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),_n=(()=>{class g extends pt{constructor(_,M){super(),this._platformLocation=_,this._baseHref="",this._removeListenerFns=[],null!=M&&(this._baseHref=M)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(_){this._removeListenerFns.push(this._platformLocation.onPopState(_),this._platformLocation.onHashChange(_))}getBaseHref(){return this._baseHref}path(_=!1){let M=this._platformLocation.hash;return null==M&&(M="#"),M.length>0?M.substring(1):M}prepareExternalUrl(_){const M=tt(this._baseHref,_);return M.length>0?"#"+M:M}pushState(_,M,V,H){let W=this.prepareExternalUrl(V+rn(H));0==W.length&&(W=this._platformLocation.pathname),this._platformLocation.pushState(_,M,W)}replaceState(_,M,V,H){let W=this.prepareExternalUrl(V+rn(H));0==W.length&&(W=this._platformLocation.pathname),this._platformLocation.replaceState(_,M,W)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(_=0){this._platformLocation.historyGo?.(_)}}return g.\u0275fac=function(_){return new(_||g)(m.LFG(He),m.LFG(ut,8))},g.\u0275prov=m.Yz7({token:g,factory:g.\u0275fac}),g})(),xe=(()=>{class g{constructor(_){this._subject=new m.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=_;const M=this._locationStrategy.getBaseHref();this._baseHref=ft($t(M)),this._locationStrategy.onPopState(V=>{this._subject.emit({url:this.path(!0),pop:!0,state:V.state,type:V.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(_=!1){return this.normalize(this._locationStrategy.path(_))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(_,M=""){return this.path()==this.normalize(_+rn(M))}normalize(_){return g.stripTrailingSlash(function vt(g,S){return g&&S.startsWith(g)?S.substring(g.length):S}(this._baseHref,$t(_)))}prepareExternalUrl(_){return _&&"/"!==_[0]&&(_="/"+_),this._locationStrategy.prepareExternalUrl(_)}go(_,M="",V=null){this._locationStrategy.pushState(V,"",_,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+rn(M)),V)}replaceState(_,M="",V=null){this._locationStrategy.replaceState(V,"",_,M),this._notifyUrlChangeListeners(this.prepareExternalUrl(_+rn(M)),V)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(_=0){this._locationStrategy.historyGo?.(_)}onUrlChange(_){return this._urlChangeListeners.push(_),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(M=>{this._notifyUrlChangeListeners(M.url,M.state)})),()=>{const M=this._urlChangeListeners.indexOf(_);this._urlChangeListeners.splice(M,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(_="",M){this._urlChangeListeners.forEach(V=>V(_,M))}subscribe(_,M,V){return this._subject.subscribe({next:_,error:M,complete:V})}}return g.normalizeQueryParams=rn,g.joinWithSlash=tt,g.stripTrailingSlash=ft,g.\u0275fac=function(_){return new(_||g)(m.LFG(pt))},g.\u0275prov=m.Yz7({token:g,factory:function(){return function bt(){return new xe((0,m.LFG)(pt))}()},providedIn:"root"}),g})();function $t(g){return g.replace(/\/index.html$/,"")}function Hi(g,S){S=encodeURIComponent(S);for(const _ of g.split(";")){const M=_.indexOf("="),[V,H]=-1==M?[_,""]:[_.slice(0,M),_.slice(M+1)];if(V.trim()===S)return decodeURIComponent(H)}return null}let yr=(()=>{class g{constructor(_,M,V,H){this._iterableDiffers=_,this._keyValueDiffers=M,this._ngEl=V,this._renderer=H,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(_){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof _?_.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(_){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof _?_.split(/\s+/):_,this._rawClass&&((0,m.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const _=this._iterableDiffer.diff(this._rawClass);_&&this._applyIterableChanges(_)}else if(this._keyValueDiffer){const _=this._keyValueDiffer.diff(this._rawClass);_&&this._applyKeyValueChanges(_)}}_applyKeyValueChanges(_){_.forEachAddedItem(M=>this._toggleClass(M.key,M.currentValue)),_.forEachChangedItem(M=>this._toggleClass(M.key,M.currentValue)),_.forEachRemovedItem(M=>{M.previousValue&&this._toggleClass(M.key,!1)})}_applyIterableChanges(_){_.forEachAddedItem(M=>{if("string"!=typeof M.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,m.AaK)(M.item)}`);this._toggleClass(M.item,!0)}),_.forEachRemovedItem(M=>this._toggleClass(M.item,!1))}_applyClasses(_){_&&(Array.isArray(_)||_ instanceof Set?_.forEach(M=>this._toggleClass(M,!0)):Object.keys(_).forEach(M=>this._toggleClass(M,!!_[M])))}_removeClasses(_){_&&(Array.isArray(_)||_ instanceof Set?_.forEach(M=>this._toggleClass(M,!1)):Object.keys(_).forEach(M=>this._toggleClass(M,!1)))}_toggleClass(_,M){(_=_.trim())&&_.split(/\s+/g).forEach(V=>{M?this._renderer.addClass(this._ngEl.nativeElement,V):this._renderer.removeClass(this._ngEl.nativeElement,V)})}}return g.\u0275fac=function(_){return new(_||g)(m.Y36(m.ZZ4),m.Y36(m.aQg),m.Y36(m.SBq),m.Y36(m.Qsj))},g.\u0275dir=m.lG2({type:g,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),g})();class Os{constructor(S,_,M,V){this.$implicit=S,this.ngForOf=_,this.index=M,this.count=V}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ji=(()=>{class g{constructor(_,M,V){this._viewContainer=_,this._template=M,this._differs=V,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(_){this._ngForOf=_,this._ngForOfDirty=!0}set ngForTrackBy(_){this._trackByFn=_}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(_){_&&(this._template=_)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const _=this._ngForOf;!this._differ&&_&&(this._differ=this._differs.find(_).create(this.ngForTrackBy))}if(this._differ){const _=this._differ.diff(this._ngForOf);_&&this._applyChanges(_)}}_applyChanges(_){const M=this._viewContainer;_.forEachOperation((V,H,W)=>{if(null==V.previousIndex)M.createEmbeddedView(this._template,new Os(V.item,this._ngForOf,-1,-1),null===W?void 0:W);else if(null==W)M.remove(null===H?void 0:H);else if(null!==H){const ne=M.get(H);M.move(ne,W),zi(ne,V)}});for(let V=0,H=M.length;V<H;V++){const ne=M.get(V).context;ne.index=V,ne.count=H,ne.ngForOf=this._ngForOf}_.forEachIdentityChange(V=>{zi(M.get(V.currentIndex),V)})}static ngTemplateContextGuard(_,M){return!0}}return g.\u0275fac=function(_){return new(_||g)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(m.ZZ4))},g.\u0275dir=m.lG2({type:g,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),g})();function zi(g,S){g.context.$implicit=S.item}let di=(()=>{class g{constructor(_,M){this._viewContainer=_,this._context=new Gi,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=M}set ngIf(_){this._context.$implicit=this._context.ngIf=_,this._updateView()}set ngIfThen(_){Mr("ngIfThen",_),this._thenTemplateRef=_,this._thenViewRef=null,this._updateView()}set ngIfElse(_){Mr("ngIfElse",_),this._elseTemplateRef=_,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(_,M){return!0}}return g.\u0275fac=function(_){return new(_||g)(m.Y36(m.s_b),m.Y36(m.Rgc))},g.\u0275dir=m.lG2({type:g,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),g})();class Gi{constructor(){this.$implicit=null,this.ngIf=null}}function Mr(g,S){if(S&&!S.createEmbeddedView)throw new Error(`${g} must be a TemplateRef, but received '${(0,m.AaK)(S)}'.`)}class Ei{constructor(S,_){this._viewContainerRef=S,this._templateRef=_,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(S){S&&!this._created?this.create():!S&&this._created&&this.destroy()}}let Wi=(()=>{class g{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(_){this._ngSwitch=_,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(_){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(_)}_matchCase(_){const M=_==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||M,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),M}_updateDefaultCases(_){if(this._defaultViews&&_!==this._defaultUsed){this._defaultUsed=_;for(let M=0;M<this._defaultViews.length;M++)this._defaultViews[M].enforceState(_)}}}return g.\u0275fac=function(_){return new(_||g)},g.\u0275dir=m.lG2({type:g,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"},standalone:!0}),g})(),ki=(()=>{class g{constructor(_,M,V){this.ngSwitch=V,V._addCase(),this._view=new Ei(_,M)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return g.\u0275fac=function(_){return new(_||g)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Wi,9))},g.\u0275dir=m.lG2({type:g,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"},standalone:!0}),g})(),Oo=(()=>{class g{constructor(_,M,V){V._addDefault(new Ei(_,M))}}return g.\u0275fac=function(_){return new(_||g)(m.Y36(m.s_b),m.Y36(m.Rgc),m.Y36(Wi,9))},g.\u0275dir=m.lG2({type:g,selectors:[["","ngSwitchDefault",""]],standalone:!0}),g})(),bs=(()=>{class g{constructor(_){this._viewContainerRef=_,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(_){if(_.ngTemplateOutlet||_.ngTemplateOutletInjector){const M=this._viewContainerRef;if(this._viewRef&&M.remove(M.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:V,ngTemplateOutletContext:H,ngTemplateOutletInjector:W}=this;this._viewRef=M.createEmbeddedView(V,H,W?{injector:W}:void 0)}else this._viewRef=null}else this._viewRef&&_.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return g.\u0275fac=function(_){return new(_||g)(m.Y36(m.s_b))},g.\u0275dir=m.lG2({type:g,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[m.TTD]}),g})();class Ro{createSubscription(S,_){return S.subscribe({next:_,error:M=>{throw M}})}dispose(S){S.unsubscribe()}}class Qs{createSubscription(S,_){return S.then(_,M=>{throw M})}dispose(S){}}const Ti=new Qs,qo=new Ro;let Xs=(()=>{class g{constructor(_){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=_}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(_){return this._obj?_!==this._obj?(this._dispose(),this.transform(_)):this._latestValue:(_&&this._subscribe(_),this._latestValue)}_subscribe(_){this._obj=_,this._strategy=this._selectStrategy(_),this._subscription=this._strategy.createSubscription(_,M=>this._updateLatestValue(_,M))}_selectStrategy(_){if((0,m.QGY)(_))return Ti;if((0,m.F4k)(_))return qo;throw function Ar(g,S){return new m.vHH(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(_,M){_===this._obj&&(this._latestValue=M,this._ref.markForCheck())}}return g.\u0275fac=function(_){return new(_||g)(m.Y36(m.sBO,16))},g.\u0275pipe=m.Yjl({name:"async",type:g,pure:!1,standalone:!0}),g})(),Li=(()=>{class g{}return g.\u0275fac=function(_){return new(_||g)},g.\u0275mod=m.oAB({type:g}),g.\u0275inj=m.cJS({}),g})();const mi="browser";function lo(g){return g===mi}function Fi(g){return"server"===g}let Cs=(()=>{class g{}return g.\u0275prov=(0,m.Yz7)({token:g,providedIn:"root",factory:()=>new eo((0,m.LFG)(We),window)}),g})();class eo{constructor(S,_){this.document=S,this.window=_,this.offset=()=>[0,0]}setOffset(S){this.offset=Array.isArray(S)?()=>S:S}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(S){this.supportsScrolling()&&this.window.scrollTo(S[0],S[1])}scrollToAnchor(S){if(!this.supportsScrolling())return;const _=function rr(g,S){const _=g.getElementById(S)||g.getElementsByName(S)[0];if(_)return _;if("function"==typeof g.createTreeWalker&&g.body&&(g.body.createShadowRoot||g.body.attachShadow)){const M=g.createTreeWalker(g.body,NodeFilter.SHOW_ELEMENT);let V=M.currentNode;for(;V;){const H=V.shadowRoot;if(H){const W=H.getElementById(S)||H.querySelector(`[name="${S}"]`);if(W)return W}V=M.nextNode()}}return null}(this.document,S);_&&(this.scrollToElement(_),_.focus())}setHistoryScrollRestoration(S){if(this.supportScrollRestoration()){const _=this.window.history;_&&_.scrollRestoration&&(_.scrollRestoration=S)}}scrollToElement(S){const _=S.getBoundingClientRect(),M=_.left+this.window.pageXOffset,V=_.top+this.window.pageYOffset,H=this.offset();this.window.scrollTo(M-H[0],V-H[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const S=Mi(this.window.history)||Mi(Object.getPrototypeOf(this.window.history));return!(!S||!S.writable&&!S.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Mi(g){return Object.getOwnPropertyDescriptor(g,"scrollRestoration")}class hs{}},529:(an,at,ee)=>{ee.d(at,{JF:()=>pi,eN:()=>Ut});var m=ee(6895),ie=ee(4650),re=ee(9646),Ve=ee(9751),Re=ee(4351),Le=ee(9300),We=ee(4004);class He{}class qe{}class fe{constructor(Oe){this.normalizedNames=new Map,this.lazyUpdate=null,Oe?this.lazyInit="string"==typeof Oe?()=>{this.headers=new Map,Oe.split("\n").forEach(Ie=>{const lt=Ie.indexOf(":");if(lt>0){const It=Ie.slice(0,lt),dn=It.toLowerCase(),Dn=Ie.slice(lt+1).trim();this.maybeSetNormalizedName(It,dn),this.headers.has(dn)?this.headers.get(dn).push(Dn):this.headers.set(dn,[Dn])}})}:()=>{this.headers=new Map,Object.keys(Oe).forEach(Ie=>{let lt=Oe[Ie];const It=Ie.toLowerCase();"string"==typeof lt&&(lt=[lt]),lt.length>0&&(this.headers.set(It,lt),this.maybeSetNormalizedName(Ie,It))})}:this.headers=new Map}has(Oe){return this.init(),this.headers.has(Oe.toLowerCase())}get(Oe){this.init();const Ie=this.headers.get(Oe.toLowerCase());return Ie&&Ie.length>0?Ie[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(Oe){return this.init(),this.headers.get(Oe.toLowerCase())||null}append(Oe,Ie){return this.clone({name:Oe,value:Ie,op:"a"})}set(Oe,Ie){return this.clone({name:Oe,value:Ie,op:"s"})}delete(Oe,Ie){return this.clone({name:Oe,value:Ie,op:"d"})}maybeSetNormalizedName(Oe,Ie){this.normalizedNames.has(Ie)||this.normalizedNames.set(Ie,Oe)}init(){this.lazyInit&&(this.lazyInit instanceof fe?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(Oe=>this.applyUpdate(Oe)),this.lazyUpdate=null))}copyFrom(Oe){Oe.init(),Array.from(Oe.headers.keys()).forEach(Ie=>{this.headers.set(Ie,Oe.headers.get(Ie)),this.normalizedNames.set(Ie,Oe.normalizedNames.get(Ie))})}clone(Oe){const Ie=new fe;return Ie.lazyInit=this.lazyInit&&this.lazyInit instanceof fe?this.lazyInit:this,Ie.lazyUpdate=(this.lazyUpdate||[]).concat([Oe]),Ie}applyUpdate(Oe){const Ie=Oe.name.toLowerCase();switch(Oe.op){case"a":case"s":let lt=Oe.value;if("string"==typeof lt&&(lt=[lt]),0===lt.length)return;this.maybeSetNormalizedName(Oe.name,Ie);const It=("a"===Oe.op?this.headers.get(Ie):void 0)||[];It.push(...lt),this.headers.set(Ie,It);break;case"d":const dn=Oe.value;if(dn){let Dn=this.headers.get(Ie);if(!Dn)return;Dn=Dn.filter(Er=>-1===dn.indexOf(Er)),0===Dn.length?(this.headers.delete(Ie),this.normalizedNames.delete(Ie)):this.headers.set(Ie,Dn)}else this.headers.delete(Ie),this.normalizedNames.delete(Ie)}}forEach(Oe){this.init(),Array.from(this.normalizedNames.keys()).forEach(Ie=>Oe(this.normalizedNames.get(Ie),this.headers.get(Ie)))}}class $e{encodeKey(Oe){return rn(Oe)}encodeValue(Oe){return rn(Oe)}decodeKey(Oe){return decodeURIComponent(Oe)}decodeValue(Oe){return decodeURIComponent(Oe)}}const tt=/%(\d[a-f0-9])/gi,ft={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function rn(dt){return encodeURIComponent(dt).replace(tt,(Oe,Ie)=>ft[Ie]??Oe)}function pt(dt){return`${dt}`}class ut{constructor(Oe={}){if(this.updates=null,this.cloneFrom=null,this.encoder=Oe.encoder||new $e,Oe.fromString){if(Oe.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Pt(dt,Oe){const Ie=new Map;return dt.length>0&&dt.replace(/^\?/,"").split("&").forEach(It=>{const dn=It.indexOf("="),[Dn,Er]=-1==dn?[Oe.decodeKey(It),""]:[Oe.decodeKey(It.slice(0,dn)),Oe.decodeValue(It.slice(dn+1))],Wt=Ie.get(Dn)||[];Wt.push(Er),Ie.set(Dn,Wt)}),Ie}(Oe.fromString,this.encoder)}else Oe.fromObject?(this.map=new Map,Object.keys(Oe.fromObject).forEach(Ie=>{const lt=Oe.fromObject[Ie],It=Array.isArray(lt)?lt.map(pt):[pt(lt)];this.map.set(Ie,It)})):this.map=null}has(Oe){return this.init(),this.map.has(Oe)}get(Oe){this.init();const Ie=this.map.get(Oe);return Ie?Ie[0]:null}getAll(Oe){return this.init(),this.map.get(Oe)||null}keys(){return this.init(),Array.from(this.map.keys())}append(Oe,Ie){return this.clone({param:Oe,value:Ie,op:"a"})}appendAll(Oe){const Ie=[];return Object.keys(Oe).forEach(lt=>{const It=Oe[lt];Array.isArray(It)?It.forEach(dn=>{Ie.push({param:lt,value:dn,op:"a"})}):Ie.push({param:lt,value:It,op:"a"})}),this.clone(Ie)}set(Oe,Ie){return this.clone({param:Oe,value:Ie,op:"s"})}delete(Oe,Ie){return this.clone({param:Oe,value:Ie,op:"d"})}toString(){return this.init(),this.keys().map(Oe=>{const Ie=this.encoder.encodeKey(Oe);return this.map.get(Oe).map(lt=>Ie+"="+this.encoder.encodeValue(lt)).join("&")}).filter(Oe=>""!==Oe).join("&")}clone(Oe){const Ie=new ut({encoder:this.encoder});return Ie.cloneFrom=this.cloneFrom||this,Ie.updates=(this.updates||[]).concat(Oe),Ie}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(Oe=>this.map.set(Oe,this.cloneFrom.map.get(Oe))),this.updates.forEach(Oe=>{switch(Oe.op){case"a":case"s":const Ie=("a"===Oe.op?this.map.get(Oe.param):void 0)||[];Ie.push(pt(Oe.value)),this.map.set(Oe.param,Ie);break;case"d":if(void 0===Oe.value){this.map.delete(Oe.param);break}{let lt=this.map.get(Oe.param)||[];const It=lt.indexOf(pt(Oe.value));-1!==It&&lt.splice(It,1),lt.length>0?this.map.set(Oe.param,lt):this.map.delete(Oe.param)}}}),this.cloneFrom=this.updates=null)}}class _n{constructor(){this.map=new Map}set(Oe,Ie){return this.map.set(Oe,Ie),this}get(Oe){return this.map.has(Oe)||this.map.set(Oe,Oe.defaultValue()),this.map.get(Oe)}delete(Oe){return this.map.delete(Oe),this}has(Oe){return this.map.has(Oe)}keys(){return this.map.keys()}}function bt(dt){return typeof ArrayBuffer<"u"&&dt instanceof ArrayBuffer}function vt(dt){return typeof Blob<"u"&&dt instanceof Blob}function $t(dt){return typeof FormData<"u"&&dt instanceof FormData}class Se{constructor(Oe,Ie,lt,It){let dn;if(this.url=Ie,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=Oe.toUpperCase(),function xe(dt){switch(dt){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||It?(this.body=void 0!==lt?lt:null,dn=It):dn=lt,dn&&(this.reportProgress=!!dn.reportProgress,this.withCredentials=!!dn.withCredentials,dn.responseType&&(this.responseType=dn.responseType),dn.headers&&(this.headers=dn.headers),dn.context&&(this.context=dn.context),dn.params&&(this.params=dn.params)),this.headers||(this.headers=new fe),this.context||(this.context=new _n),this.params){const Dn=this.params.toString();if(0===Dn.length)this.urlWithParams=Ie;else{const Er=Ie.indexOf("?");this.urlWithParams=Ie+(-1===Er?"?":Er<Ie.length-1?"&":"")+Dn}}else this.params=new ut,this.urlWithParams=Ie}serializeBody(){return null===this.body?null:bt(this.body)||vt(this.body)||$t(this.body)||function Et(dt){return typeof URLSearchParams<"u"&&dt instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof ut?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||$t(this.body)?null:vt(this.body)?this.body.type||null:bt(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof ut?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(Oe={}){const Ie=Oe.method||this.method,lt=Oe.url||this.url,It=Oe.responseType||this.responseType,dn=void 0!==Oe.body?Oe.body:this.body,Dn=void 0!==Oe.withCredentials?Oe.withCredentials:this.withCredentials,Er=void 0!==Oe.reportProgress?Oe.reportProgress:this.reportProgress;let Wt=Oe.headers||this.headers,Or=Oe.params||this.params;const ar=Oe.context??this.context;return void 0!==Oe.setHeaders&&(Wt=Object.keys(Oe.setHeaders).reduce((br,Xn)=>br.set(Xn,Oe.setHeaders[Xn]),Wt)),Oe.setParams&&(Or=Object.keys(Oe.setParams).reduce((br,Xn)=>br.set(Xn,Oe.setParams[Xn]),Or)),new Se(Ie,lt,dn,{params:Or,headers:Wt,context:ar,reportProgress:Er,responseType:It,withCredentials:Dn})}}var nt=(()=>((nt=nt||{})[nt.Sent=0]="Sent",nt[nt.UploadProgress=1]="UploadProgress",nt[nt.ResponseHeader=2]="ResponseHeader",nt[nt.DownloadProgress=3]="DownloadProgress",nt[nt.Response=4]="Response",nt[nt.User=5]="User",nt))();class Ee{constructor(Oe,Ie=200,lt="OK"){this.headers=Oe.headers||new fe,this.status=void 0!==Oe.status?Oe.status:Ie,this.statusText=Oe.statusText||lt,this.url=Oe.url||null,this.ok=this.status>=200&&this.status<300}}class Ke extends Ee{constructor(Oe={}){super(Oe),this.type=nt.ResponseHeader}clone(Oe={}){return new Ke({headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class Ne extends Ee{constructor(Oe={}){super(Oe),this.type=nt.Response,this.body=void 0!==Oe.body?Oe.body:null}clone(Oe={}){return new Ne({body:void 0!==Oe.body?Oe.body:this.body,headers:Oe.headers||this.headers,status:void 0!==Oe.status?Oe.status:this.status,statusText:Oe.statusText||this.statusText,url:Oe.url||this.url||void 0})}}class Xe extends Ee{constructor(Oe){super(Oe,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${Oe.url||"(unknown url)"}`:`Http failure response for ${Oe.url||"(unknown url)"}: ${Oe.status} ${Oe.statusText}`,this.error=Oe.error||null}}function Ft(dt,Oe){return{body:Oe,headers:dt.headers,context:dt.context,observe:dt.observe,params:dt.params,reportProgress:dt.reportProgress,responseType:dt.responseType,withCredentials:dt.withCredentials}}let Ut=(()=>{class dt{constructor(Ie){this.handler=Ie}request(Ie,lt,It={}){let dn;if(Ie instanceof Se)dn=Ie;else{let Wt,Or;Wt=It.headers instanceof fe?It.headers:new fe(It.headers),It.params&&(Or=It.params instanceof ut?It.params:new ut({fromObject:It.params})),dn=new Se(Ie,lt,void 0!==It.body?It.body:null,{headers:Wt,context:It.context,params:Or,reportProgress:It.reportProgress,responseType:It.responseType||"json",withCredentials:It.withCredentials})}const Dn=(0,re.of)(dn).pipe((0,Re.b)(Wt=>this.handler.handle(Wt)));if(Ie instanceof Se||"events"===It.observe)return Dn;const Er=Dn.pipe((0,Le.h)(Wt=>Wt instanceof Ne));switch(It.observe||"body"){case"body":switch(dn.responseType){case"arraybuffer":return Er.pipe((0,We.U)(Wt=>{if(null!==Wt.body&&!(Wt.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return Wt.body}));case"blob":return Er.pipe((0,We.U)(Wt=>{if(null!==Wt.body&&!(Wt.body instanceof Blob))throw new Error("Response is not a Blob.");return Wt.body}));case"text":return Er.pipe((0,We.U)(Wt=>{if(null!==Wt.body&&"string"!=typeof Wt.body)throw new Error("Response is not a string.");return Wt.body}));default:return Er.pipe((0,We.U)(Wt=>Wt.body))}case"response":return Er;default:throw new Error(`Unreachable: unhandled observe type ${It.observe}}`)}}delete(Ie,lt={}){return this.request("DELETE",Ie,lt)}get(Ie,lt={}){return this.request("GET",Ie,lt)}head(Ie,lt={}){return this.request("HEAD",Ie,lt)}jsonp(Ie,lt){return this.request("JSONP",Ie,{params:(new ut).append(lt,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(Ie,lt={}){return this.request("OPTIONS",Ie,lt)}patch(Ie,lt,It={}){return this.request("PATCH",Ie,Ft(It,lt))}post(Ie,lt,It={}){return this.request("POST",Ie,Ft(It,lt))}put(Ie,lt,It={}){return this.request("PUT",Ie,Ft(It,lt))}}return dt.\u0275fac=function(Ie){return new(Ie||dt)(ie.LFG(He))},dt.\u0275prov=ie.Yz7({token:dt,factory:dt.\u0275fac}),dt})();class pn{constructor(Oe,Ie){this.next=Oe,this.interceptor=Ie}handle(Oe){return this.interceptor.intercept(Oe,this.next)}}const Bn=new ie.OlP("HTTP_INTERCEPTORS");let zn=(()=>{class dt{intercept(Ie,lt){return lt.handle(Ie)}}return dt.\u0275fac=function(Ie){return new(Ie||dt)},dt.\u0275prov=ie.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const _i=/^\)\]\}',?\n/;let ii=(()=>{class dt{constructor(Ie){this.xhrFactory=Ie}handle(Ie){if("JSONP"===Ie.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Ve.y(lt=>{const It=this.xhrFactory.build();if(It.open(Ie.method,Ie.urlWithParams),Ie.withCredentials&&(It.withCredentials=!0),Ie.headers.forEach((Vn,on)=>It.setRequestHeader(Vn,on.join(","))),Ie.headers.has("Accept")||It.setRequestHeader("Accept","application/json, text/plain, */*"),!Ie.headers.has("Content-Type")){const Vn=Ie.detectContentTypeHeader();null!==Vn&&It.setRequestHeader("Content-Type",Vn)}if(Ie.responseType){const Vn=Ie.responseType.toLowerCase();It.responseType="json"!==Vn?Vn:"text"}const dn=Ie.serializeBody();let Dn=null;const Er=()=>{if(null!==Dn)return Dn;const Vn=It.statusText||"OK",on=new fe(It.getAllResponseHeaders()),Qt=function mr(dt){return"responseURL"in dt&&dt.responseURL?dt.responseURL:/^X-Request-URL:/m.test(dt.getAllResponseHeaders())?dt.getResponseHeader("X-Request-URL"):null}(It)||Ie.url;return Dn=new Ke({headers:on,status:It.status,statusText:Vn,url:Qt}),Dn},Wt=()=>{let{headers:Vn,status:on,statusText:Qt,url:mt}=Er(),Gt=null;204!==on&&(Gt=typeof It.response>"u"?It.responseText:It.response),0===on&&(on=Gt?200:0);let kn=on>=200&&on<300;if("json"===Ie.responseType&&"string"==typeof Gt){const Sn=Gt;Gt=Gt.replace(_i,"");try{Gt=""!==Gt?JSON.parse(Gt):null}catch(Un){Gt=Sn,kn&&(kn=!1,Gt={error:Un,text:Gt})}}kn?(lt.next(new Ne({body:Gt,headers:Vn,status:on,statusText:Qt,url:mt||void 0})),lt.complete()):lt.error(new Xe({error:Gt,headers:Vn,status:on,statusText:Qt,url:mt||void 0}))},Or=Vn=>{const{url:on}=Er(),Qt=new Xe({error:Vn,status:It.status||0,statusText:It.statusText||"Unknown Error",url:on||void 0});lt.error(Qt)};let ar=!1;const br=Vn=>{ar||(lt.next(Er()),ar=!0);let on={type:nt.DownloadProgress,loaded:Vn.loaded};Vn.lengthComputable&&(on.total=Vn.total),"text"===Ie.responseType&&!!It.responseText&&(on.partialText=It.responseText),lt.next(on)},Xn=Vn=>{let on={type:nt.UploadProgress,loaded:Vn.loaded};Vn.lengthComputable&&(on.total=Vn.total),lt.next(on)};return It.addEventListener("load",Wt),It.addEventListener("error",Or),It.addEventListener("timeout",Or),It.addEventListener("abort",Or),Ie.reportProgress&&(It.addEventListener("progress",br),null!==dn&&It.upload&&It.upload.addEventListener("progress",Xn)),It.send(dn),lt.next({type:nt.Sent}),()=>{It.removeEventListener("error",Or),It.removeEventListener("abort",Or),It.removeEventListener("load",Wt),It.removeEventListener("timeout",Or),Ie.reportProgress&&(It.removeEventListener("progress",br),null!==dn&&It.upload&&It.upload.removeEventListener("progress",Xn)),It.readyState!==It.DONE&&It.abort()}})}}return dt.\u0275fac=function(Ie){return new(Ie||dt)(ie.LFG(m.JF))},dt.\u0275prov=ie.Yz7({token:dt,factory:dt.\u0275fac}),dt})();const Ci=new ie.OlP("XSRF_COOKIE_NAME"),Pn=new ie.OlP("XSRF_HEADER_NAME");class zr{}let oi=(()=>{class dt{constructor(Ie,lt,It){this.doc=Ie,this.platform=lt,this.cookieName=It,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const Ie=this.doc.cookie||"";return Ie!==this.lastCookieString&&(this.parseCount++,this.lastToken=(0,m.Mx)(Ie,this.cookieName),this.lastCookieString=Ie),this.lastToken}}return dt.\u0275fac=function(Ie){return new(Ie||dt)(ie.LFG(m.K0),ie.LFG(ie.Lbi),ie.LFG(Ci))},dt.\u0275prov=ie.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),Hr=(()=>{class dt{constructor(Ie,lt){this.tokenService=Ie,this.headerName=lt}intercept(Ie,lt){const It=Ie.url.toLowerCase();if("GET"===Ie.method||"HEAD"===Ie.method||It.startsWith("http://")||It.startsWith("https://"))return lt.handle(Ie);const dn=this.tokenService.getToken();return null!==dn&&!Ie.headers.has(this.headerName)&&(Ie=Ie.clone({headers:Ie.headers.set(this.headerName,dn)})),lt.handle(Ie)}}return dt.\u0275fac=function(Ie){return new(Ie||dt)(ie.LFG(zr),ie.LFG(Pn))},dt.\u0275prov=ie.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),Xt=(()=>{class dt{constructor(Ie,lt){this.backend=Ie,this.injector=lt,this.chain=null}handle(Ie){if(null===this.chain){const lt=this.injector.get(Bn,[]);this.chain=lt.reduceRight((It,dn)=>new pn(It,dn),this.backend)}return this.chain.handle(Ie)}}return dt.\u0275fac=function(Ie){return new(Ie||dt)(ie.LFG(qe),ie.LFG(ie.zs3))},dt.\u0275prov=ie.Yz7({token:dt,factory:dt.\u0275fac}),dt})(),_r=(()=>{class dt{static disable(){return{ngModule:dt,providers:[{provide:Hr,useClass:zn}]}}static withOptions(Ie={}){return{ngModule:dt,providers:[Ie.cookieName?{provide:Ci,useValue:Ie.cookieName}:[],Ie.headerName?{provide:Pn,useValue:Ie.headerName}:[]]}}}return dt.\u0275fac=function(Ie){return new(Ie||dt)},dt.\u0275mod=ie.oAB({type:dt}),dt.\u0275inj=ie.cJS({providers:[Hr,{provide:Bn,useExisting:Hr,multi:!0},{provide:zr,useClass:oi},{provide:Ci,useValue:"XSRF-TOKEN"},{provide:Pn,useValue:"X-XSRF-TOKEN"}]}),dt})(),pi=(()=>{class dt{}return dt.\u0275fac=function(Ie){return new(Ie||dt)},dt.\u0275mod=ie.oAB({type:dt}),dt.\u0275inj=ie.cJS({providers:[Ut,{provide:He,useClass:Xt},ii,{provide:qe,useExisting:ii}],imports:[_r.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),dt})()},4650:(an,at,ee)=>{ee.d(at,{$8M:()=>Ls,$Z:()=>Xh,AFp:()=>Yb,ALo:()=>Jf,AaK:()=>He,Akn:()=>Ga,BQk:()=>qd,CHM:()=>ps,CRH:()=>Tb,CZH:()=>D_,CqO:()=>Pf,D6c:()=>BC,EJc:()=>tC,EpF:()=>Qy,F$t:()=>Zd,F4k:()=>Xy,FYo:()=>X,FiY:()=>hn,G48:()=>IC,Gf:()=>wb,GfV:()=>en,Gpc:()=>ve,Hsn:()=>Yd,JOm:()=>yl,Jf7:()=>iu,KtG:()=>xs,LFG:()=>vi,LSH:()=>Ns,Lbi:()=>QI,Lck:()=>gb,MAs:()=>Zy,MMx:()=>Cm,NdJ:()=>Kd,OlP:()=>ei,PXZ:()=>mC,Q6J:()=>Hg,QGY:()=>zg,QP$:()=>lr,QbO:()=>XI,Qsj:()=>ue,R0b:()=>El,RDi:()=>ip,Rgc:()=>e,SBq:()=>h,Sil:()=>rC,Suo:()=>Db,TTD:()=>Ai,TgZ:()=>Bu,Tol:()=>Ul,VKq:()=>wm,W1O:()=>xb,X6Q:()=>bC,XFs:()=>Xt,Xpm:()=>mt,Xts:()=>wa,Y36:()=>Rc,YKP:()=>oE,YNc:()=>mu,Yjl:()=>Ct,Yz7:()=>Fn,Z0I:()=>Ri,ZZ4:()=>VE,_Bn:()=>sE,_UZ:()=>Vl,_Vd:()=>Mu,_c5:()=>VC,_uU:()=>yv,aQg:()=>$E,c2e:()=>JI,cJS:()=>Wn,cg1:()=>rm,dDg:()=>hC,dqk:()=>It,eFA:()=>uI,ekj:()=>Jg,eoX:()=>oI,f3M:()=>B,g9A:()=>Xb,h0i:()=>Zc,hGG:()=>$C,hij:()=>Vf,iGM:()=>Cb,ifc:()=>lt,ip1:()=>Zb,jDz:()=>Yf,kL8:()=>kv,lG2:()=>je,lcZ:()=>Tm,lqb:()=>vo,lri:()=>iI,n5z:()=>fr,oAB:()=>Un,oxw:()=>Of,q4F:()=>On,qLn:()=>_d,qOj:()=>Bd,qZA:()=>Af,rWj:()=>sI,sBO:()=>CC,sIi:()=>Hd,s_b:()=>y,soG:()=>T_,tb:()=>Jb,tp0:()=>ir,uIk:()=>Ug,vHH:()=>ft,vpe:()=>cl,wAp:()=>dr,xp6:()=>sy,ynx:()=>yu,z2F:()=>S_,zSh:()=>tu,zs3:()=>uu});var m=ee(7579),ie=ee(727),re=ee(9751),Ve=ee(6451),Re=ee(3099);function Le(n){for(let r in n)if(n[r]===Le)return r;throw Error("Could not find renamed property on target object.")}function We(n,r){for(const o in r)r.hasOwnProperty(o)&&!n.hasOwnProperty(o)&&(n[o]=r[o])}function He(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(He).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const o=r.indexOf("\n");return-1===o?r:r.substring(0,o)}function qe(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const fe=Le({__forward_ref__:Le});function ve(n){return n.__forward_ref__=ve,n.toString=function(){return He(this())},n}function $e(n){return Pt(n)?n():n}function Pt(n){return"function"==typeof n&&n.hasOwnProperty(fe)&&n.__forward_ref__===ve}class ft extends Error{constructor(r,o){super(function rn(n,r){return`NG0${Math.abs(n)}${r?": "+r.trim():""}`}(r,o)),this.code=r}}function pt(n){return"string"==typeof n?n:null==n?"":String(n)}function bt(n,r){throw new ft(-201,!1)}function zn(n,r){null==n&&function Kt(n,r,o,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${o} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function Fn(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Wn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Tr(n){return _i(n,Pn)||_i(n,oi)}function Ri(n){return null!==Tr(n)}function _i(n,r){return n.hasOwnProperty(r)?n[r]:null}function Ci(n){return n&&(n.hasOwnProperty(zr)||n.hasOwnProperty(Hr))?n[zr]:null}const Pn=Le({\u0275prov:Le}),zr=Le({\u0275inj:Le}),oi=Le({ngInjectableDef:Le}),Hr=Le({ngInjectorDef:Le});var Xt=(()=>((Xt=Xt||{})[Xt.Default=0]="Default",Xt[Xt.Host=1]="Host",Xt[Xt.Self=2]="Self",Xt[Xt.SkipSelf=4]="SkipSelf",Xt[Xt.Optional=8]="Optional",Xt))();let fi;function _r(n){const r=fi;return fi=n,r}function pi(n,r,o){const a=Tr(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:o&Xt.Optional?null:void 0!==r?r:void bt(He(n))}function si(n){return{toString:n}.toString()}var dt=(()=>((dt=dt||{})[dt.OnPush=0]="OnPush",dt[dt.Default=1]="Default",dt))(),lt=(()=>{return(n=lt||(lt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",lt;var n})();const It=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Er={},Wt=[],Or=Le({\u0275cmp:Le}),ar=Le({\u0275dir:Le}),br=Le({\u0275pipe:Le}),Xn=Le({\u0275mod:Le}),Vn=Le({\u0275fac:Le}),on=Le({__NG_ELEMENT_ID__:Le});let Qt=0;function mt(n){return si(()=>{const o=!0===n.standalone,a={},c={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:a,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===dt.OnPush,directiveDefs:null,pipeDefs:null,standalone:o,dependencies:o&&n.dependencies||null,getStandaloneInjector:null,selectors:n.selectors||Wt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||lt.Emulated,id:"c"+Qt++,styles:n.styles||Wt,_:null,setInput:null,schemas:n.schemas||null,tView:null},f=n.dependencies,b=n.features;return c.inputs=De(n.inputs,a),c.outputs=De(n.outputs),b&&b.forEach(N=>N(c)),c.directiveDefs=f?()=>("function"==typeof f?f():f).map(kn).filter(Sn):null,c.pipeDefs=f?()=>("function"==typeof f?f():f).map(An).filter(Sn):null,c})}function kn(n){return Ye(n)||Yt(n)}function Sn(n){return null!==n}function Un(n){return si(()=>({type:n.type,bootstrap:n.bootstrap||Wt,declarations:n.declarations||Wt,imports:n.imports||Wt,exports:n.exports||Wt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function De(n,r){if(null==n)return Er;const o={};for(const a in n)if(n.hasOwnProperty(a)){let c=n[a],f=c;Array.isArray(c)&&(f=c[1],c=c[0]),o[c]=a,r&&(r[c]=f)}return o}const je=mt;function Ct(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,standalone:!0===n.standalone,onDestroy:n.type.prototype.ngOnDestroy||null}}function Ye(n){return n[Or]||null}function Yt(n){return n[ar]||null}function An(n){return n[br]||null}function lr(n){const r=Ye(n)||Yt(n)||An(n);return null!==r&&r.standalone}function Nr(n,r){const o=n[Xn]||null;if(!o&&!0===r)throw new Error(`Type ${He(n)} does not have '\u0275mod' property.`);return o}function Mr(n){return Array.isArray(n)&&"object"==typeof n[1]}function Ei(n){return Array.isArray(n)&&!0===n[1]}function Wi(n){return 0!=(8&n.flags)}function ki(n){return 2==(2&n.flags)}function Oo(n){return 1==(1&n.flags)}function kr(n){return null!==n.template}function bo(n){return 0!=(256&n[2])}function Si(n,r){return n.hasOwnProperty(Vn)?n[Vn]:null}class ts{constructor(r,o,a){this.previousValue=r,this.currentValue=o,this.firstChange=a}isFirstChange(){return this.firstChange}}function Ai(){return Is}function Is(n){return n.type.prototype.ngOnChanges&&(n.setInput=ns),Io}function Io(){const n=ao(this),r=n?.current;if(r){const o=n.previous;if(o===Er)n.previous=r;else for(let a in r)o[a]=r[a];n.current=null,this.ngOnChanges(r)}}function ns(n,r,o,a){const c=ao(n)||function Li(n,r){return n[Bs]=r}(n,{previous:Er,current:null}),f=c.current||(c.current={}),b=c.previous,N=this.declaredInputs[o],F=b[N];f[N]=new ts(F&&F.currentValue,r,b===Er),n[a]=r}Ai.ngInherit=!0;const Bs="__ngSimpleChanges__";function ao(n){return n[Bs]||null}function Lr(n){for(;Array.isArray(n);)n=n[0];return n}function Mi(n,r){return Lr(r[n])}function rr(n,r){return Lr(r[n.index])}function hs(n,r){return n.data[r]}function Zi(n,r){return n[r]}function wr(n,r){const o=r[n];return Mr(o)?o:o[0]}function Hs(n){return 64==(64&n[2])}function is(n,r){return null==r?null:n[r]}function Fo(n){n[18]=0}function Zr(n,r){n[5]+=r;let o=n,a=n[3];for(;null!==a&&(1===r&&1===o[5]||-1===r&&0===o[5]);)a[5]+=r,o=a,a=a[3]}const Nn={lFrame:O(null),bindingsEnabled:!0};function ss(){return Nn.bindingsEnabled}function Mt(){return Nn.lFrame.lView}function ur(){return Nn.lFrame.tView}function ps(n){return Nn.lFrame.contextLView=n,n[8]}function xs(n){return Nn.lFrame.contextLView=null,n}function ti(){let n=Yi();for(;null!==n&&64===n.type;)n=n.parent;return n}function Yi(){return Nn.lFrame.currentTNode}function gs(n,r){const o=Nn.lFrame;o.currentTNode=n,o.isParent=r}function $o(){return Nn.lFrame.isParent}function Ps(){Nn.lFrame.isParent=!1}function k(){const n=Nn.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function un(){return Nn.lFrame.bindingIndex++}function Ln(n){const r=Nn.lFrame,o=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,o}function ls(n,r){const o=Nn.lFrame;o.bindingIndex=o.bindingRootIndex=n,fo(r)}function fo(n){Nn.lFrame.currentDirectiveIndex=n}function ua(){return Nn.lFrame.currentQueryIndex}function po(n){Nn.lFrame.currentQueryIndex=n}function ca(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function u(n,r,o){if(o&Xt.SkipSelf){let c=r,f=n;for(;!(c=c.parent,null!==c||o&Xt.Host||(c=ca(f),null===c||(f=f[15],10&c.type))););if(null===c)return!1;r=c,n=f}const a=Nn.lFrame=w();return a.currentTNode=r,a.lView=n,!0}function x(n){const r=w(),o=n[1];Nn.lFrame=r,r.currentTNode=o.firstChild,r.lView=n,r.tView=o,r.contextLView=n,r.bindingIndex=o.bindingStartIndex,r.inI18n=!1}function w(){const n=Nn.lFrame,r=null===n?null:n.child;return null===r?O(n):r}function O(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function z(){const n=Nn.lFrame;return Nn.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const g=z;function S(){const n=z();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function V(){return Nn.lFrame.selectedIndex}function H(n){Nn.lFrame.selectedIndex=n}function W(){const n=Nn.lFrame;return hs(n.tView,n.selectedIndex)}function Me(n,r){for(let o=r.directiveStart,a=r.directiveEnd;o<a;o++){const f=n.data[o].type.prototype,{ngAfterContentInit:b,ngAfterContentChecked:N,ngAfterViewInit:F,ngAfterViewChecked:Y,ngOnDestroy:le}=f;b&&(n.contentHooks||(n.contentHooks=[])).push(-o,b),N&&((n.contentHooks||(n.contentHooks=[])).push(o,N),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(o,N)),F&&(n.viewHooks||(n.viewHooks=[])).push(-o,F),Y&&((n.viewHooks||(n.viewHooks=[])).push(o,Y),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(o,Y)),null!=le&&(n.destroyHooks||(n.destroyHooks=[])).push(o,le)}}function Ue(n,r,o){Ot(n,r,3,o)}function Nt(n,r,o,a){(3&n[2])===o&&Ot(n,r,o,a)}function At(n,r){let o=n[2];(3&o)===r&&(o&=2047,o+=1,n[2]=o)}function Ot(n,r,o,a){const f=a??-1,b=r.length-1;let N=0;for(let F=void 0!==a?65535&n[18]:0;F<b;F++)if("number"==typeof r[F+1]){if(N=r[F],null!=a&&N>=a)break}else r[F]<0&&(n[18]+=65536),(N<f||-1==f)&&(Rt(n,o,r,F),n[18]=(4294901760&n[18])+F+2),F++}function Rt(n,r,o,a){const c=o[a]<0,f=o[a+1],N=n[c?-o[a]:o[a]];if(c){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{f.call(N)}finally{}}}else try{f.call(N)}finally{}}class nn{constructor(r,o,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=o,this.injectImpl=a}}function te(n,r,o){let a=0;for(;a<o.length;){const c=o[a];if("number"==typeof c){if(0!==c)break;a++;const f=o[a++],b=o[a++],N=o[a++];n.setAttribute(r,b,N,f)}else{const f=c,b=o[++a];Te(f)?n.setProperty(r,f,b):n.setAttribute(r,f,b),a++}}return a}function be(n){return 3===n||4===n||6===n}function Te(n){return 64===n.charCodeAt(0)}function Je(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let o=-1;for(let a=0;a<r.length;a++){const c=r[a];"number"==typeof c?o=c:0===o||wt(n,o,c,null,-1===o||2===o?r[++a]:null)}}return n}function wt(n,r,o,a,c){let f=0,b=n.length;if(-1===r)b=-1;else for(;f<n.length;){const N=n[f++];if("number"==typeof N){if(N===r){b=-1;break}if(N>r){b=f-1;break}}}for(;f<n.length;){const N=n[f];if("number"==typeof N)break;if(N===o){if(null===a)return void(null!==c&&(n[f+1]=c));if(a===n[f+1])return void(n[f+2]=c)}f++,null!==a&&f++,null!==c&&f++}-1!==b&&(n.splice(b,0,r),f=b+1),n.splice(f++,0,o),null!==a&&n.splice(f++,0,a),null!==c&&n.splice(f++,0,c)}function ln(n){return-1!==n}function qt(n){return 32767&n}function jn(n,r){let o=function Mn(n){return n>>16}(n),a=r;for(;o>0;)a=a[15],o--;return a}let wn=!0;function qn(n){const r=wn;return wn=n,r}let cr=0;const Fr={};function Tn(n,r){const o=Zt(n,r);if(-1!==o)return o;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,wi(a.data,n),wi(r,null),wi(a.blueprint,null));const c=ht(n,r),f=n.injectorIndex;if(ln(c)){const b=qt(c),N=jn(c,r),F=N[1].data;for(let Y=0;Y<8;Y++)r[f+Y]=N[b+Y]|F[b+Y]}return r[f+8]=c,f}function wi(n,r){n.push(0,0,0,0,0,0,0,0,r)}function Zt(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function ht(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let o=0,a=null,c=r;for(;null!==c;){if(a=bn(c),null===a)return-1;if(o++,c=c[15],-1!==a.injectorIndex)return a.injectorIndex|o<<16}return-1}function xt(n,r,o){!function cn(n,r,o){let a;"string"==typeof o?a=o.charCodeAt(0)||0:o.hasOwnProperty(on)&&(a=o[on]),null==a&&(a=o[on]=cr++);const c=255&a;r.data[n+(c>>5)]|=1<<c}(n,r,o)}function no(n,r,o){if(o&Xt.Optional||void 0!==n)return n;bt()}function To(n,r,o,a){if(o&Xt.Optional&&void 0===a&&(a=null),0==(o&(Xt.Self|Xt.Host))){const c=n[9],f=_r(void 0);try{return c?c.get(r,a,o&Xt.Optional):pi(r,a,o&Xt.Optional)}finally{_r(f)}}return no(a,0,o)}function So(n,r,o,a=Xt.Default,c){if(null!==n){if(1024&r[2]){const b=function Jr(n,r,o,a,c){let f=n,b=r;for(;null!==f&&null!==b&&1024&b[2]&&!(256&b[2]);){const N=va(f,b,o,a|Xt.Self,Fr);if(N!==Fr)return N;let F=f.parent;if(!F){const Y=b[21];if(Y){const le=Y.get(o,Fr,a);if(le!==Fr)return le}F=bn(b),b=b[15]}f=F}return c}(n,r,o,a,Fr);if(b!==Fr)return b}const f=va(n,r,o,a,Fr);if(f!==Fr)return f}return To(r,o,a,c)}function va(n,r,o,a,c){const f=function Vr(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(on)?n[on]:void 0;return"number"==typeof r?r>=0?255&r:Kn:r}(o);if("function"==typeof f){if(!u(r,n,a))return a&Xt.Host?no(c,0,a):To(r,o,a,c);try{const b=f(a);if(null!=b||a&Xt.Optional)return b;bt()}finally{g()}}else if("number"==typeof f){let b=null,N=Zt(n,r),F=-1,Y=a&Xt.Host?r[16][6]:null;for((-1===N||a&Xt.SkipSelf)&&(F=-1===N?ht(n,r):r[N+8],-1!==F&&ks(a,!1)?(b=r[1],N=qt(F),r=jn(F,r)):N=-1);-1!==N;){const le=r[1];if(Qi(f,N,le.data)){const ye=xn(N,r,o,b,a,Y);if(ye!==Fr)return ye}F=r[N+8],-1!==F&&ks(a,r[1].data[N+8]===Y)&&Qi(f,N,r)?(b=le,N=qt(F),r=jn(F,r)):N=-1}}return c}function xn(n,r,o,a,c,f){const b=r[1],N=b.data[n+8],le=Rn(N,b,o,null==a?ki(N)&&wn:a!=b&&0!=(3&N.type),c&Xt.Host&&f===N);return null!==le?Hn(r,b,le,N):Fr}function Rn(n,r,o,a,c){const f=n.providerIndexes,b=r.data,N=1048575&f,F=n.directiveStart,le=f>>20,Ge=c?N+le:n.directiveEnd;for(let ot=a?N:N+le;ot<Ge;ot++){const kt=b[ot];if(ot<F&&o===kt||ot>=F&&kt.type===o)return ot}if(c){const ot=b[F];if(ot&&kr(ot)&&ot.type===o)return F}return null}function Hn(n,r,o,a){let c=n[o];const f=r.data;if(function Lt(n){return n instanceof nn}(c)){const b=c;b.resolving&&function gn(n,r){const o=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new ft(-200,`Circular dependency in DI detected for ${n}${o}`)}(function ut(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():pt(n)}(f[o]));const N=qn(b.canSeeViewProviders);b.resolving=!0;const F=b.injectImpl?_r(b.injectImpl):null;u(n,a,Xt.Default);try{c=n[o]=b.factory(void 0,f,n,a),r.firstCreatePass&&o>=a.directiveStart&&function Be(n,r,o){const{ngOnChanges:a,ngOnInit:c,ngDoCheck:f}=r.type.prototype;if(a){const b=Is(r);(o.preOrderHooks||(o.preOrderHooks=[])).push(n,b),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,b)}c&&(o.preOrderHooks||(o.preOrderHooks=[])).push(0-n,c),f&&((o.preOrderHooks||(o.preOrderHooks=[])).push(n,f),(o.preOrderCheckHooks||(o.preOrderCheckHooks=[])).push(n,f))}(o,f[o],r)}finally{null!==F&&_r(F),qn(N),b.resolving=!1,g()}}return c}function Qi(n,r,o){return!!(o[r+(n>>5)]&1<<n)}function ks(n,r){return!(n&Xt.Self||n&Xt.Host&&r)}class $i{constructor(r,o){this._tNode=r,this._lView=o}get(r,o,a){return So(this._tNode,this._lView,r,a,o)}}function Kn(){return new $i(ti(),Mt())}function fr(n){return si(()=>{const r=n.prototype.constructor,o=r[Vn]||_a(r),a=Object.prototype;let c=Object.getPrototypeOf(n.prototype).constructor;for(;c&&c!==a;){const f=c[Vn]||_a(c);if(f&&f!==o)return f;c=Object.getPrototypeOf(c)}return f=>new f})}function _a(n){return Pt(n)?()=>{const r=_a($e(n));return r&&r()}:Si(n)}function bn(n){const r=n[1],o=r.type;return 2===o?r.declTNode:1===o?n[6]:null}function Ls(n){return function Di(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const o=n.attrs;if(o){const a=o.length;let c=0;for(;c<a;){const f=o[c];if(be(f))break;if(0===f)c+=2;else if("number"==typeof f)for(c++;c<a&&"string"==typeof o[c];)c++;else{if(f===r)return o[c+1];c+=2}}}return null}(ti(),n)}const go="__parameters__";function da(n,r,o){return si(()=>{const a=function Aa(n){return function(...o){if(n){const a=n(...o);for(const c in a)this[c]=a[c]}}}(r);function c(...f){if(this instanceof c)return a.apply(this,f),this;const b=new c(...f);return N.annotation=b,N;function N(F,Y,le){const ye=F.hasOwnProperty(go)?F[go]:Object.defineProperty(F,go,{value:[]})[go];for(;ye.length<=le;)ye.push(null);return(ye[le]=ye[le]||[]).push(b),F}}return o&&(c.prototype=Object.create(o.prototype)),c.prototype.ngMetadataName=n,c.annotationCls=c,c})}class ei{constructor(r,o){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof o?this.__NG_ELEMENT_ID__=o:void 0!==o&&(this.\u0275prov=Fn({token:this,providedIn:o.providedIn||"root",factory:o.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function ws(n,r){void 0===r&&(r=n);for(let o=0;o<n.length;o++){let a=n[o];Array.isArray(a)?(r===n&&(r=n.slice(0,o)),ws(a,r)):r!==n&&r.push(a)}return r}function Bo(n,r){n.forEach(o=>Array.isArray(o)?Bo(o,r):r(o))}function Ea(n,r,o){r>=n.length?n.push(o):n.splice(r,0,o)}function Ra(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function na(n,r){const o=[];for(let a=0;a<n;a++)o.push(r);return o}function Gr(n,r,o){let a=D(n,r);return a>=0?n[1|a]=o:(a=~a,function qs(n,r,o,a){let c=n.length;if(c==r)n.push(o,a);else if(1===c)n.push(a,n[0]),n[0]=o;else{for(c--,n.push(n[c-1],n[c]);c>r;)n[c]=n[c-2],c--;n[r]=o,n[r+1]=a}}(n,a,r,o)),a}function ka(n,r){const o=D(n,r);if(o>=0)return n[1|o]}function D(n,r){return function I(n,r,o){let a=0,c=n.length>>o;for(;c!==a;){const f=a+(c-a>>1),b=n[f<<o];if(r===b)return f<<o;b>r?c=f:a=f+1}return~(c<<o)}(n,r,1)}const xr={},ms="__NG_DI_FLAG__",jo="ngTempTokenPath",Fs=/\n/gm,$a="__source";let Ao;function ha(n){const r=Ao;return Ao=n,r}function Ba(n,r=Xt.Default){if(void 0===Ao)throw new ft(-203,!1);return null===Ao?pi(n,void 0,r):Ao.get(n,r&Xt.Optional?null:void 0,r)}function vi(n,r=Xt.Default){return(function Cr(){return fi}()||Ba)($e(n),r)}function B(n,r=Xt.Default){return"number"!=typeof r&&(r=0|(r.optional&&8)|(r.host&&1)|(r.self&&2)|(r.skipSelf&&4)),vi(n,r)}function Z(n){const r=[];for(let o=0;o<n.length;o++){const a=$e(n[o]);if(Array.isArray(a)){if(0===a.length)throw new ft(900,!1);let c,f=Xt.Default;for(let b=0;b<a.length;b++){const N=a[b],F=we(N);"number"==typeof F?-1===F?c=N.token:f|=F:c=N}r.push(vi(c,f))}else r.push(vi(a))}return r}function se(n,r){return n[ms]=r,n.prototype[ms]=r,n}function we(n){return n[ms]}const hn=se(da("Optional"),8),ir=se(da("SkipSelf"),4);let td;function ip(n){td=n}class ql{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ba(n){return n instanceof ql?n.changingThisBreaksApplicationSecurity:n}const Ia=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var cs=(()=>((cs=cs||{})[cs.NONE=0]="NONE",cs[cs.HTML=1]="HTML",cs[cs.STYLE=2]="STYLE",cs[cs.SCRIPT=3]="SCRIPT",cs[cs.URL=4]="URL",cs[cs.RESOURCE_URL=5]="RESOURCE_URL",cs))();function Ns(n){const r=function Dl(){const n=Mt();return n&&n[12]}();return r?r.sanitize(cs.URL,n)||"":function Cl(n,r){const o=function rd(n){return n instanceof ql&&n.getTypeName()||null}(n);if(null!=o&&o!==r){if("ResourceURL"===o&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${o} (see https://g.co/ng/security#xss)`)}return o===r}(n,"URL")?ba(n):function tl(n){return(n=String(n)).match(Ia)?n:"unsafe:"+n}(pt(n))}const wa=new ei("ENVIRONMENT_INITIALIZER"),dd=new ei("INJECTOR",-1),Jl=new ei("INJECTOR_DEF_TYPES");class Th{get(r,o=xr){if(o===xr){const a=new Error(`NullInjectorError: No provider for ${He(r)}!`);throw a.name="NullInjectorError",a}return o}}function Sh(...n){return{\u0275providers:Dr(0,n)}}function Dr(n,...r){const o=[],a=new Set;let c;return Bo(r,f=>{const b=f;Tl(b,o,[],a)&&(c||(c=[]),c.push(b))}),void 0!==c&&ac(c,o),o}function ac(n,r){for(let o=0;o<n.length;o++){const{providers:c}=n[o];Bo(c,f=>{r.push(f)})}}function Tl(n,r,o,a){if(!(n=$e(n)))return!1;let c=null,f=Ci(n);const b=!f&&Ye(n);if(f||b){if(b&&!b.standalone)return!1;c=n}else{const F=n.ngModule;if(f=Ci(F),!f)return!1;c=F}const N=a.has(c);if(b){if(N)return!1;if(a.add(c),b.dependencies){const F="function"==typeof b.dependencies?b.dependencies():b.dependencies;for(const Y of F)Tl(Y,r,o,a)}}else{if(!f)return!1;{if(null!=f.imports&&!N){let Y;a.add(c);try{Bo(f.imports,le=>{Tl(le,r,o,a)&&(Y||(Y=[]),Y.push(le))})}finally{}void 0!==Y&&ac(Y,r)}if(!N){const Y=Si(c)||(()=>new c);r.push({provide:c,useFactory:Y,deps:Wt},{provide:Jl,useValue:c,multi:!0},{provide:wa,useValue:()=>vi(c),multi:!0})}const F=f.providers;null==F||N||Bo(F,le=>{r.push(le)})}}return c!==n&&void 0!==n.providers}const Sl=Le({provide:String,useValue:Le});function eu(n){return null!==n&&"object"==typeof n&&Sl in n}function rl(n){return"function"==typeof n}const tu=new ei("Set Injector scope."),Ml={},gp={};let uc;function cc(){return void 0===uc&&(uc=new Th),uc}class vo{}class dc extends vo{constructor(r,o,a,c){super(),this.parent=o,this.source=a,this.scopes=c,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,ml(r,b=>this.processProvider(b)),this.records.set(dd,Ds(void 0,this)),c.has("environment")&&this.records.set(vo,Ds(void 0,this));const f=this.records.get(tu);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(Jl.multi,Wt,Xt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const r of this._ngOnDestroyHooks)r.ngOnDestroy();for(const r of this._onDestroyHooks)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(r){this._onDestroyHooks.push(r)}runInContext(r){this.assertNotDestroyed();const o=ha(this),a=_r(void 0);try{return r()}finally{ha(o),_r(a)}}get(r,o=xr,a=Xt.Default){this.assertNotDestroyed();const c=ha(this),f=_r(void 0);try{if(!(a&Xt.SkipSelf)){let N=this.records.get(r);if(void 0===N){const F=function Ah(n){return"function"==typeof n||"object"==typeof n&&n instanceof ei}(r)&&Tr(r);N=F&&this.injectableDefInScope(F)?Ds(hd(r),Ml):null,this.records.set(r,N)}if(null!=N)return this.hydrate(r,N)}return(a&Xt.Self?cc():this.parent).get(r,o=a&Xt.Optional&&o===xr?null:o)}catch(b){if("NullInjectorError"===b.name){if((b[jo]=b[jo]||[]).unshift(He(r)),c)throw b;return function Qe(n,r,o,a){const c=n[jo];throw r[$a]&&c.unshift(r[$a]),n.message=function gt(n,r,o,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let c=He(r);if(Array.isArray(r))c=r.map(He).join(" -> ");else if("object"==typeof r){let f=[];for(let b in r)if(r.hasOwnProperty(b)){let N=r[b];f.push(b+":"+("string"==typeof N?JSON.stringify(N):He(N)))}c=`{${f.join(", ")}}`}return`${o}${a?"("+a+")":""}[${c}]: ${n.replace(Fs,"\n  ")}`}("\n"+n.message,c,o,a),n.ngTokenPath=c,n[jo]=null,n}(b,r,"R3InjectorError",this.source)}throw b}finally{_r(f),ha(c)}}resolveInjectorInitializers(){const r=ha(this),o=_r(void 0);try{const a=this.get(wa.multi,Wt,Xt.Self);for(const c of a)c()}finally{ha(r),_r(o)}}toString(){const r=[],o=this.records;for(const a of o.keys())r.push(He(a));return`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ft(205,!1)}processProvider(r){let o=rl(r=$e(r))?r:$e(r&&r.provide);const a=function fd(n){return eu(n)?Ds(void 0,n.useValue):Ds(hc(n),Ml)}(r);if(rl(r)||!0!==r.multi)this.records.get(o);else{let c=this.records.get(o);c||(c=Ds(void 0,Ml,!0),c.factory=()=>Z(c.multi),this.records.set(o,c)),o=r,c.multi.push(r)}this.records.set(o,a)}hydrate(r,o){return o.value===Ml&&(o.value=gp,o.value=o.factory()),"object"==typeof o.value&&o.value&&function Au(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(o.value)&&this._ngOnDestroyHooks.add(o.value),o.value}injectableDefInScope(r){if(!r.providedIn)return!1;const o=$e(r.providedIn);return"string"==typeof o?"any"===o||this.scopes.has(o):this.injectorDefTypes.has(o)}}function hd(n){const r=Tr(n),o=null!==r?r.factory:Si(n);if(null!==o)return o;if(n instanceof ei)throw new ft(204,!1);if(n instanceof Function)return function _o(n){const r=n.length;if(r>0)throw na(r,"?"),new ft(204,!1);const o=function mr(n){const r=n&&(n[Pn]||n[oi]);if(r){const o=function ii(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${o}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${o}" class.`),r}return null}(n);return null!==o?()=>o.factory(n):()=>new n}(n);throw new ft(204,!1)}function hc(n,r,o){let a;if(rl(n)){const c=$e(n);return Si(c)||hd(c)}if(eu(n))a=()=>$e(n.useValue);else if(function Al(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Z(n.deps||[]));else if(function Jo(n){return!(!n||!n.useExisting)}(n))a=()=>vi($e(n.useExisting));else{const c=$e(n&&(n.useClass||n.provide));if(!function Da(n){return!!n.deps}(n))return Si(c)||hd(c);a=()=>new c(...Z(n.deps))}return a}function Ds(n,r,o=!1){return{factory:n,value:r,multi:o?[]:void 0}}function ga(n){return!!n.\u0275providers}function ml(n,r){for(const o of n)Array.isArray(o)?ml(o,r):ga(o)?ml(o.\u0275providers,r):r(o)}class fc{}class gd{resolveComponentFactory(r){throw function mp(n){const r=Error(`No component factory found for ${He(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Mu=(()=>{class n{}return n.NULL=new gd,n})();function Mh(){return E(ti(),Mt())}function E(n,r){return new h(rr(n,r))}let h=(()=>{class n{constructor(o){this.nativeElement=o}}return n.__NG_ELEMENT_ID__=Mh,n})();function p(n){return n instanceof h?n.nativeElement:n}class X{}let ue=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function ze(){const n=Mt(),o=wr(ti().index,n);return(Mr(o)?o:n)[11]}(),n})(),_t=(()=>{class n{}return n.\u0275prov=Fn({token:n,providedIn:"root",factory:()=>null}),n})();class en{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const On=new en("14.2.10"),or={};function Ep(n){return n.ngOriginalError}class _d{constructor(){this._console=console}handleError(r){const o=this._findOriginalError(r);this._console.error("ERROR",r),o&&this._console.error("ORIGINAL ERROR",o)}_findOriginalError(r){let o=r&&Ep(r);for(;o&&Ep(o);)o=Ep(o);return o||null}}const Eo=new Map;let Ip=0;const Pl="__ngContext__";function Ks(n,r){Mr(r)?(n[Pl]=r[20],function wp(n){Eo.set(n[20],n)}(r)):n[Pl]=r}function iu(n){return n.ownerDocument.defaultView}function Ol(n){return n instanceof Function?n():n}var yl=(()=>((yl=yl||{})[yl.Important=1]="Important",yl[yl.DashCase=2]="DashCase",yl))();function Cc(n,r){return undefined(n,r)}function su(n){const r=n[3];return Ei(r)?r[3]:r}function Rh(n){return Np(n[13])}function sa(n){return Np(n[4])}function Np(n){for(;null!==n&&!Ei(n);)n=n[4];return n}function Rl(n,r,o,a,c){if(null!=a){let f,b=!1;Ei(a)?f=a:Mr(a)&&(b=!0,a=a[0]);const N=Lr(a);0===n&&null!==o?null==c?Fp(r,o,N):Pu(r,o,N,c||null,!0):1===n&&null!==o?Pu(r,o,N,c||null,!0):2===n?function Bp(n,r,o){const a=Td(n,r);a&&function Dd(n,r,o,a){n.removeChild(r,o,a)}(n,a,r,o)}(r,N,b):3===n&&r.destroyNode(N),null!=f&&function Hp(n,r,o,a,c){const f=o[7];f!==Lr(o)&&Rl(r,n,a,f,c);for(let N=10;N<o.length;N++){const F=o[N];lu(F[1],F,n,r,a,f)}}(r,n,f,o,c)}}function Lh(n,r,o){return n.createElement(r,o)}function Gm(n,r){const o=n[9],a=o.indexOf(r),c=r[3];512&r[2]&&(r[2]&=-513,Zr(c,-1)),o.splice(a,1)}function Rp(n,r){if(n.length<=10)return;const o=10+r,a=n[o];if(a){const c=a[17];null!==c&&c!==n&&Gm(c,a),r>0&&(n[o-1][4]=a[4]);const f=Ra(n,10+r);!function xu(n,r){lu(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const b=f[19];null!==b&&b.detachView(f[1]),a[3]=null,a[4]=null,a[2]&=-65}return a}function Wm(n,r){if(!(128&r[2])){const o=r[11];o.destroyNode&&lu(n,r,o,3,null,null),function Hm(n){let r=n[13];if(!r)return kp(n[1],n);for(;r;){let o=null;if(Mr(r))o=r[13];else{const a=r[10];a&&(o=a)}if(!o){for(;r&&!r[4]&&r!==n;)Mr(r)&&kp(r[1],r),r=r[3];null===r&&(r=n),Mr(r)&&kp(r[1],r),o=r&&r[4]}r=o}}(r)}}function kp(n,r){if(!(128&r[2])){r[2]&=-65,r[2]|=128,function qm(n,r){let o;if(null!=n&&null!=(o=n.destroyHooks))for(let a=0;a<o.length;a+=2){const c=r[o[a]];if(!(c instanceof nn)){const f=o[a+1];if(Array.isArray(f))for(let b=0;b<f.length;b+=2){const N=c[f[b]],F=f[b+1];try{F.call(N)}finally{}}else try{f.call(c)}finally{}}}}(n,r),function Fh(n,r){const o=n.cleanup,a=r[7];let c=-1;if(null!==o)for(let f=0;f<o.length-1;f+=2)if("string"==typeof o[f]){const b=o[f+1],N="function"==typeof b?b(r):Lr(r[b]),F=a[c=o[f+2]],Y=o[f+3];"boolean"==typeof Y?N.removeEventListener(o[f],F,Y):Y>=0?a[c=Y]():a[c=-Y].unsubscribe(),f+=2}else{const b=a[c=o[f+1]];o[f].call(b)}if(null!==a){for(let f=c+1;f<a.length;f++)(0,a[f])();r[7]=null}}(n,r),1===r[1].type&&r[11].destroy();const o=r[17];if(null!==o&&Ei(r[3])){o!==r[3]&&Gm(o,r);const a=r[19];null!==a&&a.detachView(n)}!function Fm(n){Eo.delete(n[20])}(r)}}function Km(n,r,o){return function Lp(n,r,o){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return o[0];if(2&a.flags){const c=n.data[a.directiveStart].encapsulation;if(c===lt.None||c===lt.Emulated)return null}return rr(a,o)}(n,r.parent,o)}function Pu(n,r,o,a,c){n.insertBefore(r,o,a,c)}function Fp(n,r,o){n.appendChild(r,o)}function au(n,r,o,a,c){null!==a?Pu(n,r,o,a,c):Fp(n,r,o)}function Td(n,r){return n.parentNode(r)}function Vp(n,r,o){return Ym(n,r,o)}let Ym=function Zm(n,r,o){return 40&n.type?rr(n,o):null};function Vh(n,r,o,a){const c=Km(n,a,r),f=r[11],N=Vp(a.parent||r[6],a,r);if(null!=c)if(Array.isArray(o))for(let F=0;F<o.length;F++)au(f,c,o[F],N,!1);else au(f,c,o,N,!1)}function $h(n,r){if(null!==r){const o=r.type;if(3&o)return rr(r,n);if(4&o)return $p(-1,n[r.index]);if(8&o){const a=r.child;if(null!==a)return $h(n,a);{const c=n[r.index];return Ei(c)?$p(-1,c):Lr(c)}}if(32&o)return Cc(r,n)()||Lr(n[r.index]);{const a=Qm(n,r);return null!==a?Array.isArray(a)?a[0]:$h(su(n[16]),a):$h(n,r.next)}}return null}function Qm(n,r){return null!==r?n[16][6].projection[r.projection]:null}function $p(n,r){const o=10+n+1;if(o<r.length){const a=r[o],c=a[1].firstChild;if(null!==c)return $h(a,c)}return r[7]}function Up(n,r,o,a,c,f,b){for(;null!=o;){const N=a[o.index],F=o.type;if(b&&0===r&&(N&&Ks(Lr(N),a),o.flags|=4),64!=(64&o.flags))if(8&F)Up(n,r,o.child,a,c,f,!1),Rl(r,n,c,N,f);else if(32&F){const Y=Cc(o,a);let le;for(;le=Y();)Rl(r,n,c,le,f);Rl(r,n,c,N,f)}else 16&F?jp(n,r,a,o,c,f):Rl(r,n,c,N,f);o=b?o.projectionNext:o.next}}function lu(n,r,o,a,c,f){Up(o,a,n.firstChild,r,c,f,!1)}function jp(n,r,o,a,c,f){const b=o[16],F=b[6].projection[a.projection];if(Array.isArray(F))for(let Y=0;Y<F.length;Y++)Rl(r,n,c,F[Y],f);else Up(n,r,F,b[3],c,f,!0)}function Tc(n,r,o){n.setAttribute(r,"style",o)}function Sc(n,r,o){""===o?n.removeAttribute(r,"class"):n.setAttribute(r,"class",o)}function Bh(n,r,o){let a=n.length;for(;;){const c=n.indexOf(r,o);if(-1===c)return c;if(0===c||n.charCodeAt(c-1)<=32){const f=r.length;if(c+f===a||n.charCodeAt(c+f)<=32)return c}o=c+1}}const Gp="ng-template";function H_(n,r,o){let a=0;for(;a<n.length;){let c=n[a++];if(o&&"class"===c){if(c=n[a],-1!==Bh(c.toLowerCase(),r,0))return!0}else if(1===c){for(;a<n.length&&"string"==typeof(c=n[a++]);)if(c.toLowerCase()===r)return!0;return!1}}return!1}function Wp(n){return 4===n.type&&n.value!==Gp}function Jm(n,r,o){return r===(4!==n.type||o?n.value:Gp)}function qp(n,r,o){let a=4;const c=n.attrs||[],f=function z_(n){for(let r=0;r<n.length;r++)if(be(n[r]))return r;return n.length}(c);let b=!1;for(let N=0;N<r.length;N++){const F=r[N];if("number"!=typeof F){if(!b)if(4&a){if(a=2|1&a,""!==F&&!Jm(n,F,o)||""===F&&1===r.length){if(il(a))return!1;b=!0}}else{const Y=8&a?F:r[++N];if(8&a&&null!==n.attrs){if(!H_(n.attrs,Y,o)){if(il(a))return!1;b=!0}continue}const ye=ey(8&a?"class":F,c,Wp(n),o);if(-1===ye){if(il(a))return!1;b=!0;continue}if(""!==Y){let Ge;Ge=ye>f?"":c[ye+1].toLowerCase();const ot=8&a?Ge:null;if(ot&&-1!==Bh(ot,Y,0)||2&a&&Y!==Ge){if(il(a))return!1;b=!0}}}}else{if(!b&&!il(a)&&!il(F))return!1;if(b&&il(F))continue;b=!1,a=F|1&a}}return il(a)||b}function il(n){return 0==(1&n)}function ey(n,r,o,a){if(null===r)return-1;let c=0;if(a||!o){let f=!1;for(;c<r.length;){const b=r[c];if(b===n)return c;if(3===b||6===b)f=!0;else{if(1===b||2===b){let N=r[++c];for(;"string"==typeof N;)N=r[++c];continue}if(4===b)break;if(0===b){c+=4;continue}}c+=f?1:2}return-1}return function Ac(n,r){let o=n.indexOf(4);if(o>-1)for(o++;o<n.length;){const a=n[o];if("number"==typeof a)return-1;if(a===r)return o;o++}return-1}(r,n)}function ty(n,r,o=!1){for(let a=0;a<r.length;a++)if(qp(n,r[a],o))return!0;return!1}function Mc(n,r){e:for(let o=0;o<r.length;o++){const a=r[o];if(n.length===a.length){for(let c=0;c<n.length;c++)if(n[c]!==a[c])continue e;return!0}}return!1}function Uh(n,r){return n?":not("+r.trim()+")":r}function jh(n){let r=n[0],o=1,a=2,c="",f=!1;for(;o<n.length;){let b=n[o];if("string"==typeof b)if(2&a){const N=n[++o];c+="["+b+(N.length>0?'="'+N+'"':"")+"]"}else 8&a?c+="."+b:4&a&&(c+=" "+b);else""!==c&&!il(b)&&(r+=Uh(f,c),c=""),a=b,f=f||!il(a);o++}return""!==c&&(r+=Uh(f,c)),r}const Pr={};function sy(n){Hh(ur(),Mt(),V()+n,!1)}function Hh(n,r,o,a){if(!a)if(3==(3&r[2])){const f=n.preOrderCheckHooks;null!==f&&Ue(r,f,o)}else{const f=n.preOrderHooks;null!==f&&Nt(r,f,0,o)}H(o)}function Gh(n,r=null,o=null,a){const c=Wh(n,r,o,a);return c.resolveInjectorInitializers(),c}function Wh(n,r=null,o=null,a,c=new Set){const f=[o||Wt,Sh(n)];return a=a||("object"==typeof n?void 0:He(n)),new dc(f,r||cc(),a||null,c)}let uu=(()=>{class n{static create(o,a){if(Array.isArray(o))return Gh({name:""},a,o,"");{const c=o.name??"";return Gh({name:c},o.parent,o.providers,c)}}}return n.THROW_IF_NOT_FOUND=xr,n.NULL=new Th,n.\u0275prov=Fn({token:n,providedIn:"any",factory:()=>vi(dd)}),n.__NG_ELEMENT_ID__=-1,n})();function Rc(n,r=Xt.Default){const o=Mt();return null===o?vi(n,r):So(ti(),o,$e(n),r)}function Xh(){throw new Error("invalid")}function kc(n,r){return n<<17|r<<2}function Ta(n){return n>>17&32767}function du(n){return 2|n}function sl(n){return(131068&n)>>2}function rg(n,r){return-131069&n|r<<2}function ef(n){return 1|n}function rf(n,r){const o=n.contentQueries;if(null!==o)for(let a=0;a<o.length;a+=2){const c=o[a],f=o[a+1];if(-1!==f){const b=n.data[f];po(c),b.contentQueries(2,r[f],f)}}}function sf(n,r,o,a,c,f,b,N,F,Y,le){const ye=r.blueprint.slice();return ye[0]=c,ye[2]=76|a,(null!==le||n&&1024&n[2])&&(ye[2]|=1024),Fo(ye),ye[3]=ye[15]=n,ye[8]=o,ye[10]=b||n&&n[10],ye[11]=N||n&&n[11],ye[12]=F||n&&n[12]||null,ye[9]=Y||n&&n[9]||null,ye[6]=f,ye[20]=function Cp(){return Ip++}(),ye[21]=le,ye[16]=2==r.type?n[16]:ye,ye}function fu(n,r,o,a,c){let f=n.data[r];if(null===f)f=function af(n,r,o,a,c){const f=Yi(),b=$o(),F=n.data[r]=function My(n,r,o,a,c,f){return{type:o,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:c,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,b?f:f&&f.parent,o,r,a,c);return null===n.firstChild&&(n.firstChild=F),null!==f&&(b?null==f.child&&null!==F.parent&&(f.child=F):null===f.next&&(f.next=F)),F}(n,r,o,a,c),function as(){return Nn.lFrame.inI18n}()&&(f.flags|=64);else if(64&f.type){f.type=o,f.value=a,f.attrs=c;const b=function os(){const n=Nn.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();f.injectorIndex=null===b?-1:b.injectorIndex}return gs(f,!0),f}function pu(n,r,o,a){if(0===o)return-1;const c=r.length;for(let f=0;f<o;f++)r.push(a),n.blueprint.push(a),n.data.push(null);return c}function lf(n,r,o){x(r);try{const a=n.viewQuery;null!==a&&vf(1,a,o);const c=n.template;null!==c&&cf(n,r,c,1,o),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&rf(n,r),n.staticViewQueries&&vf(2,n.viewQuery,o);const f=n.components;null!==f&&function vg(n,r){for(let o=0;o<r.length;o++)Pg(n,r[o])}(r,f)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,S()}}function uf(n,r,o,a){const c=r[2];if(128!=(128&c)){x(r);try{Fo(r),function ct(n){return Nn.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==o&&cf(n,r,o,2,a);const b=3==(3&c);if(b){const Y=n.preOrderCheckHooks;null!==Y&&Ue(r,Y,null)}else{const Y=n.preOrderHooks;null!==Y&&Nt(r,Y,0,null),At(r,0)}if(function Fy(n){for(let r=Rh(n);null!==r;r=sa(r)){if(!r[2])continue;const o=r[9];for(let a=0;a<o.length;a++){const c=o[a],f=c[3];0==(512&c[2])&&Zr(f,1),c[2]|=512}}}(r),function Ly(n){for(let r=Rh(n);null!==r;r=sa(r))for(let o=10;o<r.length;o++){const a=r[o],c=a[1];Hs(a)&&uf(c,a,c.template,a[8])}}(r),null!==n.contentQueries&&rf(n,r),b){const Y=n.contentCheckHooks;null!==Y&&Ue(r,Y)}else{const Y=n.contentHooks;null!==Y&&Nt(r,Y,1),At(r,1)}!function yg(n,r){const o=n.hostBindingOpCodes;if(null!==o)try{for(let a=0;a<o.length;a++){const c=o[a];if(c<0)H(~c);else{const f=c,b=o[++a],N=o[++a];ls(b,f),N(2,r[f])}}}finally{H(-1)}}(n,r);const N=n.components;null!==N&&function t0(n,r){for(let o=0;o<r.length;o++)u0(n,r[o])}(r,N);const F=n.viewQuery;if(null!==F&&vf(2,F,a),b){const Y=n.viewCheckHooks;null!==Y&&Ue(r,Y)}else{const Y=n.viewHooks;null!==Y&&Nt(r,Y,2),At(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),r[2]&=-41,512&r[2]&&(r[2]&=-513,Zr(r[3],-1))}finally{S()}}}function cf(n,r,o,a,c){const f=V(),b=2&a;try{H(-1),b&&r.length>22&&Hh(n,r,22,!1),o(a,c)}finally{H(f)}}function Sy(n,r,o){if(Wi(r)){const c=r.directiveEnd;for(let f=r.directiveStart;f<c;f++){const b=n.data[f];b.contentQueries&&b.contentQueries(1,o[f],f)}}}function kd(n,r,o){!ss()||(function Dg(n,r,o,a){const c=o.directiveStart,f=o.directiveEnd;n.firstCreatePass||Tn(o,r),Ks(a,r);const b=o.initialInputs;for(let N=c;N<f;N++){const F=n.data[N],Y=kr(F);Y&&l0(r,o,F);const le=Hn(r,n,N,o);Ks(le,r),null!==b&&Mg(0,N-c,le,F,0,b),Y&&(wr(o.index,r)[8]=le)}}(n,r,o,rr(o,r)),128==(128&o.flags)&&function o0(n,r,o){const a=o.directiveStart,c=o.directiveEnd,f=o.index,b=function Do(){return Nn.lFrame.currentDirectiveIndex}();try{H(f);for(let N=a;N<c;N++){const F=n.data[N],Y=r[N];fo(N),(null!==F.hostBindings||0!==F.hostVars||null!==F.hostAttrs)&&gf(F,Y)}}finally{H(-1),fo(b)}}(n,r,o))}function _g(n,r,o=rr){const a=r.localNames;if(null!==a){let c=r.index+1;for(let f=0;f<a.length;f+=2){const b=a[f+1],N=-1===b?o(r,n):n[b];n[c++]=N}}}function df(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Eg(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Eg(n,r,o,a,c,f,b,N,F,Y){const le=22+a,ye=le+c,Ge=function bg(n,r){const o=[];for(let a=0;a<r;a++)o.push(a<n?null:Pr);return o}(le,ye),ot="function"==typeof Y?Y():Y;return Ge[1]={type:n,blueprint:Ge,template:o,queries:null,viewQuery:N,declTNode:r,data:Ge.slice().fill(null,le),bindingStartIndex:le,expandoStartIndex:ye,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof b?b():b,firstChild:null,schemas:F,consts:ot,incompleteFirstPass:!1}}function ku(n,r,o,a){const c=Ng(r);null===o?c.push(a):(c.push(o),n.firstCreatePass&&Vc(n).push(a,c.length-1))}function hf(n,r,o){for(let a in n)if(n.hasOwnProperty(a)){const c=n[a];(o=null===o?{}:o).hasOwnProperty(a)?o[a].push(r,c):o[a]=[r,c]}return o}function xy(n,r){const a=r.directiveEnd,c=n.data,f=r.attrs,b=[];let N=null,F=null;for(let Y=r.directiveStart;Y<a;Y++){const le=c[Y],ye=le.inputs,Ge=null===f||Wp(r)?null:xg(ye,f);b.push(Ge),N=hf(ye,Y,N),F=hf(le.outputs,Y,F)}null!==N&&(N.hasOwnProperty("class")&&(r.flags|=16),N.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=b,r.inputs=N,r.outputs=F}function ff(n,r){const o=wr(r,n);16&o[2]||(o[2]|=32)}function wg(n,r,o,a){let c=!1;if(ss()){const f=function a0(n,r,o){const a=n.directiveRegistry;let c=null;if(a)for(let f=0;f<a.length;f++){const b=a[f];ty(o,b.selectors,!1)&&(c||(c=[]),xt(Tn(o,r),n,b.type),kr(b)?(mf(n,o),c.unshift(b)):c.push(b))}return c}(n,r,o),b=null===a?null:{"":-1};if(null!==f){c=!0,Sg(o,n.data.length,f.length);for(let le=0;le<f.length;le++){const ye=f[le];ye.providersResolver&&ye.providersResolver(ye)}let N=!1,F=!1,Y=pu(n,r,f.length,null);for(let le=0;le<f.length;le++){const ye=f[le];o.mergedAttrs=Je(o.mergedAttrs,ye.hostAttrs),Oy(n,o,r,Y,ye),Tg(Y,ye,b),null!==ye.contentQueries&&(o.flags|=8),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(o.flags|=128);const Ge=ye.type.prototype;!N&&(Ge.ngOnChanges||Ge.ngOnInit||Ge.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(o.index),N=!0),!F&&(Ge.ngOnChanges||Ge.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(o.index),F=!0),Y++}xy(n,o)}b&&function Ny(n,r,o){if(r){const a=n.localNames=[];for(let c=0;c<r.length;c+=2){const f=o[r[c+1]];if(null==f)throw new ft(-301,!1);a.push(r[c],f)}}}(o,a,b)}return o.mergedAttrs=Je(o.mergedAttrs,o.attrs),c}function pf(n,r,o,a,c,f){const b=f.hostBindings;if(b){let N=n.hostBindingOpCodes;null===N&&(N=n.hostBindingOpCodes=[]);const F=~r.index;(function s0(n){let r=n.length;for(;r>0;){const o=n[--r];if("number"==typeof o&&o<0)return o}return 0})(N)!=F&&N.push(F),N.push(a,c,b)}}function gf(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function mf(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function Tg(n,r,o){if(o){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)o[r.exportAs[a]]=n;kr(r)&&(o[""]=n)}}function Sg(n,r,o){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+o,n.providerIndexes=r}function Oy(n,r,o,a,c){n.data[a]=c;const f=c.factory||(c.factory=Si(c.type)),b=new nn(f,kr(c),Rc);n.blueprint[a]=b,o[a]=b,pf(n,r,0,a,pu(n,o,c.hostVars,Pr),c)}function l0(n,r,o){const a=rr(r,n),c=df(o),f=n[10],b=Fd(n,sf(n,c,null,o.onPush?32:16,a,r,f,f.createRenderer(a,o),null,null,null));n[r.index]=b}function Ha(n,r,o,a,c,f){const b=rr(n,r);!function Ag(n,r,o,a,c,f,b){if(null==f)n.removeAttribute(r,c,o);else{const N=null==b?pt(f):b(f,a||"",c);n.setAttribute(r,c,N,o)}}(r[11],b,f,n.value,o,a,c)}function Mg(n,r,o,a,c,f){const b=f[r];if(null!==b){const N=a.setInput;for(let F=0;F<b.length;){const Y=b[F++],le=b[F++],ye=b[F++];null!==N?a.setInput(o,ye,Y,le):o[le]=ye}}}function xg(n,r){let o=null,a=0;for(;a<r.length;){const c=r[a];if(0!==c)if(5!==c){if("number"==typeof c)break;n.hasOwnProperty(c)&&(null===o&&(o=[]),o.push(c,n[c],r[a+1])),a+=2}else a+=2;else a+=4}return o}function ky(n,r,o,a){return new Array(n,!0,!1,r,null,0,a,o,null,null)}function u0(n,r){const o=wr(r,n);if(Hs(o)){const a=o[1];48&o[2]?uf(a,o,a.template,o[8]):o[5]>0&&Ld(o)}}function Ld(n){for(let a=Rh(n);null!==a;a=sa(a))for(let c=10;c<a.length;c++){const f=a[c];if(Hs(f))if(512&f[2]){const b=f[1];uf(b,f,b.template,f[8])}else f[5]>0&&Ld(f)}const o=n[1].components;if(null!==o)for(let a=0;a<o.length;a++){const c=wr(o[a],n);Hs(c)&&c[5]>0&&Ld(c)}}function Pg(n,r){const o=wr(r,n),a=o[1];(function Vy(n,r){for(let o=r.length;o<n.blueprint.length;o++)r.push(n.blueprint[o])})(a,o),lf(a,o,o[8])}function Fd(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function yf(n){for(;n;){n[2]|=32;const r=su(n);if(bo(n)&&!r)return n;n=r}return null}function Lu(n,r,o,a=!0){const c=r[10];c.begin&&c.begin();try{uf(n,r,n.template,o)}catch(b){throw a&&vs(r,b),b}finally{c.end&&c.end()}}function vf(n,r,o){po(0),r(n,o)}function Ng(n){return n[7]||(n[7]=[])}function Vc(n){return n.cleanup||(n.cleanup=[])}function vs(n,r){const o=n[9],a=o?o.get(_d,null):null;a&&a.handleError(r)}function Ho(n,r,o,a,c){for(let f=0;f<o.length;){const b=o[f++],N=o[f++],F=r[b],Y=n.data[b];null!==Y.setInput?Y.setInput(F,c,a,N):F[N]=c}}function Vd(n,r,o){let a=o?n.styles:null,c=o?n.classes:null,f=0;if(null!==r)for(let b=0;b<r.length;b++){const N=r[b];"number"==typeof N?f=N:1==f?c=qe(c,N):2==f&&(a=qe(a,N+": "+r[++b]+";"))}o?n.styles=a:n.stylesWithoutHost=a,o?n.classes=c:n.classesWithoutHost=c}function _f(n,r,o,a,c=!1){for(;null!==o;){const f=r[o.index];if(null!==f&&a.push(Lr(f)),Ei(f))for(let N=10;N<f.length;N++){const F=f[N],Y=F[1].firstChild;null!==Y&&_f(F[1],F,Y,a)}const b=o.type;if(8&b)_f(n,r,o.child,a);else if(32&b){const N=Cc(o,r);let F;for(;F=N();)a.push(F)}else if(16&b){const N=Qm(r,o);if(Array.isArray(N))a.push(...N);else{const F=su(r[16]);_f(F[1],F,N,a,!0)}}o=c?o.projectionNext:o.next}return a}class gu{constructor(r,o){this._lView=r,this._cdRefInjectingView=o,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,o=r[1];return _f(o,r,o.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(Ei(r)){const o=r[8],a=o?o.indexOf(this):-1;a>-1&&(Rp(r,a),Ra(o,a))}this._attachedToViewContainer=!1}Wm(this._lView[1],this._lView)}onDestroy(r){ku(this._lView[1],this._lView,null,r)}markForCheck(){yf(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Lu(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ft(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Dc(n,r){lu(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new ft(902,!1);this._appRef=r}}class $y extends gu{constructor(r){super(r),this._view=r}detectChanges(){const r=this._view;Lu(r[1],r,r[8],!1)}checkNoChanges(){}get context(){return null}}class $d extends Mu{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const o=Ye(r);return new bf(o,this.ngModule)}}function Rg(n){const r=[];for(let o in n)n.hasOwnProperty(o)&&r.push({propName:n[o],templateName:o});return r}class d0{constructor(r,o){this.injector=r,this.parentInjector=o}get(r,o,a){const c=this.injector.get(r,or,a);return c!==or||o===or?c:this.parentInjector.get(r,o,a)}}class bf extends fc{constructor(r,o){super(),this.componentDef=r,this.ngModule=o,this.componentType=r.type,this.selector=function ry(n){return n.map(jh).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!o}get inputs(){return Rg(this.componentDef.inputs)}get outputs(){return Rg(this.componentDef.outputs)}create(r,o,a,c){let f=(c=c||this.ngModule)instanceof vo?c:c?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const b=f?new d0(r,f):r,N=b.get(X,null);if(null===N)throw new ft(407,!1);const F=b.get(_t,null),Y=N.createRenderer(null,this.componentDef),le=this.componentDef.selectors[0][0]||"div",ye=a?function Ig(n,r,o){return n.selectRootElement(r,o===lt.ShadowDom)}(Y,a,this.componentDef.encapsulation):Lh(Y,le,function Ef(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(le)),Ge=this.componentDef.onPush?288:272,ot=Eg(0,null,null,1,0,null,null,null,null,null),kt=sf(null,ot,null,Ge,null,null,N,Y,F,b,null);let tn,In;x(kt);try{const Zn=function p0(n,r,o,a,c,f){const b=o[1];o[22]=n;const F=fu(b,22,2,"#host",null),Y=F.mergedAttrs=r.hostAttrs;null!==Y&&(Vd(F,Y,!0),null!==n&&(te(c,n,Y),null!==F.classes&&Sc(c,n,F.classes),null!==F.styles&&Tc(c,n,F.styles)));const le=a.createRenderer(n,r),ye=sf(o,df(r),null,r.onPush?32:16,o[22],F,a,le,f||null,null,null);return b.firstCreatePass&&(xt(Tn(F,o),b,r.type),mf(b,F),Sg(F,o.length,1)),Fd(o,ye),o[22]=ye}(ye,this.componentDef,kt,N,Y);if(ye)if(a)te(Y,ye,["ng-version",On.full]);else{const{attrs:pr,classes:Ht}=function iy(n){const r=[],o=[];let a=1,c=2;for(;a<n.length;){let f=n[a];if("string"==typeof f)2===c?""!==f&&r.push(f,n[++a]):8===c&&o.push(f);else{if(!il(c))break;c=f}a++}return{attrs:r,classes:o}}(this.componentDef.selectors[0]);pr&&te(Y,ye,pr),Ht&&Ht.length>0&&Sc(Y,ye,Ht.join(" "))}if(In=hs(ot,22),void 0!==o){const pr=In.projection=[];for(let Ht=0;Ht<this.ngContentSelectors.length;Ht++){const Ir=o[Ht];pr.push(null!=Ir?Array.from(Ir):null)}}tn=function By(n,r,o,a){const c=o[1],f=function r0(n,r,o){const a=ti();n.firstCreatePass&&(o.providersResolver&&o.providersResolver(o),Oy(n,a,r,pu(n,r,1,null),o),xy(n,a));const c=Hn(r,n,a.directiveStart,a);Ks(c,r);const f=rr(a,r);return f&&Ks(f,r),c}(c,o,r);if(n[8]=o[8]=f,null!==a)for(const N of a)N(f,r);if(r.contentQueries){const N=ti();r.contentQueries(1,f,N.directiveStart)}const b=ti();return!c.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(H(b.index),pf(o[1],b,0,b.directiveStart,b.directiveEnd,r),gf(r,f)),f}(Zn,this.componentDef,kt,[kg]),lf(ot,kt,null)}finally{S()}return new f0(this.componentType,tn,E(In,kt),kt,In)}}class f0 extends class pd{}{constructor(r,o,a,c,f){super(),this.location=a,this._rootLView=c,this._tNode=f,this.instance=o,this.hostView=this.changeDetectorRef=new $y(c),this.componentType=r}setInput(r,o){const a=this._tNode.inputs;let c;if(null!==a&&(c=a[r])){const f=this._rootLView;Ho(f[1],f,c,r,o),ff(f,this._tNode.index)}}get injector(){return new $i(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}function kg(){const n=ti();Me(Mt()[1],n)}function Bd(n){let r=function Lg(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),o=!0;const a=[n];for(;r;){let c;if(kr(n))c=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new ft(903,!1);c=r.\u0275dir}if(c){if(o){a.push(c);const b=n;b.inputs=Ud(n.inputs),b.declaredInputs=Ud(n.declaredInputs),b.outputs=Ud(n.outputs);const N=c.hostBindings;N&&Uy(n,N);const F=c.viewQuery,Y=c.contentQueries;if(F&&If(n,F),Y&&Vg(n,Y),We(n.inputs,c.inputs),We(n.declaredInputs,c.declaredInputs),We(n.outputs,c.outputs),kr(c)&&c.data.animation){const le=n.data;le.animation=(le.animation||[]).concat(c.data.animation)}}const f=c.features;if(f)for(let b=0;b<f.length;b++){const N=f[b];N&&N.ngInherit&&N(n),N===Bd&&(o=!1)}}r=Object.getPrototypeOf(r)}!function Fg(n){let r=0,o=null;for(let a=n.length-1;a>=0;a--){const c=n[a];c.hostVars=r+=c.hostVars,c.hostAttrs=Je(c.hostAttrs,o=Je(o,c.hostAttrs))}}(a)}function Ud(n){return n===Er?{}:n===Wt?[]:n}function If(n,r){const o=n.viewQuery;n.viewQuery=o?(a,c)=>{r(a,c),o(a,c)}:r}function Vg(n,r){const o=n.contentQueries;n.contentQueries=o?(a,c,f)=>{r(a,c,f),o(a,c,f)}:r}function Uy(n,r){const o=n.hostBindings;n.hostBindings=o?(a,c)=>{r(a,c),o(a,c)}:r}let jd=null;function za(){if(!jd){const n=It.Symbol;if(n&&n.iterator)jd=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let o=0;o<r.length;++o){const a=r[o];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(jd=a)}}}return jd}function Hd(n){return!!wf(n)&&(Array.isArray(n)||!(n instanceof Map)&&za()in n)}function wf(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function oa(n,r,o){return!Object.is(n[r],o)&&(n[r]=o,!0)}function Ug(n,r,o,a){const c=Mt();return oa(c,un(),r)&&(ur(),Ha(W(),c,n,r,o,a)),Ug}function mu(n,r,o,a,c,f,b,N){const F=Mt(),Y=ur(),le=n+22,ye=Y.firstCreatePass?function rb(n,r,o,a,c,f,b,N,F){const Y=r.consts,le=fu(r,n,4,b||null,is(Y,N));wg(r,o,le,is(Y,F)),Me(r,le);const ye=le.tViews=Eg(2,le,a,c,f,r.directiveRegistry,r.pipeRegistry,null,r.schemas,Y);return null!==r.queries&&(r.queries.template(r,le),ye.queries=r.queries.embeddedTView(le)),le}(le,Y,F,r,o,a,c,f,b):Y.data[le];gs(ye,!1);const Ge=F[11].createComment("");Vh(Y,F,Ge,ye),Ks(Ge,F),Fd(F,F[le]=ky(Ge,F,Ge,ye)),Oo(ye)&&kd(Y,F,ye),null!=b&&_g(F,ye,N)}function Zy(n){return Zi(function ho(){return Nn.lFrame.contextLView}(),22+n)}function Hg(n,r,o){const a=Mt();return oa(a,un(),r)&&function ro(n,r,o,a,c,f,b,N){const F=rr(r,o);let le,Y=r.inputs;!N&&null!=Y&&(le=Y[a])?(Ho(n,o,le,a,c),ki(r)&&ff(o,r.index)):3&r.type&&(a=function Cg(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),c=null!=b?b(c,r.value||"",a):c,f.setProperty(F,a,c))}(ur(),W(),a,n,r,a[11],o,!1),Hg}function Sf(n,r,o,a,c){const b=c?"class":"style";Ho(n,o,r.inputs[b],b,a)}function Bu(n,r,o,a){const c=Mt(),f=ur(),b=22+n,N=c[11],F=c[b]=Lh(N,r,function he(){return Nn.lFrame.currentNamespace}()),Y=f.firstCreatePass?function Yy(n,r,o,a,c,f,b){const N=r.consts,Y=fu(r,n,2,c,is(N,f));return wg(r,o,Y,is(N,b)),null!==Y.attrs&&Vd(Y,Y.attrs,!1),null!==Y.mergedAttrs&&Vd(Y,Y.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,Y),Y}(b,f,c,0,r,o,a):f.data[b];gs(Y,!0);const le=Y.mergedAttrs;null!==le&&te(N,F,le);const ye=Y.classes;null!==ye&&Sc(N,F,ye);const Ge=Y.styles;return null!==Ge&&Tc(N,F,Ge),64!=(64&Y.flags)&&Vh(f,c,F,Y),0===function co(){return Nn.lFrame.elementDepthCount}()&&Ks(F,c),function fs(){Nn.lFrame.elementDepthCount++}(),Oo(Y)&&(kd(f,c,Y),Sy(f,Y,c)),null!==a&&_g(c,Y),Bu}function Af(){let n=ti();$o()?Ps():(n=n.parent,gs(n,!1));const r=n;!function Pi(){Nn.lFrame.elementDepthCount--}();const o=ur();return o.firstCreatePass&&(Me(o,n),Wi(n)&&o.queries.elementEnd(n)),null!=r.classesWithoutHost&&function v(n){return 0!=(16&n.flags)}(r)&&Sf(o,r,Mt(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function C(n){return 0!=(32&n.flags)}(r)&&Sf(o,r,Mt(),r.stylesWithoutHost,!1),Af}function Vl(n,r,o,a){return Bu(n,r,o,a),Af(),Vl}function yu(n,r,o){const a=Mt(),c=ur(),f=n+22,b=c.firstCreatePass?function Mf(n,r,o,a,c){const f=r.consts,b=is(f,a),N=fu(r,n,8,"ng-container",b);return null!==b&&Vd(N,b,!0),wg(r,o,N,is(f,c)),null!==r.queries&&r.queries.elementStart(r,N),N}(f,c,a,r,o):c.data[f];gs(b,!0);const N=a[f]=a[11].createComment("");return Vh(c,a,N,b),Ks(N,a),Oo(b)&&(kd(c,a,b),Sy(c,b,a)),null!=o&&_g(a,b),yu}function qd(){let n=ti();const r=ur();return $o()?Ps():(n=n.parent,gs(n,!1)),r.firstCreatePass&&(Me(r,n),Wi(n)&&r.queries.elementEnd(n)),qd}function Qy(){return Mt()}function zg(n){return!!n&&"function"==typeof n.then}function Xy(n){return!!n&&"function"==typeof n.subscribe}const Pf=Xy;function Kd(n,r,o,a){const c=Mt(),f=ur(),b=ti();return function Wg(n,r,o,a,c,f,b,N){const F=Oo(a),le=n.firstCreatePass&&Vc(n),ye=r[8],Ge=Ng(r);let ot=!0;if(3&a.type||N){const In=rr(a,r),Zn=N?N(In):In,pr=Ge.length,Ht=N?Bi=>N(Lr(Bi[a.index])):a.index;let Ir=null;if(!N&&F&&(Ir=function Uu(n,r,o,a){const c=n.cleanup;if(null!=c)for(let f=0;f<c.length-1;f+=2){const b=c[f];if(b===o&&c[f+1]===a){const N=r[7],F=c[f+2];return N.length>F?N[F]:null}"string"==typeof b&&(f+=2)}return null}(n,r,c,a.index)),null!==Ir)(Ir.__ngLastListenerFn__||Ir).__ngNextListenerFn__=f,Ir.__ngLastListenerFn__=f,ot=!1;else{f=Nf(a,r,ye,f,!1);const Bi=o.listen(Zn,c,f);Ge.push(f,Bi),le&&le.push(c,Ht,pr,pr+1)}}else f=Nf(a,r,ye,f,!1);const kt=a.outputs;let tn;if(ot&&null!==kt&&(tn=kt[c])){const In=tn.length;if(In)for(let Zn=0;Zn<In;Zn+=2){const Zs=r[tn[Zn]][tn[Zn+1]].subscribe(f),gh=Ge.length;Ge.push(f,Zs),le&&le.push(c,a.index,gh,-(gh+1))}}}(f,c,c[11],b,n,r,0,a),Kd}function qg(n,r,o,a){try{return!1!==o(a)}catch(c){return vs(n,c),!1}}function Nf(n,r,o,a,c){return function f(b){if(b===Function)return a;yf(2&n.flags?wr(n.index,r):r);let F=qg(r,0,a,b),Y=f.__ngNextListenerFn__;for(;Y;)F=qg(r,0,Y,b)&&F,Y=Y.__ngNextListenerFn__;return c&&!1===F&&(b.preventDefault(),b.returnValue=!1),F}}function Of(n=1){return function _(n){return(Nn.lFrame.contextLView=function M(n,r){for(;n>0;)r=r[15],n--;return r}(n,Nn.lFrame.contextLView))[8]}(n)}function _0(n,r){let o=null;const a=function ny(n){const r=n.attrs;if(null!=r){const o=r.indexOf(5);if(0==(1&o))return r[o+1]}return null}(n);for(let c=0;c<r.length;c++){const f=r[c];if("*"!==f){if(null===a?ty(n,f,!0):Mc(a,f))return c}else o=c}return o}function Zd(n){const r=Mt()[16][6];if(!r.projection){const a=r.projection=na(n?n.length:1,null),c=a.slice();let f=r.child;for(;null!==f;){const b=n?_0(f,n):0;null!==b&&(c[b]?c[b].projectionNext=f:a[b]=f,c[b]=f),f=f.next}}}function Yd(n,r=0,o){const a=Mt(),c=ur(),f=fu(c,22+n,16,null,o||null);null===f.projection&&(f.projection=r),Ps(),64!=(64&f.flags)&&function j_(n,r,o){jp(r[11],0,r,o,Km(n,o,r),Vp(o.parent||r[6],o,r))}(c,a,f)}function iv(n,r,o,a,c){const f=n[o+1],b=null===r;let N=a?Ta(f):sl(f),F=!1;for(;0!==N&&(!1===F||b);){const le=n[N+1];sv(n[N],r)&&(F=!0,n[N+1]=a?ef(le):du(le)),N=a?Ta(le):sl(le)}F&&(n[o+1]=a?du(f):ef(f))}function sv(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&D(n,r)>=0}const Po={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ov(n){return n.substring(Po.key,Po.keyEnd)}function av(n){return n.substring(Po.value,Po.valueEnd)}function lv(n,r){const o=Po.textEnd;return o===r?-1:(r=Po.keyEnd=function Xg(n,r,o){for(;r<o&&n.charCodeAt(r)>32;)r++;return r}(n,Po.key=r,o),Hu(n,r,o))}function Yg(n,r){const o=Po.textEnd;let a=Po.key=Hu(n,r,o);return o===a?-1:(a=Po.keyEnd=function Rf(n,r,o){let a;for(;r<o&&(45===(a=n.charCodeAt(r))||95===a||(-33&a)>=65&&(-33&a)<=90||a>=48&&a<=57);)r++;return r}(n,a,o),a=cv(n,a,o),a=Po.value=Hu(n,a,o),a=Po.valueEnd=function zu(n,r,o){let a=-1,c=-1,f=-1,b=r,N=b;for(;b<o;){const F=n.charCodeAt(b++);if(59===F)return N;34===F||39===F?N=b=vl(n,F,b,o):r===b-4&&85===f&&82===c&&76===a&&40===F?N=b=vl(n,41,b,o):F>32&&(N=b),f=c,c=a,a=-33&F}return N}(n,a,o),cv(n,a,o))}function Qg(n){Po.key=0,Po.keyEnd=0,Po.value=0,Po.valueEnd=0,Po.textEnd=n.length}function Hu(n,r,o){for(;r<o&&n.charCodeAt(r)<=32;)r++;return r}function cv(n,r,o,a){return(r=Hu(n,r,o))<o&&r++,r}function vl(n,r,o,a){let c=-1,f=o;for(;f<a;){const b=n.charCodeAt(f++);if(b==r&&92!==c)return f;c=92==b&&92===c?0:b}throw new Error}function Jg(n,r){return function ll(n,r,o,a){const c=Mt(),f=ur(),b=Ln(2);f.firstUpdatePass&&hv(f,n,b,a),r!==Pr&&oa(c,b,r)&&D0(f,f.data[V()],c,c[11],n,c[b+1]=function vu(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=He(ba(n)))),n}(r,o),a,b)}(n,r,null,!0),Jg}function Ga(n){ul(Ff,I0,n,!1)}function I0(n,r){for(let o=function uv(n){return Qg(n),Yg(n,Hu(n,0,Po.textEnd))}(r);o>=0;o=Yg(r,o))Ff(n,ov(r),av(r))}function Ul(n){ul(Gr,_l,n,!0)}function _l(n,r){for(let o=function b0(n){return Qg(n),lv(n,Hu(n,0,Po.textEnd))}(r);o>=0;o=lv(r,o))Gr(n,ov(r),!0)}function ul(n,r,o,a){const c=ur(),f=Ln(2);c.firstUpdatePass&&hv(c,null,f,a);const b=Mt();if(o!==Pr&&oa(b,f,o)){const N=c.data[V()];if(mv(N,a)&&!dv(c,f)){let F=a?N.classesWithoutHost:N.stylesWithoutHost;null!==F&&(o=qe(F,o||"")),Sf(c,N,b,o,a)}else!function sb(n,r,o,a,c,f,b,N){c===Pr&&(c=Wt);let F=0,Y=0,le=0<c.length?c[0]:null,ye=0<f.length?f[0]:null;for(;null!==le||null!==ye;){const Ge=F<c.length?c[F+1]:void 0,ot=Y<f.length?f[Y+1]:void 0;let tn,kt=null;le===ye?(F+=2,Y+=2,Ge!==ot&&(kt=ye,tn=ot)):null===ye||null!==le&&le<ye?(F+=2,kt=le):(Y+=2,kt=ye,tn=ot),null!==kt&&D0(n,r,o,a,kt,tn,b,N),le=F<c.length?c[F]:null,ye=Y<f.length?f[Y]:null}}(c,N,b,b[11],b[f+1],b[f+1]=function Hc(n,r,o){if(null==o||""===o)return Wt;const a=[],c=ba(o);if(Array.isArray(c))for(let f=0;f<c.length;f++)n(a,c[f],!0);else if("object"==typeof c)for(const f in c)c.hasOwnProperty(f)&&n(a,f,c[f]);else"string"==typeof c&&r(a,c);return a}(n,r,o),a,f)}}function dv(n,r){return r>=n.expandoStartIndex}function hv(n,r,o,a){const c=n.data;if(null===c[o+1]){const f=c[V()],b=dv(n,o);mv(f,a)&&null===r&&!b&&(r=!1),r=function fv(n,r,o,a){const c=function to(n){const r=Nn.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let f=a?r.residualClasses:r.residualStyles;if(null===c)0===(a?r.classBindings:r.styleBindings)&&(o=Xd(o=Lf(null,n,r,o,a),r.attrs,a),f=null);else{const b=r.directiveStylingLast;if(-1===b||n[b]!==c)if(o=Lf(c,n,r,o,a),null===f){let F=function pv(n,r,o){const a=o?r.classBindings:r.styleBindings;if(0!==sl(a))return n[Ta(a)]}(n,r,a);void 0!==F&&Array.isArray(F)&&(F=Lf(null,n,r,F[1],a),F=Xd(F,r.attrs,a),function C0(n,r,o,a){n[Ta(o?r.classBindings:r.styleBindings)]=a}(n,r,a,F))}else f=function w0(n,r,o){let a;const c=r.directiveEnd;for(let f=1+r.directiveStylingLast;f<c;f++)a=Xd(a,n[f].hostAttrs,o);return Xd(a,r.attrs,o)}(n,r,a)}return void 0!==f&&(a?r.residualClasses=f:r.residualStyles=f),o}(c,f,r,a),function rv(n,r,o,a,c,f){let b=f?r.classBindings:r.styleBindings,N=Ta(b),F=sl(b);n[a]=o;let le,Y=!1;if(Array.isArray(o)){const ye=o;le=ye[1],(null===le||D(ye,le)>0)&&(Y=!0)}else le=o;if(c)if(0!==F){const Ge=Ta(n[N+1]);n[a+1]=kc(Ge,N),0!==Ge&&(n[Ge+1]=rg(n[Ge+1],a)),n[N+1]=function fy(n,r){return 131071&n|r<<17}(n[N+1],a)}else n[a+1]=kc(N,0),0!==N&&(n[N+1]=rg(n[N+1],a)),N=a;else n[a+1]=kc(F,0),0===N?N=a:n[F+1]=rg(n[F+1],a),F=a;Y&&(n[a+1]=du(n[a+1])),iv(n,le,a,!0),iv(n,le,a,!1),function E0(n,r,o,a,c){const f=c?n.residualClasses:n.residualStyles;null!=f&&"string"==typeof r&&D(f,r)>=0&&(o[a+1]=ef(o[a+1]))}(r,le,n,a,f),b=kc(N,F),f?r.classBindings=b:r.styleBindings=b}(c,f,r,o,b,a)}}function Lf(n,r,o,a,c){let f=null;const b=o.directiveEnd;let N=o.directiveStylingLast;for(-1===N?N=o.directiveStart:N++;N<b&&(f=r[N],a=Xd(a,f.hostAttrs,c),f!==n);)N++;return null!==n&&(o.directiveStylingLast=N),a}function Xd(n,r,o){const a=o?1:2;let c=-1;if(null!==r)for(let f=0;f<r.length;f++){const b=r[f];"number"==typeof b?c=b:c===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Gr(n,b,!!o||r[++f]))}return void 0===n?null:n}function Ff(n,r,o){Gr(n,r,ba(o))}function D0(n,r,o,a,c,f,b,N){if(!(3&r.type))return;const F=n.data,Y=F[N+1];Jd(function py(n){return 1==(1&n)}(Y)?gv(F,r,o,c,sl(Y),b):void 0)||(Jd(f)||function Jh(n){return 2==(2&n)}(Y)&&(f=gv(F,null,o,c,N,b)),function zp(n,r,o,a,c){if(r)c?n.addClass(o,a):n.removeClass(o,a);else{let f=-1===a.indexOf("-")?void 0:yl.DashCase;null==c?n.removeStyle(o,a,f):("string"==typeof c&&c.endsWith("!important")&&(c=c.slice(0,-10),f|=yl.Important),n.setStyle(o,a,c,f))}}(a,b,Mi(V(),o),c,f))}function gv(n,r,o,a,c,f){const b=null===r;let N;for(;c>0;){const F=n[c],Y=Array.isArray(F),le=Y?F[1]:F,ye=null===le;let Ge=o[c+1];Ge===Pr&&(Ge=ye?Wt:void 0);let ot=ye?ka(Ge,a):le===a?Ge:void 0;if(Y&&!Jd(ot)&&(ot=ka(F,a)),Jd(ot)&&(N=ot,b))return N;const kt=n[c+1];c=b?Ta(kt):sl(kt)}if(null!==r){let F=f?r.residualClasses:r.residualStyles;null!=F&&(N=ka(F,a))}return N}function Jd(n){return void 0!==n}function mv(n,r){return 0!=(n.flags&(r?16:32))}function yv(n,r=""){const o=Mt(),a=ur(),c=n+22,f=a.firstCreatePass?fu(a,c,1,r,null):a.data[c],b=o[c]=function kh(n,r){return n.createText(r)}(o[11],r);Vh(a,o,b,f),gs(f,!1)}function Vf(n,r,o){const a=Mt(),c=function Oi(n,r,o,a){return oa(n,un(),o)?r+pt(o)+a:Pr}(a,n,r,o);return c!==Pr&&function zo(n,r,o){const a=Mi(r,n);!function kl(n,r,o){n.setValue(r,o)}(n[11],a,o)}(a,V(),c),Vf}const qu=void 0;var jf=["en",[["a","p"],["AM","PM"],qu],[["AM","PM"],qu,qu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],qu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],qu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",qu,"{1} 'at' {0}",qu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function P0(n){const o=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===o&&0===a?1:5}];let La={};function rm(n){const r=function Fv(n){return n.toLowerCase().replace(/_/g,"-")}(n);let o=Lv(r);if(o)return o;const a=r.split("-")[0];if(o=Lv(a),o)return o;if("en"===a)return jf;throw new ft(701,!1)}function kv(n){return rm(n)[dr.PluralCase]}function Lv(n){return n in La||(La[n]=It.ng&&It.ng.common&&It.ng.common.locales&&It.ng.common.locales[n]),La[n]}var dr=(()=>((dr=dr||{})[dr.LocaleId=0]="LocaleId",dr[dr.DayPeriodsFormat=1]="DayPeriodsFormat",dr[dr.DayPeriodsStandalone=2]="DayPeriodsStandalone",dr[dr.DaysFormat=3]="DaysFormat",dr[dr.DaysStandalone=4]="DaysStandalone",dr[dr.MonthsFormat=5]="MonthsFormat",dr[dr.MonthsStandalone=6]="MonthsStandalone",dr[dr.Eras=7]="Eras",dr[dr.FirstDayOfWeek=8]="FirstDayOfWeek",dr[dr.WeekendRange=9]="WeekendRange",dr[dr.DateFormat=10]="DateFormat",dr[dr.TimeFormat=11]="TimeFormat",dr[dr.DateTimeFormat=12]="DateTimeFormat",dr[dr.NumberSymbols=13]="NumberSymbols",dr[dr.NumberFormats=14]="NumberFormats",dr[dr.CurrencyCode=15]="CurrencyCode",dr[dr.CurrencySymbol=16]="CurrencySymbol",dr[dr.CurrencyName=17]="CurrencyName",dr[dr.Currencies=18]="Currencies",dr[dr.Directionality=19]="Directionality",dr[dr.PluralCase=20]="PluralCase",dr[dr.ExtraData=21]="ExtraData",dr))();const nh="en-US";let Vv=nh;function Em(n,r,o,a,c){if(n=$e(n),Array.isArray(n))for(let f=0;f<n.length;f++)Em(n[f],r,o,a,c);else{const f=ur(),b=Mt();let N=rl(n)?n:$e(n.provide),F=hc(n);const Y=ti(),le=1048575&Y.providerIndexes,ye=Y.directiveStart,Ge=Y.providerIndexes>>20;if(rl(n)||!n.multi){const ot=new nn(F,c,Rc),kt=Kf(N,r,c?le:le+Ge,ye);-1===kt?(xt(Tn(Y,b),f,N),bm(f,n,r.length),r.push(N),Y.directiveStart++,Y.directiveEnd++,c&&(Y.providerIndexes+=1048576),o.push(ot),b.push(ot)):(o[kt]=ot,b[kt]=ot)}else{const ot=Kf(N,r,le+Ge,ye),kt=Kf(N,r,le,le+Ge),tn=ot>=0&&o[ot],In=kt>=0&&o[kt];if(c&&!In||!c&&!tn){xt(Tn(Y,b),f,N);const Zn=function o_(n,r,o,a,c){const f=new nn(n,o,Rc);return f.multi=[],f.index=r,f.componentProviders=0,r_(f,c,a&&!o),f}(c?s_:i_,o.length,c,a,F);!c&&In&&(o[kt].providerFactory=Zn),bm(f,n,r.length,0),r.push(N),Y.directiveStart++,Y.directiveEnd++,c&&(Y.providerIndexes+=1048576),o.push(Zn),b.push(Zn)}else bm(f,n,ot>-1?ot:kt,r_(o[c?kt:ot],F,!c&&a));!c&&a&&In&&o[kt].componentProviders++}}}function bm(n,r,o,a){const c=rl(r),f=function pp(n){return!!n.useClass}(r);if(c||f){const F=(f?$e(r.useClass):r).prototype.ngOnDestroy;if(F){const Y=n.destroyHooks||(n.destroyHooks=[]);if(!c&&r.multi){const le=Y.indexOf(o);-1===le?Y.push(o,[a,F]):Y[le+1].push(a,F)}else Y.push(o,F)}}}function r_(n,r,o){return o&&n.componentProviders++,n.multi.push(r)-1}function Kf(n,r,o,a){for(let c=o;c<a;c++)if(r[c]===n)return c;return-1}function i_(n,r,o,a){return Zf(this.multi,[])}function s_(n,r,o,a){const c=this.multi;let f;if(this.providerFactory){const b=this.providerFactory.componentProviders,N=Hn(o,o[1],this.providerFactory.index,a);f=N.slice(0,b),Zf(c,f);for(let F=b;F<N.length;F++)f.push(N[F])}else f=[],Zf(c,f);return f}function Zf(n,r){for(let o=0;o<n.length;o++)r.push((0,n[o])());return r}function sE(n,r=[]){return o=>{o.providersResolver=(a,c)=>function _m(n,r,o){const a=ur();if(a.firstCreatePass){const c=kr(n);Em(o,a.data,a.blueprint,c,!0),Em(r,a.data,a.blueprint,c,!1)}}(a,c?c(n):n,r)}}class Zc{}class oE{}function gb(n,r){return new aE(n,r??null)}class aE extends Zc{constructor(r,o){super(),this._parent=o,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new $d(this);const a=Nr(r);this._bootstrapComponents=Ol(a.bootstrap),this._r3Injector=Wh(r,o,[{provide:Zc,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver}],He(r),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(r)}get injector(){return this._r3Injector}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(o=>o()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class Im extends oE{constructor(r){super(),this.moduleType=r}create(r){return new aE(this.moduleType,r)}}class l_ extends Zc{constructor(r,o,a){super(),this.componentFactoryResolver=new $d(this),this.instance=null;const c=new dc([...r,{provide:Zc,useValue:this},{provide:Mu,useValue:this.componentFactoryResolver}],o||cc(),a,new Set(["environment"]));this.injector=c,c.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(r){this.injector.onDestroy(r)}}function Cm(n,r,o=null){return new l_(n,r,o).injector}let u_=(()=>{class n{constructor(o){this._injector=o,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(o){if(!o.standalone)return null;if(!this.cachedInjectors.has(o.id)){const a=Dr(0,o.type),c=a.length>0?Cm([a],this._injector,`Standalone[${o.type.name}]`):null;this.cachedInjectors.set(o.id,c)}return this.cachedInjectors.get(o.id)}ngOnDestroy(){try{for(const o of this.cachedInjectors.values())null!==o&&o.destroy()}finally{this.cachedInjectors.clear()}}}return n.\u0275prov=Fn({token:n,providedIn:"environment",factory:()=>new n(vi(vo))}),n})();function Yf(n){n.getStandaloneInjector=r=>r.get(u_).getOrCreateStandaloneInjector(n)}function wm(n,r,o,a){return v_(Mt(),k(),n,r,o,a)}function v_(n,r,o,a,c,f){const b=r+o;return oa(n,b,c)?function ol(n,r,o){return n[r]=o}(n,b+1,f?a.call(f,c):a(c)):function Yc(n,r){const o=n[r];return o===Pr?void 0:o}(n,b+1)}function Jf(n,r){const o=ur();let a;const c=n+22;o.firstCreatePass?(a=function yE(n,r){if(r)for(let o=r.length-1;o>=0;o--){const a=r[o];if(n===a.name)return a}}(r,o.pipeRegistry),o.data[c]=a,a.onDestroy&&(o.destroyHooks||(o.destroyHooks=[])).push(c,a.onDestroy)):a=o.data[c];const f=a.factory||(a.factory=Si(a.type)),b=_r(Rc);try{const N=qn(!1),F=f();return qn(N),function Tf(n,r,o,a){o>=n.data.length&&(n.data[o]=null,n.blueprint[o]=null),r[o]=a}(o,Mt(),c,F),F}finally{_r(b)}}function Tm(n,r,o){const a=n+22,c=Mt(),f=Zi(c,a);return function hh(n,r){return n[1].data[r].pure}(c,a)?v_(c,k(),r,f.transform,o,f):f.transform(o)}function ep(n){return r=>{setTimeout(n,void 0,r)}}const cl=class EE extends m.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,o,a){let c=r,f=o||(()=>null),b=a;if(r&&"object"==typeof r){const F=r;c=F.next?.bind(F),f=F.error?.bind(F),b=F.complete?.bind(F)}this.__isAsync&&(f=ep(f),c&&(c=ep(c)),b&&(b=ep(b)));const N=super.subscribe({next:c,error:f,complete:b});return r instanceof ie.w0&&r.add(N),N}};function bE(){return this._results[za()]()}class i{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const o=za(),a=i.prototype;a[o]||(a[o]=bE)}get changes(){return this._changes||(this._changes=new cl)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,o){return this._results.reduce(r,o)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,o){const a=this;a.dirty=!1;const c=ws(r);(this._changesDetected=!function Qo(n,r,o){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let c=n[a],f=r[a];if(o&&(c=o(c),f=o(f)),f!==c)return!1}return!0}(a._results,c,o))&&(a._results=c,a.length=c.length,a.last=c[this.length-1],a.first=c[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let e=(()=>{class n{}return n.__NG_ELEMENT_ID__=l,n})();const t=e,s=class extends t{constructor(r,o,a){super(),this._declarationLView=r,this._declarationTContainer=o,this.elementRef=a}createEmbeddedView(r,o){const a=this._declarationTContainer.tViews,c=sf(this._declarationLView,a,r,16,null,a.declTNode,null,null,null,null,o||null);c[17]=this._declarationLView[this._declarationTContainer.index];const b=this._declarationLView[19];return null!==b&&(c[19]=b.createEmbeddedView(a)),lf(a,c,r),new gu(c)}};function l(){return d(ti(),Mt())}function d(n,r){return 4&n.type?new s(r,n,E(n,r)):null}let y=(()=>{class n{}return n.__NG_ELEMENT_ID__=P,n})();function P(){return it(ti(),Mt())}const q=y,J=class extends q{constructor(r,o,a){super(),this._lContainer=r,this._hostTNode=o,this._hostLView=a}get element(){return E(this._hostTNode,this._hostLView)}get injector(){return new $i(this._hostTNode,this._hostLView)}get parentInjector(){const r=ht(this._hostTNode,this._hostLView);if(ln(r)){const o=jn(r,this._hostLView),a=qt(r);return new $i(o[1].data[a+8],o)}return new $i(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const o=de(this._lContainer);return null!==o&&o[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,o,a){let c,f;"number"==typeof a?c=a:null!=a&&(c=a.index,f=a.injector);const b=r.createEmbeddedView(o||{},f);return this.insert(b,c),b}createComponent(r,o,a,c,f){const b=r&&!function Ws(n){return"function"==typeof n}(r);let N;if(b)N=o;else{const ye=o||{};N=ye.index,a=ye.injector,c=ye.projectableNodes,f=ye.environmentInjector||ye.ngModuleRef}const F=b?r:new bf(Ye(r)),Y=a||this.parentInjector;if(!f&&null==F.ngModule){const Ge=(b?Y:this.parentInjector).get(vo,null);Ge&&(f=Ge)}const le=F.create(Y,c,void 0,f);return this.insert(le.hostView,N),le}insert(r,o){const a=r._lView,c=a[1];if(function Zo(n){return Ei(n[3])}(a)){const le=this.indexOf(r);if(-1!==le)this.detach(le);else{const ye=a[3],Ge=new J(ye,ye[6],ye[3]);Ge.detach(Ge.indexOf(r))}}const f=this._adjustIndex(o),b=this._lContainer;!function ou(n,r,o,a){const c=10+a,f=o.length;a>0&&(o[c-1][4]=r),a<f-10?(r[4]=o[c],Ea(o,10+a,r)):(o.push(r),r[4]=null),r[3]=o;const b=r[17];null!==b&&o!==b&&function zm(n,r){const o=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===o?n[9]=[r]:o.push(r)}(b,r);const N=r[19];null!==N&&N.insertView(n),r[2]|=64}(c,a,b,f);const N=$p(f,b),F=a[11],Y=Td(F,b[7]);return null!==Y&&function $_(n,r,o,a,c,f){a[0]=c,a[6]=r,lu(n,a,o,1,c,f)}(c,b[6],F,a,Y,N),r.attachToViewContainerRef(),Ea(ke(b),f,r),r}move(r,o){return this.insert(r,o)}indexOf(r){const o=de(this._lContainer);return null!==o?o.indexOf(r):-1}remove(r){const o=this._adjustIndex(r,-1),a=Rp(this._lContainer,o);a&&(Ra(ke(this._lContainer),o),Wm(a[1],a))}detach(r){const o=this._adjustIndex(r,-1),a=Rp(this._lContainer,o);return a&&null!=Ra(ke(this._lContainer),o)?new gu(a):null}_adjustIndex(r,o=0){return r??this.length+o}};function de(n){return n[8]}function ke(n){return n[8]||(n[8]=[])}function it(n,r){let o;const a=r[n.index];if(Ei(a))o=a;else{let c;if(8&n.type)c=Lr(a);else{const f=r[11];c=f.createComment("");const b=rr(n,r);Pu(f,Td(f,b),c,function U_(n,r){return n.nextSibling(r)}(f,b),!1)}r[n.index]=o=ky(a,r,c,n),Fd(r,o)}return new J(o,n,r)}class En{constructor(r){this.queryList=r,this.matches=null}clone(){return new En(this.queryList)}setDirty(){this.queryList.setDirty()}}class Wr{constructor(r=[]){this.queries=r}createEmbeddedView(r){const o=r.queries;if(null!==o){const a=null!==r.contentQueries?r.contentQueries[0]:o.length,c=[];for(let f=0;f<a;f++){const b=o.getByIndex(f);c.push(this.queries[b.indexInDeclarationView].clone())}return new Wr(c)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let o=0;o<this.queries.length;o++)null!==Mb(r,o).matches&&this.queries[o].setDirty()}}class Ii{constructor(r,o,a=null){this.predicate=r,this.flags=o,this.read=a}}class qr{constructor(r=[]){this.queries=r}elementStart(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,o)}elementEnd(r){for(let o=0;o<this.queries.length;o++)this.queries[o].elementEnd(r)}embeddedTView(r){let o=null;for(let a=0;a<this.length;a++){const c=null!==o?o.length:0,f=this.getByIndex(a).embeddedTView(r,c);f&&(f.indexInDeclarationView=a,null!==o?o.push(f):o=[f])}return null!==o?new qr(o):null}template(r,o){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,o)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class $r{constructor(r,o=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=o}elementStart(r,o){this.isApplyingToNode(o)&&this.matchTNode(r,o)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,o){this.elementStart(r,o)}embeddedTView(r,o){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,o),new $r(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const o=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==o;)a=a.parent;return o===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,o){const a=this.metadata.predicate;if(Array.isArray(a))for(let c=0;c<a.length;c++){const f=a[c];this.matchTNodeWithReadOption(r,o,Br(o,f)),this.matchTNodeWithReadOption(r,o,Rn(o,r,f,!1,!1))}else a===e?4&o.type&&this.matchTNodeWithReadOption(r,o,-1):this.matchTNodeWithReadOption(r,o,Rn(o,r,a,!1,!1))}matchTNodeWithReadOption(r,o,a){if(null!==a){const c=this.metadata.read;if(null!==c)if(c===h||c===y||c===e&&4&o.type)this.addMatch(o.index,-2);else{const f=Rn(o,r,c,!1,!1);null!==f&&this.addMatch(o.index,f)}else this.addMatch(o.index,a)}}addMatch(r,o){null===this.matches?this.matches=[r,o]:this.matches.push(r,o)}}function Br(n,r){const o=n.localNames;if(null!==o)for(let a=0;a<o.length;a+=2)if(o[a]===r)return o[a+1];return null}function No(n,r,o,a){return-1===o?function Kr(n,r){return 11&n.type?E(n,r):4&n.type?d(n,r):null}(r,n):-2===o?function fh(n,r,o){return o===h?E(r,n):o===e?d(r,n):o===y?it(r,n):void 0}(n,r,a):Hn(n,n[1],o,r)}function Ib(n,r,o,a){const c=r[19].queries[a];if(null===c.matches){const f=n.data,b=o.matches,N=[];for(let F=0;F<b.length;F+=2){const Y=b[F];N.push(Y<0?null:No(r,f[Y],b[F+1],o.metadata.read))}c.matches=N}return c.matches}function IE(n,r,o,a){const c=n.queries.getByIndex(o),f=c.matches;if(null!==f){const b=Ib(n,r,c,o);for(let N=0;N<f.length;N+=2){const F=f[N];if(F>0)a.push(b[N/2]);else{const Y=f[N+1],le=r[-F];for(let ye=10;ye<le.length;ye++){const Ge=le[ye];Ge[17]===Ge[3]&&IE(Ge[1],Ge,Y,a)}if(null!==le[9]){const ye=le[9];for(let Ge=0;Ge<ye.length;Ge++){const ot=ye[Ge];IE(ot[1],ot,Y,a)}}}}}return a}function Cb(n){const r=Mt(),o=ur(),a=ua();po(a+1);const c=Mb(o,a);if(n.dirty&&function js(n){return 4==(4&n[2])}(r)===(2==(2&c.metadata.flags))){if(null===c.matches)n.reset([]);else{const f=c.crossesNgTemplate?IE(o,r,a,[]):Ib(o,r,c,a);n.reset(f,p),n.notifyOnChanges()}return!0}return!1}function wb(n,r,o){const a=ur();a.firstCreatePass&&(Ab(a,new Ii(n,r,o),-1),2==(2&r)&&(a.staticViewQueries=!0)),Sb(a,Mt(),r)}function Db(n,r,o,a){const c=ur();if(c.firstCreatePass){const f=ti();Ab(c,new Ii(r,o,a),f.index),function PI(n,r){const o=n.contentQueries||(n.contentQueries=[]);r!==(o.length?o[o.length-1]:-1)&&o.push(n.queries.length-1,r)}(c,n),2==(2&o)&&(c.staticContentQueries=!0)}Sb(c,Mt(),o)}function Tb(){return function xI(n,r){return n[19].queries[r].queryList}(Mt(),ua())}function Sb(n,r,o){const a=new i(4==(4&o));ku(n,r,a,a.destroy),null===r[19]&&(r[19]=new Wr),r[19].queries.push(new En(a))}function Ab(n,r,o){null===n.queries&&(n.queries=new qr),n.queries.track(new $r(r,o))}function Mb(n,r){return n.queries.getByIndex(r)}function xb(n,r){return d(n,r)}function w_(...n){}const Zb=new ei("Application Initializer");let D_=(()=>{class n{constructor(o){this.appInits=o,this.resolve=w_,this.reject=w_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,c)=>{this.resolve=a,this.reject=c})}runInitializers(){if(this.initialized)return;const o=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let c=0;c<this.appInits.length;c++){const f=this.appInits[c]();if(zg(f))o.push(f);else if(Pf(f)){const b=new Promise((N,F)=>{f.subscribe({complete:N,error:F})});o.push(b)}}Promise.all(o).then(()=>{a()}).catch(c=>{this.reject(c)}),0===o.length&&a(),this.initialized=!0}}return n.\u0275fac=function(o){return new(o||n)(vi(Zb,8))},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Yb=new ei("AppId",{providedIn:"root",factory:function Qb(){return`${SE()}${SE()}${SE()}`}});function SE(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Xb=new ei("Platform Initializer"),QI=new ei("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Jb=new ei("appBootstrapListener"),XI=new ei("AnimationModuleType");let JI=(()=>{class n{log(o){console.log(o)}warn(o){console.warn(o)}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();const T_=new ei("LocaleId",{providedIn:"root",factory:()=>B(T_,Xt.Optional|Xt.SkipSelf)||function eC(){return typeof $localize<"u"&&$localize.locale||nh}()}),tC=new ei("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class nC{constructor(r,o){this.ngModuleFactory=r,this.componentFactories=o}}let rC=(()=>{class n{compileModuleSync(o){return new Im(o)}compileModuleAsync(o){return Promise.resolve(this.compileModuleSync(o))}compileModuleAndAllComponentsSync(o){const a=this.compileModuleSync(o),f=Ol(Nr(o).declarations).reduce((b,N)=>{const F=Ye(N);return F&&b.push(new bf(F)),b},[]);return new nC(a,f)}compileModuleAndAllComponentsAsync(o){return Promise.resolve(this.compileModuleAndAllComponentsSync(o))}clearCache(){}clearCacheFor(o){}getModuleId(o){}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const oC=(()=>Promise.resolve(0))();function AE(n){typeof Zone>"u"?oC.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class El{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:o=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new cl(!1),this.onMicrotaskEmpty=new cl(!1),this.onStable=new cl(!1),this.onError=new cl(!1),typeof Zone>"u")throw new ft(908,!1);Zone.assertZonePatched();const c=this;if(c._nesting=0,c._outer=c._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const f=Zone.AsyncStackTaggingZoneSpec;c._inner=c._inner.fork(new f("Angular"))}Zone.TaskTrackingZoneSpec&&(c._inner=c._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(c._inner=c._inner.fork(Zone.longStackTraceZoneSpec)),c.shouldCoalesceEventChangeDetection=!a&&o,c.shouldCoalesceRunChangeDetection=a,c.lastRequestAnimationFrameId=-1,c.nativeRequestAnimationFrame=function aC(){let n=It.requestAnimationFrame,r=It.cancelAnimationFrame;if(typeof Zone<"u"&&n&&r){const o=n[Zone.__symbol__("OriginalDelegate")];o&&(n=o);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function cC(n){const r=()=>{!function uC(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(It,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,xE(n),n.isCheckStableRunning=!0,ME(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),xE(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(o,a,c,f,b,N)=>{try{return nI(n),o.invokeTask(c,f,b,N)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||n.shouldCoalesceRunChangeDetection)&&r(),rI(n)}},onInvoke:(o,a,c,f,b,N,F)=>{try{return nI(n),o.invoke(c,f,b,N,F)}finally{n.shouldCoalesceRunChangeDetection&&r(),rI(n)}},onHasTask:(o,a,c,f)=>{o.hasTask(c,f),a===c&&("microTask"==f.change?(n._hasPendingMicrotasks=f.microTask,xE(n),ME(n)):"macroTask"==f.change&&(n.hasPendingMacrotasks=f.macroTask))},onHandleError:(o,a,c,f)=>(o.handleError(c,f),n.runOutsideAngular(()=>n.onError.emit(f)),!1)})}(c)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!El.isInAngularZone())throw new ft(909,!1)}static assertNotInAngularZone(){if(El.isInAngularZone())throw new ft(909,!1)}run(r,o,a){return this._inner.run(r,o,a)}runTask(r,o,a,c){const f=this._inner,b=f.scheduleEventTask("NgZoneEvent: "+c,r,lC,w_,w_);try{return f.runTask(b,o,a)}finally{f.cancelTask(b)}}runGuarded(r,o,a){return this._inner.runGuarded(r,o,a)}runOutsideAngular(r){return this._outer.run(r)}}const lC={};function ME(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function xE(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function nI(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function rI(n){n._nesting--,ME(n)}class dC{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new cl,this.onMicrotaskEmpty=new cl,this.onStable=new cl,this.onError=new cl}run(r,o,a){return r.apply(o,a)}runGuarded(r,o,a){return r.apply(o,a)}runOutsideAngular(r){return r()}runTask(r,o,a,c){return r.apply(o,a)}}const iI=new ei(""),sI=new ei("");let PE,hC=(()=>{class n{constructor(o,a,c){this._ngZone=o,this.registry=a,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,PE||(function fC(n){PE=n}(c),c.addToWindow(a)),this._watchAngularEvents(),o.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{El.assertNotInAngularZone(),AE(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())AE(()=>{for(;0!==this._callbacks.length;){let o=this._callbacks.pop();clearTimeout(o.timeoutId),o.doneCb(this._didWork)}this._didWork=!1});else{let o=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(o)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(o=>({source:o.source,creationLocation:o.creationLocation,data:o.data})):[]}addCallback(o,a,c){let f=-1;a&&a>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(b=>b.timeoutId!==f),o(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:o,timeoutId:f,updateCb:c})}whenStable(o,a,c){if(c&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(o,a,c),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(o){this.registry.registerApplication(o,this)}unregisterApplication(o){this.registry.unregisterApplication(o)}findProviders(o,a,c){return[]}}return n.\u0275fac=function(o){return new(o||n)(vi(El),vi(oI),vi(sI))},n.\u0275prov=Fn({token:n,factory:n.\u0275fac}),n})(),oI=(()=>{class n{constructor(){this._applications=new Map}registerApplication(o,a){this._applications.set(o,a)}unregisterApplication(o){this._applications.delete(o)}unregisterAllApplications(){this._applications.clear()}getTestability(o){return this._applications.get(o)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(o,a=!0){return PE?.findTestabilityInTree(this,o,a)??null}}return n.\u0275fac=function(o){return new(o||n)},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})(),Qc=null;const aI=new ei("AllowMultipleToken"),NE=new ei("PlatformDestroyListeners");class mC{constructor(r,o){this.name=r,this.token=o}}function uI(n,r,o=[]){const a=`Platform: ${r}`,c=new ei(a);return(f=[])=>{let b=OE();if(!b||b.injector.get(aI,!1)){const N=[...o,...f,{provide:c,useValue:!0}];n?n(N):function yC(n){if(Qc&&!Qc.get(aI,!1))throw new ft(400,!1);Qc=n;const r=n.get(dI);(function lI(n){const r=n.get(Xb,null);r&&r.forEach(o=>o())})(n)}(function cI(n=[],r){return uu.create({name:r,providers:[{provide:tu,useValue:"platform"},{provide:NE,useValue:new Set([()=>Qc=null])},...n]})}(N,a))}return function _C(n){const r=OE();if(!r)throw new ft(401,!1);return r}()}}function OE(){return Qc?.get(dI)??null}let dI=(()=>{class n{constructor(o){this._injector=o,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(o,a){const c=function fI(n,r){let o;return o="noop"===n?new dC:("zone.js"===n?void 0:n)||new El(r),o}(a?.ngZone,function hI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!n||!n.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!n||!n.ngZoneRunCoalescing)||!1}}(a)),f=[{provide:El,useValue:c}];return c.run(()=>{const b=uu.create({providers:f,parent:this.injector,name:o.moduleType.name}),N=o.create(b),F=N.injector.get(_d,null);if(!F)throw new ft(402,!1);return c.runOutsideAngular(()=>{const Y=c.onError.subscribe({next:le=>{F.handleError(le)}});N.onDestroy(()=>{A_(this._modules,N),Y.unsubscribe()})}),function pI(n,r,o){try{const a=o();return zg(a)?a.catch(c=>{throw r.runOutsideAngular(()=>n.handleError(c)),c}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(F,c,()=>{const Y=N.injector.get(D_);return Y.runInitializers(),Y.donePromise.then(()=>(function L0(n){zn(n,"Expected localeId to be defined"),"string"==typeof n&&(Vv=n.toLowerCase().replace(/_/g,"-"))}(N.injector.get(T_,nh)||nh),this._moduleDoBootstrap(N),N))})})}bootstrapModule(o,a=[]){const c=gI({},a);return function pC(n,r,o){const a=new Im(o);return Promise.resolve(a)}(0,0,o).then(f=>this.bootstrapModuleFactory(f,c))}_moduleDoBootstrap(o){const a=o.injector.get(S_);if(o._bootstrapComponents.length>0)o._bootstrapComponents.forEach(c=>a.bootstrap(c));else{if(!o.instance.ngDoBootstrap)throw new ft(403,!1);o.instance.ngDoBootstrap(a)}this._modules.push(o)}onDestroy(o){this._destroyListeners.push(o)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ft(404,!1);this._modules.slice().forEach(a=>a.destroy()),this._destroyListeners.forEach(a=>a());const o=this._injector.get(NE,null);o&&(o.forEach(a=>a()),o.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(o){return new(o||n)(vi(uu))},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"platform"}),n})();function gI(n,r){return Array.isArray(r)?r.reduce(gI,n):{...n,...r}}let S_=(()=>{class n{constructor(o,a,c){this._zone=o,this._injector=a,this._exceptionHandler=c,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new re.y(N=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{N.next(this._stable),N.complete()})}),b=new re.y(N=>{let F;this._zone.runOutsideAngular(()=>{F=this._zone.onStable.subscribe(()=>{El.assertNotInAngularZone(),AE(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,N.next(!0))})})});const Y=this._zone.onUnstable.subscribe(()=>{El.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{N.next(!1)}))});return()=>{F.unsubscribe(),Y.unsubscribe()}});this.isStable=(0,Ve.T)(f,b.pipe((0,Re.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(o,a){const c=o instanceof fc;if(!this._injector.get(D_).done)throw!c&&lr(o),new ft(405,false);let b;b=c?o:this._injector.get(Mu).resolveComponentFactory(o),this.componentTypes.push(b.componentType);const N=function gC(n){return n.isBoundToModule}(b)?void 0:this._injector.get(Zc),Y=b.create(uu.NULL,[],a||b.selector,N),le=Y.location.nativeElement,ye=Y.injector.get(iI,null);return ye?.registerApplication(le),Y.onDestroy(()=>{this.detachView(Y.hostView),A_(this.components,Y),ye?.unregisterApplication(le)}),this._loadComponent(Y),Y}tick(){if(this._runningTick)throw new ft(101,!1);try{this._runningTick=!0;for(let o of this._views)o.detectChanges()}catch(o){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(o))}finally{this._runningTick=!1}}attachView(o){const a=o;this._views.push(a),a.attachToAppRef(this)}detachView(o){const a=o;A_(this._views,a),a.detachFromAppRef()}_loadComponent(o){this.attachView(o.hostView),this.tick(),this.components.push(o),this._injector.get(Jb,[]).concat(this._bootstrapListeners).forEach(c=>c(o))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(o=>o()),this._views.slice().forEach(o=>o.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(o){return this._destroyListeners.push(o),()=>A_(this._destroyListeners,o)}destroy(){if(this._destroyed)throw new ft(406,!1);const o=this._injector;o.destroy&&!o.destroyed&&o.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return n.\u0275fac=function(o){return new(o||n)(vi(El),vi(vo),vi(_d))},n.\u0275prov=Fn({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function A_(n,r){const o=n.indexOf(r);o>-1&&n.splice(o,1)}let yI=!0,vI=!1;function bC(){return vI=!0,yI}function IC(){if(vI)throw new Error("Cannot enable prod mode after platform setup.");yI=!1}let CC=(()=>{class n{}return n.__NG_ELEMENT_ID__=wC,n})();function wC(n){return function DC(n,r,o){if(ki(n)&&!o){const a=wr(n.index,r);return new gu(a,a)}return 47&n.type?new gu(r[16],r):null}(ti(),Mt(),16==(16&n))}class II{constructor(){}supports(r){return Hd(r)}create(r){return new PC(r)}}const xC=(n,r)=>r;class PC{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||xC}forEachItem(r){let o;for(o=this._itHead;null!==o;o=o._next)r(o)}forEachOperation(r){let o=this._itHead,a=this._removalsHead,c=0,f=null;for(;o||a;){const b=!a||o&&o.currentIndex<wI(a,c,f)?o:a,N=wI(b,c,f),F=b.currentIndex;if(b===a)c--,a=a._nextRemoved;else if(o=o._next,null==b.previousIndex)c++;else{f||(f=[]);const Y=N-c,le=F-c;if(Y!=le){for(let Ge=0;Ge<Y;Ge++){const ot=Ge<f.length?f[Ge]:f[Ge]=0,kt=ot+Ge;le<=kt&&kt<Y&&(f[Ge]=ot+1)}f[b.previousIndex]=le-Y}}N!==F&&r(b,N,F)}}forEachPreviousItem(r){let o;for(o=this._previousItHead;null!==o;o=o._nextPrevious)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachMovedItem(r){let o;for(o=this._movesHead;null!==o;o=o._nextMoved)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}forEachIdentityChange(r){let o;for(o=this._identityChangesHead;null!==o;o=o._nextIdentityChange)r(o)}diff(r){if(null==r&&(r=[]),!Hd(r))throw new ft(900,!1);return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let c,f,b,o=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let N=0;N<this.length;N++)f=r[N],b=this._trackByFn(N,f),null!==o&&Object.is(o.trackById,b)?(a&&(o=this._verifyReinsertion(o,f,b,N)),Object.is(o.item,f)||this._addIdentityChange(o,f)):(o=this._mismatch(o,f,b,N),a=!0),o=o._next}else c=0,function m0(n,r){if(Array.isArray(n))for(let o=0;o<n.length;o++)r(n[o]);else{const o=n[za()]();let a;for(;!(a=o.next()).done;)r(a.value)}}(r,N=>{b=this._trackByFn(c,N),null!==o&&Object.is(o.trackById,b)?(a&&(o=this._verifyReinsertion(o,N,b,c)),Object.is(o.item,N)||this._addIdentityChange(o,N)):(o=this._mismatch(o,N,b,c),a=!0),o=o._next,c++}),this.length=c;return this._truncate(o),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,o,a,c){let f;return null===r?f=this._itTail:(f=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._reinsertAfter(r,f,c)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,c))?(Object.is(r.item,o)||this._addIdentityChange(r,o),this._moveAfter(r,f,c)):r=this._addAfter(new NC(o,a),f,c),r}_verifyReinsertion(r,o,a,c){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==f?r=this._reinsertAfter(f,r._prev,c):r.currentIndex!=c&&(r.currentIndex=c,this._addToMoves(r,c)),r}_truncate(r){for(;null!==r;){const o=r._next;this._addToRemovals(this._unlink(r)),r=o}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,o,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const c=r._prevRemoved,f=r._nextRemoved;return null===c?this._removalsHead=f:c._nextRemoved=f,null===f?this._removalsTail=c:f._prevRemoved=c,this._insertAfter(r,o,a),this._addToMoves(r,a),r}_moveAfter(r,o,a){return this._unlink(r),this._insertAfter(r,o,a),this._addToMoves(r,a),r}_addAfter(r,o,a){return this._insertAfter(r,o,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,o,a){const c=null===o?this._itHead:o._next;return r._next=c,r._prev=o,null===c?this._itTail=r:c._prev=r,null===o?this._itHead=r:o._next=r,null===this._linkedRecords&&(this._linkedRecords=new CI),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const o=r._prev,a=r._next;return null===o?this._itHead=a:o._next=a,null===a?this._itTail=o:a._prev=o,r}_addToMoves(r,o){return r.previousIndex===o||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new CI),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,o){return r.item=o,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class NC{constructor(r,o){this.item=r,this.trackById=o,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class OC{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,o){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===o||o<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const o=r._prevDup,a=r._nextDup;return null===o?this._head=a:o._nextDup=a,null===a?this._tail=o:a._prevDup=o,null===this._head}}class CI{constructor(){this.map=new Map}put(r){const o=r.trackById;let a=this.map.get(o);a||(a=new OC,this.map.set(o,a)),a.add(r)}get(r,o){const c=this.map.get(r);return c?c.get(r,o):null}remove(r){const o=r.trackById;return this.map.get(o).remove(r)&&this.map.delete(o),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wI(n,r,o){const a=n.previousIndex;if(null===a)return a;let c=0;return o&&a<o.length&&(c=o[a]),a+r+c}class DI{constructor(){}supports(r){return r instanceof Map||wf(r)}create(){return new RC}}class RC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let o;for(o=this._mapHead;null!==o;o=o._next)r(o)}forEachPreviousItem(r){let o;for(o=this._previousMapHead;null!==o;o=o._nextPrevious)r(o)}forEachChangedItem(r){let o;for(o=this._changesHead;null!==o;o=o._nextChanged)r(o)}forEachAddedItem(r){let o;for(o=this._additionsHead;null!==o;o=o._nextAdded)r(o)}forEachRemovedItem(r){let o;for(o=this._removalsHead;null!==o;o=o._nextRemoved)r(o)}diff(r){if(r){if(!(r instanceof Map||wf(r)))throw new ft(900,!1)}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let o=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,c)=>{if(o&&o.key===c)this._maybeAddToChanges(o,a),this._appendAfter=o,o=o._next;else{const f=this._getOrCreateRecordForKey(c,a);o=this._insertBeforeOrAppend(o,f)}}),o){o._prev&&(o._prev._next=null),this._removalsHead=o;for(let a=o;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,o){if(r){const a=r._prev;return o._next=r,o._prev=a,r._prev=o,a&&(a._next=o),r===this._mapHead&&(this._mapHead=o),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=o,o._prev=this._appendAfter):this._mapHead=o,this._appendAfter=o,null}_getOrCreateRecordForKey(r,o){if(this._records.has(r)){const c=this._records.get(r);this._maybeAddToChanges(c,o);const f=c._prev,b=c._next;return f&&(f._next=b),b&&(b._prev=f),c._next=null,c._prev=null,c}const a=new kC(r);return this._records.set(r,a),a.currentValue=o,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,o){Object.is(o,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=o,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,o){r instanceof Map?r.forEach(o):Object.keys(r).forEach(a=>o(r[a],a))}}class kC{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function TI(){return new VE([new II])}let VE=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(null!=a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||TI()),deps:[[n,new ir,new hn]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(null!=a)return a;throw new ft(901,!1)}}return n.\u0275prov=Fn({token:n,providedIn:"root",factory:TI}),n})();function SI(){return new $E([new DI])}let $E=(()=>{class n{constructor(o){this.factories=o}static create(o,a){if(a){const c=a.factories.slice();o=o.concat(c)}return new n(o)}static extend(o){return{provide:n,useFactory:a=>n.create(o,a||SI()),deps:[[n,new ir,new hn]]}}find(o){const a=this.factories.find(c=>c.supports(o));if(a)return a;throw new ft(901,!1)}}return n.\u0275prov=Fn({token:n,providedIn:"root",factory:SI}),n})();const VC=uI(null,"core",[]);let $C=(()=>{class n{constructor(o){}}return n.\u0275fac=function(o){return new(o||n)(vi(S_))},n.\u0275mod=Un({type:n}),n.\u0275inj=Wn({}),n})();function BC(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}},433:(an,at,ee)=>{ee.d(at,{Fj:()=>xe,qu:()=>$o,NI:()=>ki,u:()=>Li,sg:()=>ts,u5:()=>ps,JJ:()=>dt,JL:()=>Oe,YN:()=>lo,UX:()=>xs,EJ:()=>Ki,kI:()=>Ee,_Y:()=>Xs,Kr:()=>eo});var m=ee(4650),ie=ee(6895),re=ee(8996),Ve=ee(9751),Re=ee(4742),Le=ee(8421),We=ee(3269),He=ee(5403),qe=ee(3268),fe=ee(1810),$e=ee(4004);let Pt=(()=>{class K{constructor(k,ae){this._renderer=k,this._elementRef=ae,this.onChange=ct=>{},this.onTouched=()=>{}}setProperty(k,ae){this._renderer.setProperty(this._elementRef.nativeElement,k,ae)}registerOnTouched(k){this.onTouched=k}registerOnChange(k){this.onChange=k}setDisabledState(k){this.setProperty("disabled",k)}}return K.\u0275fac=function(k){return new(k||K)(m.Y36(m.Qsj),m.Y36(m.SBq))},K.\u0275dir=m.lG2({type:K}),K})(),tt=(()=>{class K extends Pt{}return K.\u0275fac=function(){let j;return function(ae){return(j||(j=m.n5z(K)))(ae||K)}}(),K.\u0275dir=m.lG2({type:K,features:[m.qOj]}),K})();const ft=new m.OlP("NgValueAccessor"),ut={provide:ft,useExisting:(0,m.Gpc)(()=>xe),multi:!0},_n=new m.OlP("CompositionEventMode");let xe=(()=>{class K extends Pt{constructor(k,ae,ct){super(k,ae),this._compositionMode=ct,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function gn(){const K=(0,ie.q)()?(0,ie.q)().getUserAgent():"";return/android (\d+)/.test(K.toLowerCase())}())}writeValue(k){this.setProperty("value",k??"")}_handleInput(k){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(k)}_compositionStart(){this._composing=!0}_compositionEnd(k){this._composing=!1,this._compositionMode&&this.onChange(k)}}return K.\u0275fac=function(k){return new(k||K)(m.Y36(m.Qsj),m.Y36(m.SBq),m.Y36(_n,8))},K.\u0275dir=m.lG2({type:K,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(k,ae){1&k&&m.NdJ("input",function(un){return ae._handleInput(un.target.value)})("blur",function(){return ae.onTouched()})("compositionstart",function(){return ae._compositionStart()})("compositionend",function(un){return ae._compositionEnd(un.target.value)})},features:[m._Bn([ut]),m.qOj]}),K})();function vt(K){return null==K||("string"==typeof K||Array.isArray(K))&&0===K.length}function $t(K){return null!=K&&"number"==typeof K.length}const Et=new m.OlP("NgValidators"),Se=new m.OlP("NgAsyncValidators"),nt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ee{static min(j){return function Ke(K){return j=>{if(vt(j.value)||vt(K))return null;const k=parseFloat(j.value);return!isNaN(k)&&k<K?{min:{min:K,actual:j.value}}:null}}(j)}static max(j){return function Ne(K){return j=>{if(vt(j.value)||vt(K))return null;const k=parseFloat(j.value);return!isNaN(k)&&k>K?{max:{max:K,actual:j.value}}:null}}(j)}static required(j){return function Xe(K){return vt(K.value)?{required:!0}:null}(j)}static requiredTrue(j){return function Ft(K){return!0===K.value?null:{required:!0}}(j)}static email(j){return function Ut(K){return vt(K.value)||nt.test(K.value)?null:{email:!0}}(j)}static minLength(j){return function pn(K){return j=>vt(j.value)||!$t(j.value)?null:j.value.length<K?{minlength:{requiredLength:K,actualLength:j.value.length}}:null}(j)}static maxLength(j){return function Bn(K){return j=>$t(j.value)&&j.value.length>K?{maxlength:{requiredLength:K,actualLength:j.value.length}}:null}(j)}static pattern(j){return function zn(K){if(!K)return Kt;let j,k;return"string"==typeof K?(k="","^"!==K.charAt(0)&&(k+="^"),k+=K,"$"!==K.charAt(K.length-1)&&(k+="$"),j=new RegExp(k)):(k=K.toString(),j=K),ae=>{if(vt(ae.value))return null;const ct=ae.value;return j.test(ct)?null:{pattern:{requiredPattern:k,actualValue:ct}}}}(j)}static nullValidator(j){return null}static compose(j){return Tr(j)}static composeAsync(j){return _i(j)}}function Kt(K){return null}function Yn(K){return null!=K}function Gn(K){return(0,m.QGY)(K)?(0,re.D)(K):K}function hr(K){let j={};return K.forEach(k=>{j=null!=k?{...j,...k}:j}),0===Object.keys(j).length?null:j}function Fn(K,j){return j.map(k=>k(K))}function Wn(K){return K.map(j=>function Xr(K){return!K.validate}(j)?j:k=>j.validate(k))}function Tr(K){if(!K)return null;const j=K.filter(Yn);return 0==j.length?null:function(k){return hr(Fn(k,j))}}function Ri(K){return null!=K?Tr(Wn(K)):null}function _i(K){if(!K)return null;const j=K.filter(Yn);return 0==j.length?null:function(k){return function ve(...K){const j=(0,We.jO)(K),{args:k,keys:ae}=(0,Re.D)(K),ct=new Ve.y(un=>{const{length:Ln}=k;if(!Ln)return void un.complete();const as=new Array(Ln);let Vi=Ln,ls=Ln;for(let Do=0;Do<Ln;Do++){let fo=!1;(0,Le.Xf)(k[Do]).subscribe((0,He.x)(un,to=>{fo||(fo=!0,ls--),as[Do]=to},()=>Vi--,void 0,()=>{(!Vi||!fo)&&(ls||un.next(ae?(0,fe.n)(ae,as):as),un.complete())}))}});return j?ct.pipe((0,qe.Z)(j)):ct}(Fn(k,j).map(Gn)).pipe((0,$e.U)(hr))}}function mr(K){return null!=K?_i(Wn(K)):null}function ii(K,j){return null===K?[j]:Array.isArray(K)?[...K,j]:[K,j]}function Ci(K){return K._rawValidators}function Pn(K){return K._rawAsyncValidators}function zr(K){return K?Array.isArray(K)?K:[K]:[]}function oi(K,j){return Array.isArray(K)?K.includes(j):K===j}function Hr(K,j){const k=zr(j);return zr(K).forEach(ct=>{oi(k,ct)||k.push(ct)}),k}function Xt(K,j){return zr(j).filter(k=>!oi(K,k))}class fi{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(j){this._rawValidators=j||[],this._composedValidatorFn=Ri(this._rawValidators)}_setAsyncValidators(j){this._rawAsyncValidators=j||[],this._composedAsyncValidatorFn=mr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(j){this._onDestroyCallbacks.push(j)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(j=>j()),this._onDestroyCallbacks=[]}reset(j){this.control&&this.control.reset(j)}hasError(j,k){return!!this.control&&this.control.hasError(j,k)}getError(j,k){return this.control?this.control.getError(j,k):null}}class Cr extends fi{get formDirective(){return null}get path(){return null}}class _r extends fi{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class pi{constructor(j){this._cd=j}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let dt=(()=>{class K extends pi{constructor(k){super(k)}}return K.\u0275fac=function(k){return new(k||K)(m.Y36(_r,2))},K.\u0275dir=m.lG2({type:K,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(k,ae){2&k&&m.ekj("ng-untouched",ae.isUntouched)("ng-touched",ae.isTouched)("ng-pristine",ae.isPristine)("ng-dirty",ae.isDirty)("ng-valid",ae.isValid)("ng-invalid",ae.isInvalid)("ng-pending",ae.isPending)},features:[m.qOj]}),K})(),Oe=(()=>{class K extends pi{constructor(k){super(k)}}return K.\u0275fac=function(k){return new(k||K)(m.Y36(Cr,10))},K.\u0275dir=m.lG2({type:K,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(k,ae){2&k&&m.ekj("ng-untouched",ae.isUntouched)("ng-touched",ae.isTouched)("ng-pristine",ae.isPristine)("ng-dirty",ae.isDirty)("ng-valid",ae.isValid)("ng-invalid",ae.isInvalid)("ng-pending",ae.isPending)("ng-submitted",ae.isSubmitted)},features:[m.qOj]}),K})();const Un="VALID",Fe="INVALID",De="PENDING",je="DISABLED";function Ct(K){return(lr(K)?K.validators:K)||null}function Ye(K){return Array.isArray(K)?Ri(K):K||null}function Yt(K,j){return(lr(j)?j.asyncValidators:K)||null}function An(K){return Array.isArray(K)?mr(K):K||null}function lr(K){return null!=K&&!Array.isArray(K)&&"object"==typeof K}function Nr(K,j,k){const ae=K.controls;if(!(j?Object.keys(ae):ae).length)throw new m.vHH(1e3,"");if(!ae[k])throw new m.vHH(1001,"")}function gr(K,j,k){K._forEachChild((ae,ct)=>{if(void 0===k[ct])throw new m.vHH(1002,"")})}class Ae{constructor(j,k){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=j,this._rawAsyncValidators=k,this._composedValidatorFn=Ye(this._rawValidators),this._composedAsyncValidatorFn=An(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(j){this._rawValidators=this._composedValidatorFn=j}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(j){this._rawAsyncValidators=this._composedAsyncValidatorFn=j}get parent(){return this._parent}get valid(){return this.status===Un}get invalid(){return this.status===Fe}get pending(){return this.status==De}get disabled(){return this.status===je}get enabled(){return this.status!==je}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(j){this._rawValidators=j,this._composedValidatorFn=Ye(j)}setAsyncValidators(j){this._rawAsyncValidators=j,this._composedAsyncValidatorFn=An(j)}addValidators(j){this.setValidators(Hr(j,this._rawValidators))}addAsyncValidators(j){this.setAsyncValidators(Hr(j,this._rawAsyncValidators))}removeValidators(j){this.setValidators(Xt(j,this._rawValidators))}removeAsyncValidators(j){this.setAsyncValidators(Xt(j,this._rawAsyncValidators))}hasValidator(j){return oi(this._rawValidators,j)}hasAsyncValidator(j){return oi(this._rawAsyncValidators,j)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(j={}){this.touched=!0,this._parent&&!j.onlySelf&&this._parent.markAsTouched(j)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(j=>j.markAllAsTouched())}markAsUntouched(j={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(k=>{k.markAsUntouched({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}markAsDirty(j={}){this.pristine=!1,this._parent&&!j.onlySelf&&this._parent.markAsDirty(j)}markAsPristine(j={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(k=>{k.markAsPristine({onlySelf:!0})}),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}markAsPending(j={}){this.status=De,!1!==j.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!j.onlySelf&&this._parent.markAsPending(j)}disable(j={}){const k=this._parentMarkedDirty(j.onlySelf);this.status=je,this.errors=null,this._forEachChild(ae=>{ae.disable({...j,onlySelf:!0})}),this._updateValue(),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...j,skipPristineCheck:k}),this._onDisabledChange.forEach(ae=>ae(!0))}enable(j={}){const k=this._parentMarkedDirty(j.onlySelf);this.status=Un,this._forEachChild(ae=>{ae.enable({...j,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent}),this._updateAncestors({...j,skipPristineCheck:k}),this._onDisabledChange.forEach(ae=>ae(!1))}_updateAncestors(j){this._parent&&!j.onlySelf&&(this._parent.updateValueAndValidity(j),j.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(j){this._parent=j}getRawValue(){return this.value}updateValueAndValidity(j={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Un||this.status===De)&&this._runAsyncValidator(j.emitEvent)),!1!==j.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!j.onlySelf&&this._parent.updateValueAndValidity(j)}_updateTreeValidity(j={emitEvent:!0}){this._forEachChild(k=>k._updateTreeValidity(j)),this.updateValueAndValidity({onlySelf:!0,emitEvent:j.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?je:Un}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(j){if(this.asyncValidator){this.status=De,this._hasOwnPendingAsyncValidator=!0;const k=Gn(this.asyncValidator(this));this._asyncValidationSubscription=k.subscribe(ae=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(ae,{emitEvent:j})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(j,k={}){this.errors=j,this._updateControlsErrors(!1!==k.emitEvent)}get(j){let k=j;return null==k||(Array.isArray(k)||(k=k.split(".")),0===k.length)?null:k.reduce((ae,ct)=>ae&&ae._find(ct),this)}getError(j,k){const ae=k?this.get(k):this;return ae&&ae.errors?ae.errors[j]:null}hasError(j,k){return!!this.getError(j,k)}get root(){let j=this;for(;j._parent;)j=j._parent;return j}_updateControlsErrors(j){this.status=this._calculateStatus(),j&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(j)}_initObservables(){this.valueChanges=new m.vpe,this.statusChanges=new m.vpe}_calculateStatus(){return this._allControlsDisabled()?je:this.errors?Fe:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(De)?De:this._anyControlsHaveStatus(Fe)?Fe:Un}_anyControlsHaveStatus(j){return this._anyControls(k=>k.status===j)}_anyControlsDirty(){return this._anyControls(j=>j.dirty)}_anyControlsTouched(){return this._anyControls(j=>j.touched)}_updatePristine(j={}){this.pristine=!this._anyControlsDirty(),this._parent&&!j.onlySelf&&this._parent._updatePristine(j)}_updateTouched(j={}){this.touched=this._anyControlsTouched(),this._parent&&!j.onlySelf&&this._parent._updateTouched(j)}_registerOnCollectionChange(j){this._onCollectionChange=j}_setUpdateStrategy(j){lr(j)&&null!=j.updateOn&&(this._updateOn=j.updateOn)}_parentMarkedDirty(j){return!j&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(j){return null}}class _e extends Ae{constructor(j,k,ae){super(Ct(k),Yt(ae,k)),this.controls=j,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(j,k){return this.controls[j]?this.controls[j]:(this.controls[j]=k,k.setParent(this),k._registerOnCollectionChange(this._onCollectionChange),k)}addControl(j,k,ae={}){this.registerControl(j,k),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}removeControl(j,k={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}setControl(j,k,ae={}){this.controls[j]&&this.controls[j]._registerOnCollectionChange(()=>{}),delete this.controls[j],k&&this.registerControl(j,k),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}contains(j){return this.controls.hasOwnProperty(j)&&this.controls[j].enabled}setValue(j,k={}){gr(this,0,j),Object.keys(j).forEach(ae=>{Nr(this,!0,ae),this.controls[ae].setValue(j[ae],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(j,k={}){null!=j&&(Object.keys(j).forEach(ae=>{const ct=this.controls[ae];ct&&ct.patchValue(j[ae],{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(j={},k={}){this._forEachChild((ae,ct)=>{ae.reset(j[ct],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this._reduceChildren({},(j,k,ae)=>(j[ae]=k.getRawValue(),j))}_syncPendingControls(){let j=this._reduceChildren(!1,(k,ae)=>!!ae._syncPendingControls()||k);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){Object.keys(this.controls).forEach(k=>{const ae=this.controls[k];ae&&j(ae,k)})}_setUpControls(){this._forEachChild(j=>{j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(j){for(const[k,ae]of Object.entries(this.controls))if(this.contains(k)&&j(ae))return!0;return!1}_reduceValue(){return this._reduceChildren({},(k,ae,ct)=>((ae.enabled||this.disabled)&&(k[ct]=ae.value),k))}_reduceChildren(j,k){let ae=j;return this._forEachChild((ct,un)=>{ae=k(ae,ct,un)}),ae}_allControlsDisabled(){for(const j of Object.keys(this.controls))if(this.controls[j].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(j){return this.controls.hasOwnProperty(j)?this.controls[j]:null}}class St extends _e{}function yn(K,j){Rr(K,j),j.valueAccessor.writeValue(K.value),K.disabled&&j.valueAccessor.setDisabledState?.(!0),function Ts(K,j){j.valueAccessor.registerOnChange(k=>{K._pendingValue=k,K._pendingChange=!0,K._pendingDirty=!0,"change"===K.updateOn&&jr(K,j)})}(K,j),function ji(K,j){const k=(ae,ct)=>{j.valueAccessor.writeValue(ae),ct&&j.viewToModelUpdate(ae)};K.registerOnChange(k),j._registerOnDestroy(()=>{K._unregisterOnChange(k)})}(K,j),function Ss(K,j){j.valueAccessor.registerOnTouched(()=>{K._pendingTouched=!0,"blur"===K.updateOn&&K._pendingChange&&jr(K,j),"submit"!==K.updateOn&&K.markAsTouched()})}(K,j),function Jt(K,j){if(j.valueAccessor.setDisabledState){const k=ae=>{j.valueAccessor.setDisabledState(ae)};K.registerOnDisabledChange(k),j._registerOnDestroy(()=>{K._unregisterOnDisabledChange(k)})}}(K,j)}function Ur(K,j,k=!0){const ae=()=>{};j.valueAccessor&&(j.valueAccessor.registerOnChange(ae),j.valueAccessor.registerOnTouched(ae)),ai(K,j),K&&(j._invokeOnDestroyCallbacks(),K._registerOnCollectionChange(()=>{}))}function ci(K,j){K.forEach(k=>{k.registerOnValidatorChange&&k.registerOnValidatorChange(j)})}function Rr(K,j){const k=Ci(K);null!==j.validator?K.setValidators(ii(k,j.validator)):"function"==typeof k&&K.setValidators([k]);const ae=Pn(K);null!==j.asyncValidator?K.setAsyncValidators(ii(ae,j.asyncValidator)):"function"==typeof ae&&K.setAsyncValidators([ae]);const ct=()=>K.updateValueAndValidity();ci(j._rawValidators,ct),ci(j._rawAsyncValidators,ct)}function ai(K,j){let k=!1;if(null!==K){if(null!==j.validator){const ct=Ci(K);if(Array.isArray(ct)&&ct.length>0){const un=ct.filter(Ln=>Ln!==j.validator);un.length!==ct.length&&(k=!0,K.setValidators(un))}}if(null!==j.asyncValidator){const ct=Pn(K);if(Array.isArray(ct)&&ct.length>0){const un=ct.filter(Ln=>Ln!==j.asyncValidator);un.length!==ct.length&&(k=!0,K.setAsyncValidators(un))}}}const ae=()=>{};return ci(j._rawValidators,ae),ci(j._rawAsyncValidators,ae),k}function jr(K,j){K._pendingDirty&&K.markAsDirty(),K.setValue(K._pendingValue,{emitModelToViewChange:!1}),j.viewToModelUpdate(K._pendingValue),K._pendingChange=!1}function Ei(K,j){const k=K.indexOf(j);k>-1&&K.splice(k,1)}function Wi(K){return"object"==typeof K&&null!==K&&2===Object.keys(K).length&&"value"in K&&"disabled"in K}const ki=class extends Ae{constructor(j=null,k,ae){super(Ct(k),Yt(ae,k)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(j),this._setUpdateStrategy(k),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lr(k)&&(k.nonNullable||k.initialValueIsDefault)&&(this.defaultValue=Wi(j)?j.value:j)}setValue(j,k={}){this.value=this._pendingValue=j,this._onChange.length&&!1!==k.emitModelToViewChange&&this._onChange.forEach(ae=>ae(this.value,!1!==k.emitViewToModelChange)),this.updateValueAndValidity(k)}patchValue(j,k={}){this.setValue(j,k)}reset(j=this.defaultValue,k={}){this._applyFormState(j),this.markAsPristine(k),this.markAsUntouched(k),this.setValue(this.value,k),this._pendingChange=!1}_updateValue(){}_anyControls(j){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(j){this._onChange.push(j)}_unregisterOnChange(j){Ei(this._onChange,j)}registerOnDisabledChange(j){this._onDisabledChange.push(j)}_unregisterOnDisabledChange(j){Ei(this._onDisabledChange,j)}_forEachChild(j){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(j){Wi(j)?(this.value=this._pendingValue=j.value,j.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=j}};let Xs=(()=>{class K{}return K.\u0275fac=function(k){return new(k||K)},K.\u0275dir=m.lG2({type:K,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),K})(),Lo=(()=>{class K{}return K.\u0275fac=function(k){return new(k||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({}),K})();const bi=new m.OlP("NgModelWithFormControlWarning"),Si={provide:Cr,useExisting:(0,m.Gpc)(()=>ts)};let ts=(()=>{class K extends Cr{constructor(k,ae){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new m.vpe,this._setValidators(k),this._setAsyncValidators(ae)}ngOnChanges(k){this._checkFormPresent(),k.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ai(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(k){const ae=this.form.get(k.path);return yn(ae,k),ae.updateValueAndValidity({emitEvent:!1}),this.directives.push(k),ae}getControl(k){return this.form.get(k.path)}removeControl(k){Ur(k.control||null,k,!1),function zi(K,j){const k=K.indexOf(j);k>-1&&K.splice(k,1)}(this.directives,k)}addFormGroup(k){this._setUpFormContainer(k)}removeFormGroup(k){this._cleanUpFormContainer(k)}getFormGroup(k){return this.form.get(k.path)}addFormArray(k){this._setUpFormContainer(k)}removeFormArray(k){this._cleanUpFormContainer(k)}getFormArray(k){return this.form.get(k.path)}updateModel(k,ae){this.form.get(k.path).setValue(ae)}onSubmit(k){return this.submitted=!0,function Os(K,j){K._syncPendingControls(),j.forEach(k=>{const ae=k.control;"submit"===ae.updateOn&&ae._pendingChange&&(k.viewToModelUpdate(ae._pendingValue),ae._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(k),"dialog"===k?.target?.method}onReset(){this.resetForm()}resetForm(k){this.form.reset(k),this.submitted=!1}_updateDomValue(){this.directives.forEach(k=>{const ae=k.control,ct=this.form.get(k.path);ae!==ct&&(Ur(ae||null,k),(K=>K instanceof ki)(ct)&&(yn(ct,k),k.control=ct))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(k){const ae=this.form.get(k.path);(function As(K,j){Rr(K,j)})(ae,k),ae.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(k){if(this.form){const ae=this.form.get(k.path);ae&&function nr(K,j){return ai(K,j)}(ae,k)&&ae.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Rr(this.form,this),this._oldForm&&ai(this._oldForm,this)}_checkFormPresent(){}}return K.\u0275fac=function(k){return new(k||K)(m.Y36(Et,10),m.Y36(Se,10))},K.\u0275dir=m.lG2({type:K,selectors:[["","formGroup",""]],hostBindings:function(k,ae){1&k&&m.NdJ("submit",function(un){return ae.onSubmit(un)})("reset",function(){return ae.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[m._Bn([Si]),m.qOj,m.TTD]}),K})();const ao={provide:_r,useExisting:(0,m.Gpc)(()=>Li)};let Li=(()=>{class K extends _r{constructor(k,ae,ct,un,Ln){super(),this._ngModelWarningConfig=Ln,this._added=!1,this.update=new m.vpe,this._ngModelWarningSent=!1,this._parent=k,this._setValidators(ae),this._setAsyncValidators(ct),this.valueAccessor=function Ji(K,j){if(!j)return null;let k,ae,ct;return Array.isArray(j),j.forEach(un=>{un.constructor===xe?k=un:function gi(K){return Object.getPrototypeOf(K.constructor)===tt}(un)?ae=un:ct=un}),ct||ae||k||null}(0,un)}set isDisabled(k){}ngOnChanges(k){this._added||this._setUpControl(),function Ms(K,j){if(!K.hasOwnProperty("model"))return!1;const k=K.model;return!!k.isFirstChange()||!Object.is(j,k.currentValue)}(k,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(k){this.viewModel=k,this.update.emit(k)}get path(){return function Cn(K,j){return[...j.path,K]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return K._ngModelWarningSentOnce=!1,K.\u0275fac=function(k){return new(k||K)(m.Y36(Cr,13),m.Y36(Et,10),m.Y36(Se,10),m.Y36(ft,10),m.Y36(bi,8))},K.\u0275dir=m.lG2({type:K,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[m._Bn([ao]),m.qOj,m.TTD]}),K})();const mi={provide:ft,useExisting:(0,m.Gpc)(()=>Ki),multi:!0};function hi(K,j){return null==K?`${j}`:(j&&"object"==typeof j&&(j="Object"),`${K}: ${j}`.slice(0,50))}let Ki=(()=>{class K extends tt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){this.value=k;const ct=hi(this._getOptionId(k),k);this.setProperty("value",ct)}registerOnChange(k){this.onChange=ae=>{this.value=this._getOptionValue(ae),k(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(k){for(const ae of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ae),k))return ae;return null}_getOptionValue(k){const ae=function rs(K){return K.split(":")[0]}(k);return this._optionMap.has(ae)?this._optionMap.get(ae):k}}return K.\u0275fac=function(){let j;return function(ae){return(j||(j=m.n5z(K)))(ae||K)}}(),K.\u0275dir=m.lG2({type:K,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(k,ae){1&k&&m.NdJ("change",function(un){return ae.onChange(un.target.value)})("blur",function(){return ae.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([mi]),m.qOj]}),K})(),lo=(()=>{class K{constructor(k,ae,ct){this._element=k,this._renderer=ae,this._select=ct,this._select&&(this.id=this._select._registerOption())}set ngValue(k){null!=this._select&&(this._select._optionMap.set(this.id,k),this._setElementValue(hi(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._setElementValue(k),this._select&&this._select.writeValue(this._select.value)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return K.\u0275fac=function(k){return new(k||K)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Ki,9))},K.\u0275dir=m.lG2({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),K})();const Fi={provide:ft,useExisting:(0,m.Gpc)(()=>Cs),multi:!0};function uo(K,j){return null==K?`${j}`:("string"==typeof j&&(j=`'${j}'`),j&&"object"==typeof j&&(j="Object"),`${K}: ${j}`.slice(0,50))}let Cs=(()=>{class K extends tt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(k){this._compareWith=k}writeValue(k){let ae;if(this.value=k,Array.isArray(k)){const ct=k.map(un=>this._getOptionId(un));ae=(un,Ln)=>{un._setSelected(ct.indexOf(Ln.toString())>-1)}}else ae=(ct,un)=>{ct._setSelected(!1)};this._optionMap.forEach(ae)}registerOnChange(k){this.onChange=ae=>{const ct=[],un=ae.selectedOptions;if(void 0!==un){const Ln=un;for(let as=0;as<Ln.length;as++){const ls=this._getOptionValue(Ln[as].value);ct.push(ls)}}else{const Ln=ae.options;for(let as=0;as<Ln.length;as++){const Vi=Ln[as];if(Vi.selected){const ls=this._getOptionValue(Vi.value);ct.push(ls)}}}this.value=ct,k(ct)}}_registerOption(k){const ae=(this._idCounter++).toString();return this._optionMap.set(ae,k),ae}_getOptionId(k){for(const ae of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(ae)._value,k))return ae;return null}_getOptionValue(k){const ae=function Us(K){return K.split(":")[0]}(k);return this._optionMap.has(ae)?this._optionMap.get(ae)._value:k}}return K.\u0275fac=function(){let j;return function(ae){return(j||(j=m.n5z(K)))(ae||K)}}(),K.\u0275dir=m.lG2({type:K,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(k,ae){1&k&&m.NdJ("change",function(un){return ae.onChange(un.target)})("blur",function(){return ae.onTouched()})},inputs:{compareWith:"compareWith"},features:[m._Bn([Fi]),m.qOj]}),K})(),eo=(()=>{class K{constructor(k,ae,ct){this._element=k,this._renderer=ae,this._select=ct,this._select&&(this.id=this._select._registerOption(this))}set ngValue(k){null!=this._select&&(this._value=k,this._setElementValue(uo(this.id,k)),this._select.writeValue(this._select.value))}set value(k){this._select?(this._value=k,this._setElementValue(uo(this.id,k)),this._select.writeValue(this._select.value)):this._setElementValue(k)}_setElementValue(k){this._renderer.setProperty(this._element.nativeElement,"value",k)}_setSelected(k){this._renderer.setProperty(this._element.nativeElement,"selected",k)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return K.\u0275fac=function(k){return new(k||K)(m.Y36(m.SBq),m.Y36(m.Qsj),m.Y36(Cs,9))},K.\u0275dir=m.lG2({type:K,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),K})(),ur=(()=>{class K{}return K.\u0275fac=function(k){return new(k||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[Lo]}),K})(),ps=(()=>{class K{}return K.\u0275fac=function(k){return new(k||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[ur]}),K})(),xs=(()=>{class K{static withConfig(k){return{ngModule:K,providers:[{provide:bi,useValue:k.warnOnNgModelWithFormControl}]}}}return K.\u0275fac=function(k){return new(k||K)},K.\u0275mod=m.oAB({type:K}),K.\u0275inj=m.cJS({imports:[ur]}),K})();class ti extends Ae{constructor(j,k,ae){super(Ct(k),Yt(ae,k)),this.controls=j,this._initObservables(),this._setUpdateStrategy(k),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(j){return this.controls[this._adjustIndex(j)]}push(j,k={}){this.controls.push(j),this._registerControl(j),this.updateValueAndValidity({emitEvent:k.emitEvent}),this._onCollectionChange()}insert(j,k,ae={}){this.controls.splice(j,0,k),this._registerControl(k),this.updateValueAndValidity({emitEvent:ae.emitEvent})}removeAt(j,k={}){let ae=this._adjustIndex(j);ae<0&&(ae=0),this.controls[ae]&&this.controls[ae]._registerOnCollectionChange(()=>{}),this.controls.splice(ae,1),this.updateValueAndValidity({emitEvent:k.emitEvent})}setControl(j,k,ae={}){let ct=this._adjustIndex(j);ct<0&&(ct=0),this.controls[ct]&&this.controls[ct]._registerOnCollectionChange(()=>{}),this.controls.splice(ct,1),k&&(this.controls.splice(ct,0,k),this._registerControl(k)),this.updateValueAndValidity({emitEvent:ae.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(j,k={}){gr(this,0,j),j.forEach((ae,ct)=>{Nr(this,!1,ct),this.at(ct).setValue(ae,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k)}patchValue(j,k={}){null!=j&&(j.forEach((ae,ct)=>{this.at(ct)&&this.at(ct).patchValue(ae,{onlySelf:!0,emitEvent:k.emitEvent})}),this.updateValueAndValidity(k))}reset(j=[],k={}){this._forEachChild((ae,ct)=>{ae.reset(j[ct],{onlySelf:!0,emitEvent:k.emitEvent})}),this._updatePristine(k),this._updateTouched(k),this.updateValueAndValidity(k)}getRawValue(){return this.controls.map(j=>j.getRawValue())}clear(j={}){this.controls.length<1||(this._forEachChild(k=>k._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:j.emitEvent}))}_adjustIndex(j){return j<0?j+this.length:j}_syncPendingControls(){let j=this.controls.reduce((k,ae)=>!!ae._syncPendingControls()||k,!1);return j&&this.updateValueAndValidity({onlySelf:!0}),j}_forEachChild(j){this.controls.forEach((k,ae)=>{j(k,ae)})}_updateValue(){this.value=this.controls.filter(j=>j.enabled||this.disabled).map(j=>j.value)}_anyControls(j){return this.controls.some(k=>k.enabled&&j(k))}_setUpControls(){this._forEachChild(j=>this._registerControl(j))}_allControlsDisabled(){for(const j of this.controls)if(j.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(j){j.setParent(this),j._registerOnCollectionChange(this._onCollectionChange)}_find(j){return this.at(j)??null}}function gs(K){return!!K&&(void 0!==K.asyncValidators||void 0!==K.validators||void 0!==K.updateOn)}let $o=(()=>{class K{constructor(){this.useNonNullable=!1}get nonNullable(){const k=new K;return k.useNonNullable=!0,k}group(k,ae=null){const ct=this._reduceControls(k);let un={};return gs(ae)?un=ae:null!==ae&&(un.validators=ae.validator,un.asyncValidators=ae.asyncValidator),new _e(ct,un)}record(k,ae=null){const ct=this._reduceControls(k);return new St(ct,ae)}control(k,ae,ct){let un={};return this.useNonNullable?(gs(ae)?un=ae:(un.validators=ae,un.asyncValidators=ct),new ki(k,{...un,nonNullable:!0})):new ki(k,ae,ct)}array(k,ae,ct){const un=k.map(Ln=>this._createControl(Ln));return new ti(un,ae,ct)}_reduceControls(k){const ae={};return Object.keys(k).forEach(ct=>{ae[ct]=this._createControl(k[ct])}),ae}_createControl(k){return k instanceof ki||k instanceof Ae?k:Array.isArray(k)?this.control(k[0],k.length>1?k[1]:null,k.length>2?k[2]:null):this.control(k)}}return K.\u0275fac=function(k){return new(k||K)},K.\u0275prov=m.Yz7({token:K,factory:K.\u0275fac,providedIn:xs}),K})()},1481:(an,at,ee)=>{ee.d(at,{Dx:()=>dt,b2:()=>Cr,q6:()=>oi,se:()=>Xe});var m=ee(6895),ie=ee(4650);class re extends m.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ve extends re{static makeCurrent(){(0,m.HT)(new Ve)}onAndCancel(_e,pe,et){return _e.addEventListener(pe,et,!1),()=>{_e.removeEventListener(pe,et,!1)}}dispatchEvent(_e,pe){_e.dispatchEvent(pe)}remove(_e){_e.parentNode&&_e.parentNode.removeChild(_e)}createElement(_e,pe){return(pe=pe||this.getDefaultDocument()).createElement(_e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(_e){return _e.nodeType===Node.ELEMENT_NODE}isShadowRoot(_e){return _e instanceof DocumentFragment}getGlobalEventTarget(_e,pe){return"window"===pe?window:"document"===pe?_e:"body"===pe?_e.body:null}getBaseHref(_e){const pe=function Le(){return Re=Re||document.querySelector("base"),Re?Re.getAttribute("href"):null}();return null==pe?null:function He(Ae){We=We||document.createElement("a"),We.setAttribute("href",Ae);const _e=We.pathname;return"/"===_e.charAt(0)?_e:`/${_e}`}(pe)}resetBaseElement(){Re=null}getUserAgent(){return window.navigator.userAgent}getCookie(_e){return(0,m.Mx)(document.cookie,_e)}}let We,Re=null;const qe=new ie.OlP("TRANSITION_ID"),ve=[{provide:ie.ip1,useFactory:function fe(Ae,_e,pe){return()=>{pe.get(ie.CZH).donePromise.then(()=>{const et=(0,m.q)(),St=_e.querySelectorAll(`style[ng-transition="${Ae}"]`);for(let mn=0;mn<St.length;mn++)et.remove(St[mn])})}},deps:[qe,m.K0,ie.zs3],multi:!0}];let Pt=(()=>{class Ae{build(){return new XMLHttpRequest}}return Ae.\u0275fac=function(pe){return new(pe||Ae)},Ae.\u0275prov=ie.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const tt=new ie.OlP("EventManagerPlugins");let ft=(()=>{class Ae{constructor(pe,et){this._zone=et,this._eventNameToPlugin=new Map,pe.forEach(St=>St.manager=this),this._plugins=pe.slice().reverse()}addEventListener(pe,et,St){return this._findPluginFor(et).addEventListener(pe,et,St)}addGlobalEventListener(pe,et,St){return this._findPluginFor(et).addGlobalEventListener(pe,et,St)}getZone(){return this._zone}_findPluginFor(pe){const et=this._eventNameToPlugin.get(pe);if(et)return et;const St=this._plugins;for(let mn=0;mn<St.length;mn++){const Cn=St[mn];if(Cn.supports(pe))return this._eventNameToPlugin.set(pe,Cn),Cn}throw new Error(`No event manager plugin found for event ${pe}`)}}return Ae.\u0275fac=function(pe){return new(pe||Ae)(ie.LFG(tt),ie.LFG(ie.R0b))},Ae.\u0275prov=ie.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();class rn{constructor(_e){this._doc=_e}addGlobalEventListener(_e,pe,et){const St=(0,m.q)().getGlobalEventTarget(this._doc,_e);if(!St)throw new Error(`Unsupported event target ${St} for event ${pe}`);return this.addEventListener(St,pe,et)}}let pt=(()=>{class Ae{constructor(){this._stylesSet=new Set}addStyles(pe){const et=new Set;pe.forEach(St=>{this._stylesSet.has(St)||(this._stylesSet.add(St),et.add(St))}),this.onStylesAdded(et)}onStylesAdded(pe){}getAllStyles(){return Array.from(this._stylesSet)}}return Ae.\u0275fac=function(pe){return new(pe||Ae)},Ae.\u0275prov=ie.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})(),ut=(()=>{class Ae extends pt{constructor(pe){super(),this._doc=pe,this._hostNodes=new Map,this._hostNodes.set(pe.head,[])}_addStylesToHost(pe,et,St){pe.forEach(mn=>{const Cn=this._doc.createElement("style");Cn.textContent=mn,St.push(et.appendChild(Cn))})}addHost(pe){const et=[];this._addStylesToHost(this._stylesSet,pe,et),this._hostNodes.set(pe,et)}removeHost(pe){const et=this._hostNodes.get(pe);et&&et.forEach(gn),this._hostNodes.delete(pe)}onStylesAdded(pe){this._hostNodes.forEach((et,St)=>{this._addStylesToHost(pe,St,et)})}ngOnDestroy(){this._hostNodes.forEach(pe=>pe.forEach(gn))}}return Ae.\u0275fac=function(pe){return new(pe||Ae)(ie.LFG(m.K0))},Ae.\u0275prov=ie.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();function gn(Ae){(0,m.q)().remove(Ae)}const _n={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},xe=/%COMP%/g;function Ee(Ae,_e,pe){for(let et=0;et<_e.length;et++){let St=_e[et];Array.isArray(St)?Ee(Ae,St,pe):(St=St.replace(xe,Ae),pe.push(St))}return pe}function Ke(Ae){return _e=>{if("__ngUnwrap__"===_e)return Ae;!1===Ae(_e)&&(_e.preventDefault(),_e.returnValue=!1)}}let Xe=(()=>{class Ae{constructor(pe,et,St){this.eventManager=pe,this.sharedStylesHost=et,this.appId=St,this.rendererByCompId=new Map,this.defaultRenderer=new Ft(pe)}createRenderer(pe,et){if(!pe||!et)return this.defaultRenderer;switch(et.encapsulation){case ie.ifc.Emulated:{let St=this.rendererByCompId.get(et.id);return St||(St=new zn(this.eventManager,this.sharedStylesHost,et,this.appId),this.rendererByCompId.set(et.id,St)),St.applyToHost(pe),St}case 1:case ie.ifc.ShadowDom:return new Kt(this.eventManager,this.sharedStylesHost,pe,et);default:if(!this.rendererByCompId.has(et.id)){const St=Ee(et.id,et.styles,[]);this.sharedStylesHost.addStyles(St),this.rendererByCompId.set(et.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Ae.\u0275fac=function(pe){return new(pe||Ae)(ie.LFG(ft),ie.LFG(ut),ie.LFG(ie.AFp))},Ae.\u0275prov=ie.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();class Ft{constructor(_e){this.eventManager=_e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(_e,pe){return pe?document.createElementNS(_n[pe]||pe,_e):document.createElement(_e)}createComment(_e){return document.createComment(_e)}createText(_e){return document.createTextNode(_e)}appendChild(_e,pe){(Bn(_e)?_e.content:_e).appendChild(pe)}insertBefore(_e,pe,et){_e&&(Bn(_e)?_e.content:_e).insertBefore(pe,et)}removeChild(_e,pe){_e&&_e.removeChild(pe)}selectRootElement(_e,pe){let et="string"==typeof _e?document.querySelector(_e):_e;if(!et)throw new Error(`The selector "${_e}" did not match any elements`);return pe||(et.textContent=""),et}parentNode(_e){return _e.parentNode}nextSibling(_e){return _e.nextSibling}setAttribute(_e,pe,et,St){if(St){pe=St+":"+pe;const mn=_n[St];mn?_e.setAttributeNS(mn,pe,et):_e.setAttribute(pe,et)}else _e.setAttribute(pe,et)}removeAttribute(_e,pe,et){if(et){const St=_n[et];St?_e.removeAttributeNS(St,pe):_e.removeAttribute(`${et}:${pe}`)}else _e.removeAttribute(pe)}addClass(_e,pe){_e.classList.add(pe)}removeClass(_e,pe){_e.classList.remove(pe)}setStyle(_e,pe,et,St){St&(ie.JOm.DashCase|ie.JOm.Important)?_e.style.setProperty(pe,et,St&ie.JOm.Important?"important":""):_e.style[pe]=et}removeStyle(_e,pe,et){et&ie.JOm.DashCase?_e.style.removeProperty(pe):_e.style[pe]=""}setProperty(_e,pe,et){_e[pe]=et}setValue(_e,pe){_e.nodeValue=pe}listen(_e,pe,et){return"string"==typeof _e?this.eventManager.addGlobalEventListener(_e,pe,Ke(et)):this.eventManager.addEventListener(_e,pe,Ke(et))}}function Bn(Ae){return"TEMPLATE"===Ae.tagName&&void 0!==Ae.content}class zn extends Ft{constructor(_e,pe,et,St){super(_e),this.component=et;const mn=Ee(St+"-"+et.id,et.styles,[]);pe.addStyles(mn),this.contentAttr=function Se(Ae){return"_ngcontent-%COMP%".replace(xe,Ae)}(St+"-"+et.id),this.hostAttr=function nt(Ae){return"_nghost-%COMP%".replace(xe,Ae)}(St+"-"+et.id)}applyToHost(_e){super.setAttribute(_e,this.hostAttr,"")}createElement(_e,pe){const et=super.createElement(_e,pe);return super.setAttribute(et,this.contentAttr,""),et}}class Kt extends Ft{constructor(_e,pe,et,St){super(_e),this.sharedStylesHost=pe,this.hostEl=et,this.shadowRoot=et.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const mn=Ee(St.id,St.styles,[]);for(let Cn=0;Cn<mn.length;Cn++){const yn=document.createElement("style");yn.textContent=mn[Cn],this.shadowRoot.appendChild(yn)}}nodeOrShadowRoot(_e){return _e===this.hostEl?this.shadowRoot:_e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(_e,pe){return super.appendChild(this.nodeOrShadowRoot(_e),pe)}insertBefore(_e,pe,et){return super.insertBefore(this.nodeOrShadowRoot(_e),pe,et)}removeChild(_e,pe){return super.removeChild(this.nodeOrShadowRoot(_e),pe)}parentNode(_e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(_e)))}}let Yn=(()=>{class Ae extends rn{constructor(pe){super(pe)}supports(pe){return!0}addEventListener(pe,et,St){return pe.addEventListener(et,St,!1),()=>this.removeEventListener(pe,et,St)}removeEventListener(pe,et,St){return pe.removeEventListener(et,St)}}return Ae.\u0275fac=function(pe){return new(pe||Ae)(ie.LFG(m.K0))},Ae.\u0275prov=ie.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const Gn=["alt","control","meta","shift"],hr={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Fn={alt:Ae=>Ae.altKey,control:Ae=>Ae.ctrlKey,meta:Ae=>Ae.metaKey,shift:Ae=>Ae.shiftKey};let Xr=(()=>{class Ae extends rn{constructor(pe){super(pe)}supports(pe){return null!=Ae.parseEventName(pe)}addEventListener(pe,et,St){const mn=Ae.parseEventName(et),Cn=Ae.eventCallback(mn.fullKey,St,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,m.q)().onAndCancel(pe,mn.domEventName,Cn))}static parseEventName(pe){const et=pe.toLowerCase().split("."),St=et.shift();if(0===et.length||"keydown"!==St&&"keyup"!==St)return null;const mn=Ae._normalizeKey(et.pop());let Cn="",yn=et.indexOf("code");if(yn>-1&&(et.splice(yn,1),Cn="code."),Gn.forEach(ci=>{const Jt=et.indexOf(ci);Jt>-1&&(et.splice(Jt,1),Cn+=ci+".")}),Cn+=mn,0!=et.length||0===mn.length)return null;const Ur={};return Ur.domEventName=St,Ur.fullKey=Cn,Ur}static matchEventFullKeyCode(pe,et){let St=hr[pe.key]||pe.key,mn="";return et.indexOf("code.")>-1&&(St=pe.code,mn="code."),!(null==St||!St)&&(St=St.toLowerCase()," "===St?St="space":"."===St&&(St="dot"),Gn.forEach(Cn=>{Cn!==St&&(0,Fn[Cn])(pe)&&(mn+=Cn+".")}),mn+=St,mn===et)}static eventCallback(pe,et,St){return mn=>{Ae.matchEventFullKeyCode(mn,pe)&&St.runGuarded(()=>et(mn))}}static _normalizeKey(pe){return"esc"===pe?"escape":pe}}return Ae.\u0275fac=function(pe){return new(pe||Ae)(ie.LFG(m.K0))},Ae.\u0275prov=ie.Yz7({token:Ae,factory:Ae.\u0275fac}),Ae})();const oi=(0,ie.eFA)(ie._c5,"browser",[{provide:ie.Lbi,useValue:m.bD},{provide:ie.g9A,useValue:function ii(){Ve.makeCurrent()},multi:!0},{provide:m.K0,useFactory:function Pn(){return(0,ie.RDi)(document),document},deps:[]}]),Hr=new ie.OlP(""),Xt=[{provide:ie.rWj,useClass:class $e{addToWindow(_e){ie.dqk.getAngularTestability=(et,St=!0)=>{const mn=_e.findTestabilityInTree(et,St);if(null==mn)throw new Error("Could not find testability for element.");return mn},ie.dqk.getAllAngularTestabilities=()=>_e.getAllTestabilities(),ie.dqk.getAllAngularRootElements=()=>_e.getAllRootElements(),ie.dqk.frameworkStabilizers||(ie.dqk.frameworkStabilizers=[]),ie.dqk.frameworkStabilizers.push(et=>{const St=ie.dqk.getAllAngularTestabilities();let mn=St.length,Cn=!1;const yn=function(Ur){Cn=Cn||Ur,mn--,0==mn&&et(Cn)};St.forEach(function(Ur){Ur.whenStable(yn)})})}findTestabilityInTree(_e,pe,et){return null==pe?null:_e.getTestability(pe)??(et?(0,m.q)().isShadowRoot(pe)?this.findTestabilityInTree(_e,pe.host,!0):this.findTestabilityInTree(_e,pe.parentElement,!0):null)}},deps:[]},{provide:ie.lri,useClass:ie.dDg,deps:[ie.R0b,ie.eoX,ie.rWj]},{provide:ie.dDg,useClass:ie.dDg,deps:[ie.R0b,ie.eoX,ie.rWj]}],fi=[{provide:ie.zSh,useValue:"root"},{provide:ie.qLn,useFactory:function Ci(){return new ie.qLn},deps:[]},{provide:tt,useClass:Yn,multi:!0,deps:[m.K0,ie.R0b,ie.Lbi]},{provide:tt,useClass:Xr,multi:!0,deps:[m.K0]},{provide:Xe,useClass:Xe,deps:[ft,ut,ie.AFp]},{provide:ie.FYo,useExisting:Xe},{provide:pt,useExisting:ut},{provide:ut,useClass:ut,deps:[m.K0]},{provide:ft,useClass:ft,deps:[tt,ie.R0b]},{provide:m.JF,useClass:Pt,deps:[]},[]];let Cr=(()=>{class Ae{constructor(pe){}static withServerTransition(pe){return{ngModule:Ae,providers:[{provide:ie.AFp,useValue:pe.appId},{provide:qe,useExisting:ie.AFp},ve]}}}return Ae.\u0275fac=function(pe){return new(pe||Ae)(ie.LFG(Hr,12))},Ae.\u0275mod=ie.oAB({type:Ae}),Ae.\u0275inj=ie.cJS({providers:[...fi,...Xt],imports:[m.ez,ie.hGG]}),Ae})(),dt=(()=>{class Ae{constructor(pe){this._doc=pe}getTitle(){return this._doc.title}setTitle(pe){this._doc.title=pe||""}}return Ae.\u0275fac=function(pe){return new(pe||Ae)(ie.LFG(m.K0))},Ae.\u0275prov=ie.Yz7({token:Ae,factory:function(pe){let et=null;return et=pe?new pe:function si(){return new dt((0,ie.LFG)(m.K0))}(),et},providedIn:"root"}),Ae})();typeof window<"u"&&window},8471:(an,at,ee)=>{ee.d(at,{Bz:()=>na,lC:()=>hs});var m=ee(4650),ie=ee(8996),re=ee(9646),Ve=ee(7579);class Re extends Ve.x{constructor(T){super(),this._value=T}get value(){return this.getValue()}_subscribe(T){const I=super._subscribe(T);return!I.closed&&T.next(this._value),I}getValue(){const{hasError:T,thrownError:I,_value:L}=this;if(T)throw I;return this._throwIfClosed(),L}next(T){super.next(this._value=T)}}var Le=ee(6805),We=ee(9751),He=ee(4742),qe=ee(4671),fe=ee(3268),ve=ee(3269),$e=ee(1810),Pt=ee(5403),tt=ee(9672);function ft(...D){const T=(0,ve.yG)(D),I=(0,ve.jO)(D),{args:L,keys:G}=(0,He.D)(D);if(0===L.length)return(0,ie.D)([],T);const oe=new We.y(function rn(D,T,I=qe.y){return L=>{pt(T,()=>{const{length:G}=D,oe=new Array(G);let me=G,Pe=G;for(let yt=0;yt<G;yt++)pt(T,()=>{const jt=(0,ie.D)(D[yt],T);let Qn=!1;jt.subscribe((0,Pt.x)(L,vn=>{oe[yt]=vn,Qn||(Qn=!0,Pe--),Pe||L.next(I(oe.slice()))},()=>{--me||L.complete()}))},L)},L)}}(L,T,G?me=>(0,$e.n)(G,me):qe.y));return I?oe.pipe((0,fe.Z)(I)):oe}function pt(D,T,I){D?(0,tt.f)(I,D,T):T()}var ut=ee(7272),gn=ee(8421);function _n(D){return new We.y(T=>{(0,gn.Xf)(D()).subscribe(T)})}var xe=ee(9635),bt=ee(576);function vt(D,T){const I=(0,bt.m)(D)?D:()=>D,L=G=>G.error(I());return new We.y(T?G=>T.schedule(L,0,G):L)}var $t=ee(515),Et=ee(727),Se=ee(4482);function nt(){return(0,Se.e)((D,T)=>{let I=null;D._refCount++;const L=(0,Pt.x)(T,void 0,void 0,void 0,()=>{if(!D||D._refCount<=0||0<--D._refCount)return void(I=null);const G=D._connection,oe=I;I=null,G&&(!oe||G===oe)&&G.unsubscribe(),T.unsubscribe()});D.subscribe(L),L.closed||(I=D.connect())})}class Ee extends We.y{constructor(T,I){super(),this.source=T,this.subjectFactory=I,this._subject=null,this._refCount=0,this._connection=null,(0,Se.A)(T)&&(this.lift=T.lift)}_subscribe(T){return this.getSubject().subscribe(T)}getSubject(){const T=this._subject;return(!T||T.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:T}=this;this._subject=this._connection=null,T?.unsubscribe()}connect(){let T=this._connection;if(!T){T=this._connection=new Et.w0;const I=this.getSubject();T.add(this.source.subscribe((0,Pt.x)(I,void 0,()=>{this._teardown(),I.complete()},L=>{this._teardown(),I.error(L)},()=>this._teardown()))),T.closed&&(this._connection=null,T=Et.w0.EMPTY)}return T}refCount(){return nt()(this)}}var Ke=ee(6895),Ne=ee(4004),Xe=ee(3900),Ft=ee(5698),Ut=ee(8675),pn=ee(9300),Bn=ee(5577),zn=ee(590),Kt=ee(4351),Yn=ee(8505),Gn=ee(262),hr=ee(5026);function Fn(D){return D<=0?()=>$t.E:(0,Se.e)((T,I)=>{let L=[];T.subscribe((0,Pt.x)(I,G=>{L.push(G),D<L.length&&L.shift()},()=>{for(const G of L)I.next(G);I.complete()},void 0,()=>{L=null}))})}var Xr=ee(8068),Wn=ee(6590);function Tr(D,T){const I=arguments.length>=2;return L=>L.pipe(D?(0,pn.h)((G,oe)=>D(G,oe,L)):qe.y,Fn(1),I?(0,Wn.d)(T):(0,Xr.T)(()=>new Le.K))}function mr(D){return(0,Se.e)((T,I)=>{try{T.subscribe(I)}finally{I.add(D)}})}var ii=ee(8189),Ci=ee(1481);const Pn="primary",zr=Symbol("RouteTitle");class oi{constructor(T){this.params=T||{}}has(T){return Object.prototype.hasOwnProperty.call(this.params,T)}get(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I[0]:I}return null}getAll(T){if(this.has(T)){const I=this.params[T];return Array.isArray(I)?I:[I]}return[]}get keys(){return Object.keys(this.params)}}function Hr(D){return new oi(D)}function Xt(D,T,I){const L=I.path.split("/");if(L.length>D.length||"full"===I.pathMatch&&(T.hasChildren()||L.length<D.length))return null;const G={};for(let oe=0;oe<L.length;oe++){const me=L[oe],Pe=D[oe];if(me.startsWith(":"))G[me.substring(1)]=Pe;else if(me!==Pe.path)return null}return{consumed:D.slice(0,L.length),posParams:G}}function Cr(D,T){const I=D?Object.keys(D):void 0,L=T?Object.keys(T):void 0;if(!I||!L||I.length!=L.length)return!1;let G;for(let oe=0;oe<I.length;oe++)if(G=I[oe],!_r(D[G],T[G]))return!1;return!0}function _r(D,T){if(Array.isArray(D)&&Array.isArray(T)){if(D.length!==T.length)return!1;const I=[...D].sort(),L=[...T].sort();return I.every((G,oe)=>L[oe]===G)}return D===T}function pi(D){return Array.prototype.concat.apply([],D)}function Ui(D){return D.length>0?D[D.length-1]:null}function dt(D,T){for(const I in D)D.hasOwnProperty(I)&&T(D[I],I)}function Oe(D){return(0,m.CqO)(D)?D:(0,m.QGY)(D)?(0,ie.D)(Promise.resolve(D)):(0,re.of)(D)}const It={exact:function Wt(D,T,I){if(!Gt(D.segments,T.segments)||!Xn(D.segments,T.segments,I)||D.numberOfChildren!==T.numberOfChildren)return!1;for(const L in T.children)if(!D.children[L]||!Wt(D.children[L],T.children[L],I))return!1;return!0},subset:ar},dn={exact:function Er(D,T){return Cr(D,T)},subset:function Or(D,T){return Object.keys(T).length<=Object.keys(D).length&&Object.keys(T).every(I=>_r(D[I],T[I]))},ignored:()=>!0};function Dn(D,T,I){return It[I.paths](D.root,T.root,I.matrixParams)&&dn[I.queryParams](D.queryParams,T.queryParams)&&!("exact"===I.fragment&&D.fragment!==T.fragment)}function ar(D,T,I){return br(D,T,T.segments,I)}function br(D,T,I,L){if(D.segments.length>I.length){const G=D.segments.slice(0,I.length);return!(!Gt(G,I)||T.hasChildren()||!Xn(G,I,L))}if(D.segments.length===I.length){if(!Gt(D.segments,I)||!Xn(D.segments,I,L))return!1;for(const G in T.children)if(!D.children[G]||!ar(D.children[G],T.children[G],L))return!1;return!0}{const G=I.slice(0,D.segments.length),oe=I.slice(D.segments.length);return!!(Gt(D.segments,G)&&Xn(D.segments,G,L)&&D.children[Pn])&&br(D.children[Pn],T,oe,L)}}function Xn(D,T,I){return T.every((L,G)=>dn[I](D[G].parameters,L.parameters))}class Vn{constructor(T,I,L){this.root=T,this.queryParams=I,this.fragment=L}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hr(this.queryParams)),this._queryParamMap}toString(){return Fe.serialize(this)}}class on{constructor(T,I){this.segments=T,this.children=I,this.parent=null,dt(I,(L,G)=>L.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return De(this)}}class Qt{constructor(T,I){this.path=T,this.parameters=I}get parameterMap(){return this._parameterMap||(this._parameterMap=Hr(this.parameters)),this._parameterMap}toString(){return gr(this)}}function Gt(D,T){return D.length===T.length&&D.every((I,L)=>I.path===T[L].path)}let Sn=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275prov=m.Yz7({token:D,factory:function(){return new Un},providedIn:"root"}),D})();class Un{parse(T){const I=new Ur(T);return new Vn(I.parseRootSegment(),I.parseQueryParams(),I.parseFragment())}serialize(T){const I=`/${je(T.root,!0)}`,L=function _e(D){const T=Object.keys(D).map(I=>{const L=D[I];return Array.isArray(L)?L.map(G=>`${Ye(I)}=${Ye(G)}`).join("&"):`${Ye(I)}=${Ye(L)}`}).filter(I=>!!I);return T.length?`?${T.join("&")}`:""}(T.queryParams);return`${I}${L}${"string"==typeof T.fragment?`#${function Yt(D){return encodeURI(D)}(T.fragment)}`:""}`}}const Fe=new Un;function De(D){return D.segments.map(T=>gr(T)).join("/")}function je(D,T){if(!D.hasChildren())return De(D);if(T){const I=D.children[Pn]?je(D.children[Pn],!1):"",L=[];return dt(D.children,(G,oe)=>{oe!==Pn&&L.push(`${oe}:${je(G,!1)}`)}),L.length>0?`${I}(${L.join("//")})`:I}{const I=function kn(D,T){let I=[];return dt(D.children,(L,G)=>{G===Pn&&(I=I.concat(T(L,G)))}),dt(D.children,(L,G)=>{G!==Pn&&(I=I.concat(T(L,G)))}),I}(D,(L,G)=>G===Pn?[je(D.children[Pn],!1)]:[`${G}:${je(L,!1)}`]);return 1===Object.keys(D.children).length&&null!=D.children[Pn]?`${De(D)}/${I[0]}`:`${De(D)}/(${I.join("//")})`}}function Ct(D){return encodeURIComponent(D).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ye(D){return Ct(D).replace(/%3B/gi,";")}function An(D){return Ct(D).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function lr(D){return decodeURIComponent(D)}function Nr(D){return lr(D.replace(/\+/g,"%20"))}function gr(D){return`${An(D.path)}${function Ae(D){return Object.keys(D).map(T=>`;${An(T)}=${An(D[T])}`).join("")}(D.parameters)}`}const pe=/^[^\/()?;=#]+/;function et(D){const T=D.match(pe);return T?T[0]:""}const St=/^[^=?&#]+/,Cn=/^[^&#]+/;class Ur{constructor(T){this.url=T,this.remaining=T}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new on([],{}):new on([],this.parseChildren())}parseQueryParams(){const T={};if(this.consumeOptional("?"))do{this.parseQueryParam(T)}while(this.consumeOptional("&"));return T}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const T=[];for(this.peekStartsWith("(")||T.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),T.push(this.parseSegment());let I={};this.peekStartsWith("/(")&&(this.capture("/"),I=this.parseParens(!0));let L={};return this.peekStartsWith("(")&&(L=this.parseParens(!1)),(T.length>0||Object.keys(I).length>0)&&(L[Pn]=new on(T,I)),L}parseSegment(){const T=et(this.remaining);if(""===T&&this.peekStartsWith(";"))throw new m.vHH(4009,!1);return this.capture(T),new Qt(lr(T),this.parseMatrixParams())}parseMatrixParams(){const T={};for(;this.consumeOptional(";");)this.parseParam(T);return T}parseParam(T){const I=et(this.remaining);if(!I)return;this.capture(I);let L="";if(this.consumeOptional("=")){const G=et(this.remaining);G&&(L=G,this.capture(L))}T[lr(I)]=lr(L)}parseQueryParam(T){const I=function mn(D){const T=D.match(St);return T?T[0]:""}(this.remaining);if(!I)return;this.capture(I);let L="";if(this.consumeOptional("=")){const me=function yn(D){const T=D.match(Cn);return T?T[0]:""}(this.remaining);me&&(L=me,this.capture(L))}const G=Nr(I),oe=Nr(L);if(T.hasOwnProperty(G)){let me=T[G];Array.isArray(me)||(me=[me],T[G]=me),me.push(oe)}else T[G]=oe}parseParens(T){const I={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const L=et(this.remaining),G=this.remaining[L.length];if("/"!==G&&")"!==G&&";"!==G)throw new m.vHH(4010,!1);let oe;L.indexOf(":")>-1?(oe=L.slice(0,L.indexOf(":")),this.capture(oe),this.capture(":")):T&&(oe=Pn);const me=this.parseChildren();I[oe]=1===Object.keys(me).length?me[Pn]:new on([],me),this.consumeOptional("//")}return I}peekStartsWith(T){return this.remaining.startsWith(T)}consumeOptional(T){return!!this.peekStartsWith(T)&&(this.remaining=this.remaining.substring(T.length),!0)}capture(T){if(!this.consumeOptional(T))throw new m.vHH(4011,!1)}}function ci(D){return D.segments.length>0?new on([],{[Pn]:D}):D}function Jt(D){const T={};for(const L of Object.keys(D.children)){const oe=Jt(D.children[L]);(oe.segments.length>0||oe.hasChildren())&&(T[L]=oe)}return function Rr(D){if(1===D.numberOfChildren&&D.children[Pn]){const T=D.children[Pn];return new on(D.segments.concat(T.segments),T.children)}return D}(new on(D.segments,T))}function ai(D){return D instanceof Vn}function As(D,T,I,L,G){if(0===I.length)return Hi(T.root,T.root,T.root,L,G);const oe=function Ms(D){if("string"==typeof D[0]&&1===D.length&&"/"===D[0])return new Ys(!0,0,D);let T=0,I=!1;const L=D.reduce((G,oe,me)=>{if("object"==typeof oe&&null!=oe){if(oe.outlets){const Pe={};return dt(oe.outlets,(yt,jt)=>{Pe[jt]="string"==typeof yt?yt.split("/"):yt}),[...G,{outlets:Pe}]}if(oe.segmentPath)return[...G,oe.segmentPath]}return"string"!=typeof oe?[...G,oe]:0===me?(oe.split("/").forEach((Pe,yt)=>{0==yt&&"."===Pe||(0==yt&&""===Pe?I=!0:".."===Pe?T++:""!=Pe&&G.push(Pe))}),G):[...G,oe]},[]);return new Ys(I,T,L)}(I);return oe.toRoot()?Hi(T.root,T.root,new on([],{}),L,G):function me(yt){const jt=function Ji(D,T,I,L){if(D.isAbsolute)return new gi(T.root,!0,0);if(-1===L)return new gi(I,I===T.root,0);return function zi(D,T,I){let L=D,G=T,oe=I;for(;oe>G;){if(oe-=G,L=L.parent,!L)throw new m.vHH(4005,!1);G=L.segments.length}return new gi(L,!1,G-oe)}(I,L+(nr(D.commands[0])?0:1),D.numberOfDoubleDots)}(oe,T,D.snapshot?._urlSegment,yt),Qn=jt.processChildren?Gi(jt.segmentGroup,jt.index,oe.commands):di(jt.segmentGroup,jt.index,oe.commands);return Hi(T.root,jt.segmentGroup,Qn,L,G)}(D.snapshot?._lastPathIndex)}function nr(D){return"object"==typeof D&&null!=D&&!D.outlets&&!D.segmentPath}function Sr(D){return"object"==typeof D&&null!=D&&D.outlets}function Hi(D,T,I,L,G){let me,oe={};L&&dt(L,(yt,jt)=>{oe[jt]=Array.isArray(yt)?yt.map(Qn=>`${Qn}`):`${yt}`}),me=D===T?I:yr(D,T,I);const Pe=ci(Jt(me));return new Vn(Pe,oe,G)}function yr(D,T,I){const L={};return dt(D.children,(G,oe)=>{L[oe]=G===T?I:yr(G,T,I)}),new on(D.segments,L)}class Ys{constructor(T,I,L){if(this.isAbsolute=T,this.numberOfDoubleDots=I,this.commands=L,T&&L.length>0&&nr(L[0]))throw new m.vHH(4003,!1);const G=L.find(Sr);if(G&&G!==Ui(L))throw new m.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class gi{constructor(T,I,L){this.segmentGroup=T,this.processChildren=I,this.index=L}}function di(D,T,I){if(D||(D=new on([],{})),0===D.segments.length&&D.hasChildren())return Gi(D,T,I);const L=function Mr(D,T,I){let L=0,G=T;const oe={match:!1,pathIndex:0,commandIndex:0};for(;G<D.segments.length;){if(L>=I.length)return oe;const me=D.segments[G],Pe=I[L];if(Sr(Pe))break;const yt=`${Pe}`,jt=L<I.length-1?I[L+1]:null;if(G>0&&void 0===yt)break;if(yt&&jt&&"object"==typeof jt&&void 0===jt.outlets){if(!Oo(yt,jt,me))return oe;L+=2}else{if(!Oo(yt,{},me))return oe;L++}G++}return{match:!0,pathIndex:G,commandIndex:L}}(D,T,I),G=I.slice(L.commandIndex);if(L.match&&L.pathIndex<D.segments.length){const oe=new on(D.segments.slice(0,L.pathIndex),{});return oe.children[Pn]=new on(D.segments.slice(L.pathIndex),D.children),Gi(oe,0,G)}return L.match&&0===G.length?new on(D.segments,{}):L.match&&!D.hasChildren()?Ei(D,T,I):L.match?Gi(D,0,G):Ei(D,T,I)}function Gi(D,T,I){if(0===I.length)return new on(D.segments,{});{const L=function Es(D){return Sr(D[0])?D[0].outlets:{[Pn]:D}}(I),G={};return dt(L,(oe,me)=>{"string"==typeof oe&&(oe=[oe]),null!==oe&&(G[me]=di(D.children[me],T,oe))}),dt(D.children,(oe,me)=>{void 0===L[me]&&(G[me]=oe)}),new on(D.segments,G)}}function Ei(D,T,I){const L=D.segments.slice(0,T);let G=0;for(;G<I.length;){const oe=I[G];if(Sr(oe)){const yt=Wi(oe.outlets);return new on(L,yt)}if(0===G&&nr(I[0])){L.push(new Qt(D.segments[T].path,ki(I[0]))),G++;continue}const me=Sr(oe)?oe.outlets[Pn]:`${oe}`,Pe=G<I.length-1?I[G+1]:null;me&&Pe&&nr(Pe)?(L.push(new Qt(me,ki(Pe))),G+=2):(L.push(new Qt(me,{})),G++)}return new on(L,{})}function Wi(D){const T={};return dt(D,(I,L)=>{"string"==typeof I&&(I=[I]),null!==I&&(T[L]=Ei(new on([],{}),0,I))}),T}function ki(D){const T={};return dt(D,(I,L)=>T[L]=`${I}`),T}function Oo(D,T,I){return D==I.path&&Cr(T,I.parameters)}class kr{constructor(T,I){this.id=T,this.url=I}}class bo extends kr{constructor(T,I,L="imperative",G=null){super(T,I),this.type=0,this.navigationTrigger=L,this.restoredState=G}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Rs extends kr{constructor(T,I,L){super(T,I),this.urlAfterRedirects=L,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Go extends kr{constructor(T,I,L,G){super(T,I),this.reason=L,this.code=G,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bs extends kr{constructor(T,I,L,G){super(T,I),this.error=L,this.target=G,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Wo extends kr{constructor(T,I,L,G){super(T,I),this.urlAfterRedirects=L,this.state=G,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ar extends kr{constructor(T,I,L,G){super(T,I),this.urlAfterRedirects=L,this.state=G,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ro extends kr{constructor(T,I,L,G,oe){super(T,I),this.urlAfterRedirects=L,this.state=G,this.shouldActivate=oe,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Qs extends kr{constructor(T,I,L,G){super(T,I),this.urlAfterRedirects=L,this.state=G,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Ti extends kr{constructor(T,I,L,G){super(T,I),this.urlAfterRedirects=L,this.state=G,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qo{constructor(T){this.route=T,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Xs{constructor(T){this.route=T,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class ko{constructor(T){this.snapshot=T,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ds{constructor(T){this.snapshot=T,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class so{constructor(T){this.snapshot=T,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ko{constructor(T){this.snapshot=T,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Lo{constructor(T,I,L){this.routerEvent=T,this.position=I,this.anchor=L,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class Js{constructor(T){this._root=T}get root(){return this._root.value}parent(T){const I=this.pathFromRoot(T);return I.length>1?I[I.length-2]:null}children(T){const I=qi(T,this._root);return I?I.children.map(L=>L.value):[]}firstChild(T){const I=qi(T,this._root);return I&&I.children.length>0?I.children[0].value:null}siblings(T){const I=oo(T,this._root);return I.length<2?[]:I[I.length-2].children.map(G=>G.value).filter(G=>G!==T)}pathFromRoot(T){return oo(T,this._root).map(I=>I.value)}}function qi(D,T){if(D===T.value)return T;for(const I of T.children){const L=qi(D,I);if(L)return L}return null}function oo(D,T){if(D===T.value)return[T];for(const I of T.children){const L=oo(D,I);if(L.length)return L.unshift(T),L}return[]}class bi{constructor(T,I){this.value=T,this.children=I}toString(){return`TreeNode(${this.value})`}}function es(D){const T={};return D&&D.children.forEach(I=>T[I.value.outlet]=I),T}class $s extends Js{constructor(T,I){super(T),this.snapshot=I,ao(this,T)}toString(){return this.snapshot.toString()}}function Si(D,T){const I=function ts(D,T){const me=new ns([],{},{},"",{},Pn,T,null,D.root,-1,{});return new Bs("",new bi(me,[]))}(D,T),L=new Re([new Qt("",{})]),G=new Re({}),oe=new Re({}),me=new Re({}),Pe=new Re(""),yt=new Ai(L,G,me,Pe,oe,Pn,T,I.root);return yt.snapshot=I.root,new $s(new bi(yt,[]),I)}class Ai{constructor(T,I,L,G,oe,me,Pe,yt){this.url=T,this.params=I,this.queryParams=L,this.fragment=G,this.data=oe,this.outlet=me,this.component=Pe,this.title=this.data?.pipe((0,Ne.U)(jt=>jt[zr]))??(0,re.of)(void 0),this._futureSnapshot=yt}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ne.U)(T=>Hr(T)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ne.U)(T=>Hr(T)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Is(D,T="emptyOnly"){const I=D.pathFromRoot;let L=0;if("always"!==T)for(L=I.length-1;L>=1;){const G=I[L],oe=I[L-1];if(G.routeConfig&&""===G.routeConfig.path)L--;else{if(oe.component)break;L--}}return function Io(D){return D.reduce((T,I)=>({params:{...T.params,...I.params},data:{...T.data,...I.data},resolve:{...I.data,...T.resolve,...I.routeConfig?.data,...I._resolvedData}}),{params:{},data:{},resolve:{}})}(I.slice(L))}class ns{constructor(T,I,L,G,oe,me,Pe,yt,jt,Qn,vn,xr){this.url=T,this.params=I,this.queryParams=L,this.fragment=G,this.data=oe,this.outlet=me,this.component=Pe,this.title=this.data?.[zr],this.routeConfig=yt,this._urlSegment=jt,this._lastPathIndex=Qn,this._correctedLastPathIndex=xr??Qn,this._resolve=vn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Hr(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Hr(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(L=>L.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Bs extends Js{constructor(T,I){super(I),this.url=T,ao(this,I)}toString(){return Li(this._root)}}function ao(D,T){T.value._routerState=D,T.children.forEach(I=>ao(D,I))}function Li(D){const T=D.children.length>0?` { ${D.children.map(Li).join(", ")} } `:"";return`${D.value}${T}`}function mi(D){if(D.snapshot){const T=D.snapshot,I=D._futureSnapshot;D.snapshot=I,Cr(T.queryParams,I.queryParams)||D.queryParams.next(I.queryParams),T.fragment!==I.fragment&&D.fragment.next(I.fragment),Cr(T.params,I.params)||D.params.next(I.params),function fi(D,T){if(D.length!==T.length)return!1;for(let I=0;I<D.length;++I)if(!Cr(D[I],T[I]))return!1;return!0}(T.url,I.url)||D.url.next(I.url),Cr(T.data,I.data)||D.data.next(I.data)}else D.snapshot=D._futureSnapshot,D.data.next(D._futureSnapshot.data)}function hi(D,T){const I=Cr(D.params,T.params)&&function mt(D,T){return Gt(D,T)&&D.every((I,L)=>Cr(I.parameters,T[L].parameters))}(D.url,T.url);return I&&!(!D.parent!=!T.parent)&&(!D.parent||hi(D.parent,T.parent))}function Ki(D,T,I){if(I&&D.shouldReuseRoute(T.value,I.value.snapshot)){const L=I.value;L._futureSnapshot=T.value;const G=function lo(D,T,I){return T.children.map(L=>{for(const G of I.children)if(D.shouldReuseRoute(L.value,G.value.snapshot))return Ki(D,L,G);return Ki(D,L)})}(D,T,I);return new bi(L,G)}{if(D.shouldAttach(T.value)){const oe=D.retrieve(T.value);if(null!==oe){const me=oe.route;return me.value._futureSnapshot=T.value,me.children=T.children.map(Pe=>Ki(D,Pe)),me}}const L=function Fi(D){return new Ai(new Re(D.url),new Re(D.params),new Re(D.queryParams),new Re(D.fragment),new Re(D.data),D.outlet,D.component,D)}(T.value),G=T.children.map(oe=>Ki(D,oe));return new bi(L,G)}}const uo="ngNavigationCancelingError";function Us(D,T){const{redirectTo:I,navigationBehaviorOptions:L}=ai(T)?{redirectTo:T,navigationBehaviorOptions:void 0}:T,G=Lr(!1,0,T);return G.url=I,G.navigationBehaviorOptions=L,G}function Lr(D,T,I){const L=new Error("NavigationCancelingError: "+(D||""));return L[uo]=!0,L.cancellationCode=T,I&&(L.url=I),L}function Cs(D){return eo(D)&&ai(D.url)}function eo(D){return D&&D[uo]}class Mi{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new rr,this.attachRef=null}}let rr=(()=>{class D{constructor(){this.contexts=new Map}onChildOutletCreated(I,L){const G=this.getOrCreateContext(I);G.outlet=L,this.contexts.set(I,G)}onChildOutletDestroyed(I){const L=this.getContext(I);L&&(L.outlet=null,L.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let L=this.getContext(I);return L||(L=new Mi,this.contexts.set(I,L)),L}getContext(I){return this.contexts.get(I)||null}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const xi=!1;let hs=(()=>{class D{constructor(I,L,G,oe,me){this.parentContexts=I,this.location=L,this.changeDetector=oe,this.environmentInjector=me,this.activated=null,this._activatedRoute=null,this.activateEvents=new m.vpe,this.deactivateEvents=new m.vpe,this.attachEvents=new m.vpe,this.detachEvents=new m.vpe,this.name=G||Pn,I.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const I=this.parentContexts.getContext(this.name);I&&I.route&&(I.attachRef?this.attach(I.attachRef,I.route):this.activateWith(I.route,I.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new m.vHH(4012,xi);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new m.vHH(4012,xi);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new m.vHH(4012,xi);this.location.detach();const I=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(I.instance),I}attach(I,L){this.activated=I,this._activatedRoute=L,this.location.insert(I.hostView),this.attachEvents.emit(I.instance)}deactivate(){if(this.activated){const I=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(I)}}activateWith(I,L){if(this.isActivated)throw new m.vHH(4013,xi);this._activatedRoute=I;const G=this.location,me=I._futureSnapshot.component,Pe=this.parentContexts.getOrCreateContext(this.name).children,yt=new Zi(I,Pe,G.injector);if(L&&function wr(D){return!!D.resolveComponentFactory}(L)){const jt=L.resolveComponentFactory(me);this.activated=G.createComponent(jt,G.length,yt)}else this.activated=G.createComponent(me,{index:G.length,injector:yt,environmentInjector:L??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return D.\u0275fac=function(I){return new(I||D)(m.Y36(rr),m.Y36(m.s_b),m.$8M("name"),m.Y36(m.sBO),m.Y36(m.lqb))},D.\u0275dir=m.lG2({type:D,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),D})();class Zi{constructor(T,I,L){this.route=T,this.childContexts=I,this.parent=L}get(T,I){return T===Ai?this.route:T===rr?this.childContexts:this.parent.get(T,I)}}let js=(()=>{class D{}return D.\u0275fac=function(I){return new(I||D)},D.\u0275cmp=m.Xpm({type:D,selectors:[["ng-component"]],standalone:!0,features:[m.jDz],decls:1,vars:0,template:function(I,L){1&I&&m._UZ(0,"router-outlet")},dependencies:[hs],encapsulation:2}),D})();function Hs(D,T){return D.providers&&!D._injector&&(D._injector=(0,m.MMx)(D.providers,T,`Route: ${D.path}`)),D._injector??T}function fs(D){const T=D.children&&D.children.map(fs),I=T?{...D,children:T}:{...D};return!I.component&&!I.loadComponent&&(T||I.loadChildren)&&I.outlet&&I.outlet!==Pn&&(I.component=js),I}function Pi(D){return D.outlet||Pn}function ss(D,T){const I=D.filter(L=>Pi(L)===T);return I.push(...D.filter(L=>Pi(L)!==T)),I}function yi(D){if(!D)return null;if(D.routeConfig?._injector)return D.routeConfig._injector;for(let T=D.parent;T;T=T.parent){const I=T.routeConfig;if(I?._loadedInjector)return I._loadedInjector;if(I?._injector)return I._injector}return null}class Mt{constructor(T,I,L,G){this.routeReuseStrategy=T,this.futureState=I,this.currState=L,this.forwardEvent=G}activate(T){const I=this.futureState._root,L=this.currState?this.currState._root:null;this.deactivateChildRoutes(I,L,T),mi(this.futureState.root),this.activateChildRoutes(I,L,T)}deactivateChildRoutes(T,I,L){const G=es(I);T.children.forEach(oe=>{const me=oe.value.outlet;this.deactivateRoutes(oe,G[me],L),delete G[me]}),dt(G,(oe,me)=>{this.deactivateRouteAndItsChildren(oe,L)})}deactivateRoutes(T,I,L){const G=T.value,oe=I?I.value:null;if(G===oe)if(G.component){const me=L.getContext(G.outlet);me&&this.deactivateChildRoutes(T,I,me.children)}else this.deactivateChildRoutes(T,I,L);else oe&&this.deactivateRouteAndItsChildren(I,L)}deactivateRouteAndItsChildren(T,I){T.value.component&&this.routeReuseStrategy.shouldDetach(T.value.snapshot)?this.detachAndStoreRouteSubtree(T,I):this.deactivateRouteAndOutlet(T,I)}detachAndStoreRouteSubtree(T,I){const L=I.getContext(T.value.outlet),G=L&&T.value.component?L.children:I,oe=es(T);for(const me of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[me],G);if(L&&L.outlet){const me=L.outlet.detach(),Pe=L.children.onOutletDeactivated();this.routeReuseStrategy.store(T.value.snapshot,{componentRef:me,route:T,contexts:Pe})}}deactivateRouteAndOutlet(T,I){const L=I.getContext(T.value.outlet),G=L&&T.value.component?L.children:I,oe=es(T);for(const me of Object.keys(oe))this.deactivateRouteAndItsChildren(oe[me],G);L&&L.outlet&&(L.outlet.deactivate(),L.children.onOutletDeactivated(),L.attachRef=null,L.resolver=null,L.route=null)}activateChildRoutes(T,I,L){const G=es(I);T.children.forEach(oe=>{this.activateRoutes(oe,G[oe.value.outlet],L),this.forwardEvent(new Ko(oe.value.snapshot))}),T.children.length&&this.forwardEvent(new ds(T.value.snapshot))}activateRoutes(T,I,L){const G=T.value,oe=I?I.value:null;if(mi(G),G===oe)if(G.component){const me=L.getOrCreateContext(G.outlet);this.activateChildRoutes(T,I,me.children)}else this.activateChildRoutes(T,I,L);else if(G.component){const me=L.getOrCreateContext(G.outlet);if(this.routeReuseStrategy.shouldAttach(G.snapshot)){const Pe=this.routeReuseStrategy.retrieve(G.snapshot);this.routeReuseStrategy.store(G.snapshot,null),me.children.onOutletReAttached(Pe.contexts),me.attachRef=Pe.componentRef,me.route=Pe.route.value,me.outlet&&me.outlet.attach(Pe.componentRef,Pe.route.value),mi(Pe.route.value),this.activateChildRoutes(T,null,me.children)}else{const Pe=yi(G.snapshot),yt=Pe?.get(m._Vd)??null;me.attachRef=null,me.route=G,me.resolver=yt,me.injector=Pe,me.outlet&&me.outlet.activateWith(G,me.injector),this.activateChildRoutes(T,null,me.children)}}else this.activateChildRoutes(T,null,L)}}class ur{constructor(T){this.path=T,this.route=this.path[this.path.length-1]}}class ps{constructor(T,I){this.component=T,this.route=I}}function xs(D,T,I){const L=D._root;return os(L,T?T._root:null,I,[L.value])}function Yi(D,T){const I=Symbol(),L=T.get(D,I);return L===I?"function"!=typeof D||(0,m.Z0I)(D)?T.get(D):D:L}function os(D,T,I,L,G={canDeactivateChecks:[],canActivateChecks:[]}){const oe=es(T);return D.children.forEach(me=>{(function gs(D,T,I,L,G={canDeactivateChecks:[],canActivateChecks:[]}){const oe=D.value,me=T?T.value:null,Pe=I?I.getContext(D.value.outlet):null;if(me&&oe.routeConfig===me.routeConfig){const yt=function $o(D,T,I){if("function"==typeof I)return I(D,T);switch(I){case"pathParamsChange":return!Gt(D.url,T.url);case"pathParamsOrQueryParamsChange":return!Gt(D.url,T.url)||!Cr(D.queryParams,T.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!hi(D,T)||!Cr(D.queryParams,T.queryParams);default:return!hi(D,T)}}(me,oe,oe.routeConfig.runGuardsAndResolvers);yt?G.canActivateChecks.push(new ur(L)):(oe.data=me.data,oe._resolvedData=me._resolvedData),os(D,T,oe.component?Pe?Pe.children:null:I,L,G),yt&&Pe&&Pe.outlet&&Pe.outlet.isActivated&&G.canDeactivateChecks.push(new ps(Pe.outlet.component,me))}else me&&Ps(T,Pe,G),G.canActivateChecks.push(new ur(L)),os(D,null,oe.component?Pe?Pe.children:null:I,L,G)})(me,oe[me.value.outlet],I,L.concat([me.value]),G),delete oe[me.value.outlet]}),dt(oe,(me,Pe)=>Ps(me,I.getContext(Pe),G)),G}function Ps(D,T,I){const L=es(D),G=D.value;dt(L,(oe,me)=>{Ps(oe,G.component?T?T.children.getContext(me):null:T,I)}),I.canDeactivateChecks.push(new ps(G.component&&T&&T.outlet&&T.outlet.isActivated?T.outlet.component:null,G))}function zs(D){return"function"==typeof D}function as(D){return D instanceof Le.K||"EmptyError"===D?.name}const Vi=Symbol("INITIAL_VALUE");function ls(){return(0,Xe.w)(D=>ft(D.map(T=>T.pipe((0,Ft.q)(1),(0,Ut.O)(Vi)))).pipe((0,Ne.U)(T=>{for(const I of T)if(!0!==I){if(I===Vi)return Vi;if(!1===I||I instanceof Vn)return I}return!0}),(0,pn.h)(T=>T!==Vi),(0,Ft.q)(1)))}function O(D){return(0,xe.z)((0,Yn.b)(T=>{if(ai(T))throw Us(0,T)}),(0,Ne.U)(T=>!0===T))}const g={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function S(D,T,I,L,G){const oe=_(D,T,I);return oe.matched?function z(D,T,I,L){const G=T.canMatch;if(!G||0===G.length)return(0,re.of)(!0);const oe=G.map(me=>{const Pe=Yi(me,D);return Oe(function ct(D){return D&&zs(D.canMatch)}(Pe)?Pe.canMatch(T,I):D.runInContext(()=>Pe(T,I)))});return(0,re.of)(oe).pipe(ls(),O())}(L=Hs(T,L),T,I).pipe((0,Ne.U)(me=>!0===me?oe:{...g})):(0,re.of)(oe)}function _(D,T,I){if(""===T.path)return"full"===T.pathMatch&&(D.hasChildren()||I.length>0)?{...g}:{matched:!0,consumedSegments:[],remainingSegments:I,parameters:{},positionalParamSegments:{}};const G=(T.matcher||Xt)(I,D,T);if(!G)return{...g};const oe={};dt(G.posParams,(Pe,yt)=>{oe[yt]=Pe.path});const me=G.consumed.length>0?{...oe,...G.consumed[G.consumed.length-1].parameters}:oe;return{matched:!0,consumedSegments:G.consumed,remainingSegments:I.slice(G.consumed.length),parameters:me,positionalParamSegments:G.posParams??{}}}function M(D,T,I,L,G="corrected"){if(I.length>0&&function W(D,T,I){return I.some(L=>ge(D,T,L)&&Pi(L)!==Pn)}(D,I,L)){const me=new on(T,function H(D,T,I,L){const G={};G[Pn]=L,L._sourceSegment=D,L._segmentIndexShift=T.length;for(const oe of I)if(""===oe.path&&Pi(oe)!==Pn){const me=new on([],{});me._sourceSegment=D,me._segmentIndexShift=T.length,G[Pi(oe)]=me}return G}(D,T,L,new on(I,D.children)));return me._sourceSegment=D,me._segmentIndexShift=T.length,{segmentGroup:me,slicedSegments:[]}}if(0===I.length&&function ne(D,T,I){return I.some(L=>ge(D,T,L))}(D,I,L)){const me=new on(D.segments,function V(D,T,I,L,G,oe){const me={};for(const Pe of L)if(ge(D,I,Pe)&&!G[Pi(Pe)]){const yt=new on([],{});yt._sourceSegment=D,yt._segmentIndexShift="legacy"===oe?D.segments.length:T.length,me[Pi(Pe)]=yt}return{...G,...me}}(D,T,I,L,D.children,G));return me._sourceSegment=D,me._segmentIndexShift=T.length,{segmentGroup:me,slicedSegments:I}}const oe=new on(D.segments,D.children);return oe._sourceSegment=D,oe._segmentIndexShift=T.length,{segmentGroup:oe,slicedSegments:I}}function ge(D,T,I){return(!(D.hasChildren()||T.length>0)||"full"!==I.pathMatch)&&""===I.path}function Ce(D,T,I,L){return!!(Pi(D)===L||L!==Pn&&ge(T,I,D))&&("**"===D.path||_(T,D,I).matched)}function ce(D,T,I){return 0===T.length&&!D.children[I]}const he=!1;class Be{constructor(T){this.segmentGroup=T||null}}class Me{constructor(T){this.urlTree=T}}function Ue(D){return vt(new Be(D))}function Nt(D){return vt(new Me(D))}class zt{constructor(T,I,L,G,oe){this.injector=T,this.configLoader=I,this.urlSerializer=L,this.urlTree=G,this.config=oe,this.allowRedirects=!0}apply(){const T=M(this.urlTree.root,[],[],this.config).segmentGroup,I=new on(T.segments,T.children);return this.expandSegmentGroup(this.injector,this.config,I,Pn).pipe((0,Ne.U)(oe=>this.createUrlTree(Jt(oe),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,Gn.K)(oe=>{if(oe instanceof Me)return this.allowRedirects=!1,this.match(oe.urlTree);throw oe instanceof Be?this.noMatchError(oe):oe}))}match(T){return this.expandSegmentGroup(this.injector,this.config,T.root,Pn).pipe((0,Ne.U)(G=>this.createUrlTree(Jt(G),T.queryParams,T.fragment))).pipe((0,Gn.K)(G=>{throw G instanceof Be?this.noMatchError(G):G}))}noMatchError(T){return new m.vHH(4002,he)}createUrlTree(T,I,L){const G=ci(T);return new Vn(G,I,L)}expandSegmentGroup(T,I,L,G){return 0===L.segments.length&&L.hasChildren()?this.expandChildren(T,I,L).pipe((0,Ne.U)(oe=>new on([],oe))):this.expandSegment(T,L,I,L.segments,G,!0)}expandChildren(T,I,L){const G=[];for(const oe of Object.keys(L.children))"primary"===oe?G.unshift(oe):G.push(oe);return(0,ie.D)(G).pipe((0,Kt.b)(oe=>{const me=L.children[oe],Pe=ss(I,oe);return this.expandSegmentGroup(T,Pe,me,oe).pipe((0,Ne.U)(yt=>({segment:yt,outlet:oe})))}),(0,hr.R)((oe,me)=>(oe[me.outlet]=me.segment,oe),{}),Tr())}expandSegment(T,I,L,G,oe,me){return(0,ie.D)(L).pipe((0,Kt.b)(Pe=>this.expandSegmentAgainstRoute(T,I,L,Pe,G,oe,me).pipe((0,Gn.K)(jt=>{if(jt instanceof Be)return(0,re.of)(null);throw jt}))),(0,zn.P)(Pe=>!!Pe),(0,Gn.K)((Pe,yt)=>{if(as(Pe))return ce(I,G,oe)?(0,re.of)(new on([],{})):Ue(I);throw Pe}))}expandSegmentAgainstRoute(T,I,L,G,oe,me,Pe){return Ce(G,I,oe,me)?void 0===G.redirectTo?this.matchSegmentAgainstRoute(T,I,G,oe,me):Pe&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(T,I,L,G,oe,me):Ue(I):Ue(I)}expandSegmentAgainstRouteUsingRedirect(T,I,L,G,oe,me){return"**"===G.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(T,L,G,me):this.expandRegularSegmentAgainstRouteUsingRedirect(T,I,L,G,oe,me)}expandWildCardWithParamsAgainstRouteUsingRedirect(T,I,L,G){const oe=this.applyRedirectCommands([],L.redirectTo,{});return L.redirectTo.startsWith("/")?Nt(oe):this.lineralizeSegments(L,oe).pipe((0,Bn.z)(me=>{const Pe=new on(me,{});return this.expandSegment(T,Pe,I,me,G,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(T,I,L,G,oe,me){const{matched:Pe,consumedSegments:yt,remainingSegments:jt,positionalParamSegments:Qn}=_(I,G,oe);if(!Pe)return Ue(I);const vn=this.applyRedirectCommands(yt,G.redirectTo,Qn);return G.redirectTo.startsWith("/")?Nt(vn):this.lineralizeSegments(G,vn).pipe((0,Bn.z)(xr=>this.expandSegment(T,I,L,xr.concat(jt),me,!1)))}matchSegmentAgainstRoute(T,I,L,G,oe){return"**"===L.path?(T=Hs(L,T),L.loadChildren?(L._loadedRoutes?(0,re.of)({routes:L._loadedRoutes,injector:L._loadedInjector}):this.configLoader.loadChildren(T,L)).pipe((0,Ne.U)(Pe=>(L._loadedRoutes=Pe.routes,L._loadedInjector=Pe.injector,new on(G,{})))):(0,re.of)(new on(G,{}))):S(I,L,G,T).pipe((0,Xe.w)(({matched:me,consumedSegments:Pe,remainingSegments:yt})=>me?this.getChildConfig(T=L._injector??T,L,G).pipe((0,Bn.z)(Qn=>{const vn=Qn.injector??T,xr=Qn.routes,{segmentGroup:ms,slicedSegments:jo}=M(I,Pe,yt,xr),Xi=new on(ms.segments,ms.children);if(0===jo.length&&Xi.hasChildren())return this.expandChildren(vn,xr,Xi).pipe((0,Ne.U)(Ao=>new on(Pe,Ao)));if(0===xr.length&&0===jo.length)return(0,re.of)(new on(Pe,{}));const Fs=Pi(L)===oe;return this.expandSegment(vn,Xi,xr,jo,Fs?Pn:oe,!0).pipe((0,Ne.U)($a=>new on(Pe.concat($a.segments),$a.children)))})):Ue(I)))}getChildConfig(T,I,L){return I.children?(0,re.of)({routes:I.children,injector:T}):I.loadChildren?void 0!==I._loadedRoutes?(0,re.of)({routes:I._loadedRoutes,injector:I._loadedInjector}):function w(D,T,I,L){const G=T.canLoad;if(void 0===G||0===G.length)return(0,re.of)(!0);const oe=G.map(me=>{const Pe=Yi(me,D);return Oe(function K(D){return D&&zs(D.canLoad)}(Pe)?Pe.canLoad(T,I):D.runInContext(()=>Pe(T,I)))});return(0,re.of)(oe).pipe(ls(),O())}(T,I,L).pipe((0,Bn.z)(G=>G?this.configLoader.loadChildren(T,I).pipe((0,Yn.b)(oe=>{I._loadedRoutes=oe.routes,I._loadedInjector=oe.injector})):function Ot(D){return vt(Lr(he,3))}())):(0,re.of)({routes:[],injector:T})}lineralizeSegments(T,I){let L=[],G=I.root;for(;;){if(L=L.concat(G.segments),0===G.numberOfChildren)return(0,re.of)(L);if(G.numberOfChildren>1||!G.children[Pn])return vt(new m.vHH(4e3,he));G=G.children[Pn]}}applyRedirectCommands(T,I,L){return this.applyRedirectCreateUrlTree(I,this.urlSerializer.parse(I),T,L)}applyRedirectCreateUrlTree(T,I,L,G){const oe=this.createSegmentGroup(T,I.root,L,G);return new Vn(oe,this.createQueryParams(I.queryParams,this.urlTree.queryParams),I.fragment)}createQueryParams(T,I){const L={};return dt(T,(G,oe)=>{if("string"==typeof G&&G.startsWith(":")){const Pe=G.substring(1);L[oe]=I[Pe]}else L[oe]=G}),L}createSegmentGroup(T,I,L,G){const oe=this.createSegments(T,I.segments,L,G);let me={};return dt(I.children,(Pe,yt)=>{me[yt]=this.createSegmentGroup(T,Pe,L,G)}),new on(oe,me)}createSegments(T,I,L,G){return I.map(oe=>oe.path.startsWith(":")?this.findPosParam(T,oe,G):this.findOrReturn(oe,L))}findPosParam(T,I,L){const G=L[I.path.substring(1)];if(!G)throw new m.vHH(4001,he);return G}findOrReturn(T,I){let L=0;for(const G of I){if(G.path===T.path)return I.splice(L),G;L++}return T}}class st{}class v{constructor(T,I,L,G,oe,me,Pe,yt){this.injector=T,this.rootComponentType=I,this.config=L,this.urlTree=G,this.url=oe,this.paramsInheritanceStrategy=me,this.relativeLinkResolution=Pe,this.urlSerializer=yt}recognize(){const T=M(this.urlTree.root,[],[],this.config.filter(I=>void 0===I.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,T,Pn).pipe((0,Ne.U)(I=>{if(null===I)return null;const L=new ns([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Pn,this.rootComponentType,null,this.urlTree.root,-1,{}),G=new bi(L,I),oe=new Bs(this.url,G);return this.inheritParamsAndData(oe._root),oe}))}inheritParamsAndData(T){const I=T.value,L=Is(I,this.paramsInheritanceStrategy);I.params=Object.freeze(L.params),I.data=Object.freeze(L.data),T.children.forEach(G=>this.inheritParamsAndData(G))}processSegmentGroup(T,I,L,G){return 0===L.segments.length&&L.hasChildren()?this.processChildren(T,I,L):this.processSegment(T,I,L,L.segments,G)}processChildren(T,I,L){return(0,ie.D)(Object.keys(L.children)).pipe((0,Kt.b)(G=>{const oe=L.children[G],me=ss(I,G);return this.processSegmentGroup(T,me,oe,G)}),(0,hr.R)((G,oe)=>G&&oe?(G.push(...oe),G):null),function Ri(D,T=!1){return(0,Se.e)((I,L)=>{let G=0;I.subscribe((0,Pt.x)(L,oe=>{const me=D(oe,G++);(me||T)&&L.next(oe),!me&&L.complete()}))})}(G=>null!==G),(0,Wn.d)(null),Tr(),(0,Ne.U)(G=>{if(null===G)return null;const oe=te(G);return function C(D){D.sort((T,I)=>T.value.outlet===Pn?-1:I.value.outlet===Pn?1:T.value.outlet.localeCompare(I.value.outlet))}(oe),oe}))}processSegment(T,I,L,G,oe){return(0,ie.D)(I).pipe((0,Kt.b)(me=>this.processSegmentAgainstRoute(me._injector??T,me,L,G,oe)),(0,zn.P)(me=>!!me),(0,Gn.K)(me=>{if(as(me))return ce(L,G,oe)?(0,re.of)([]):(0,re.of)(null);throw me}))}processSegmentAgainstRoute(T,I,L,G,oe){if(I.redirectTo||!Ce(I,L,G,oe))return(0,re.of)(null);let me;if("**"===I.path){const Pe=G.length>0?Ui(G).parameters:{},yt=Je(L)+G.length,jt=new ns(G,Pe,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ln(I),Pi(I),I.component??I._loadedComponent??null,I,Te(L),yt,qt(I),yt);me=(0,re.of)({snapshot:jt,consumedSegments:[],remainingSegments:[]})}else me=S(L,I,G,T).pipe((0,Ne.U)(({matched:Pe,consumedSegments:yt,remainingSegments:jt,parameters:Qn})=>{if(!Pe)return null;const vn=Je(L)+yt.length;return{snapshot:new ns(yt,Qn,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ln(I),Pi(I),I.component??I._loadedComponent??null,I,Te(L),vn,qt(I),vn),consumedSegments:yt,remainingSegments:jt}}));return me.pipe((0,Xe.w)(Pe=>{if(null===Pe)return(0,re.of)(null);const{snapshot:yt,consumedSegments:jt,remainingSegments:Qn}=Pe;T=I._injector??T;const vn=I._loadedInjector??T,xr=function R(D){return D.children?D.children:D.loadChildren?D._loadedRoutes:[]}(I),{segmentGroup:ms,slicedSegments:jo}=M(L,jt,Qn,xr.filter(Fs=>void 0===Fs.redirectTo),this.relativeLinkResolution);if(0===jo.length&&ms.hasChildren())return this.processChildren(vn,xr,ms).pipe((0,Ne.U)(Fs=>null===Fs?null:[new bi(yt,Fs)]));if(0===xr.length&&0===jo.length)return(0,re.of)([new bi(yt,[])]);const Xi=Pi(I)===oe;return this.processSegment(vn,xr,ms,jo,Xi?Pn:oe).pipe((0,Ne.U)(Fs=>null===Fs?null:[new bi(yt,Fs)]))}))}}function Q(D){const T=D.value.routeConfig;return T&&""===T.path&&void 0===T.redirectTo}function te(D){const T=[],I=new Set;for(const L of D){if(!Q(L)){T.push(L);continue}const G=T.find(oe=>L.value.routeConfig===oe.value.routeConfig);void 0!==G?(G.children.push(...L.children),I.add(G)):T.push(L)}for(const L of I){const G=te(L.children);T.push(new bi(L.value,G))}return T.filter(L=>!I.has(L))}function Te(D){let T=D;for(;T._sourceSegment;)T=T._sourceSegment;return T}function Je(D){let T=D,I=T._segmentIndexShift??0;for(;T._sourceSegment;)T=T._sourceSegment,I+=T._segmentIndexShift??0;return I-1}function ln(D){return D.data||{}}function qt(D){return D.resolve||{}}function sr(D){return"string"==typeof D.title||null===D.title}function cr(D){return(0,Xe.w)(T=>{const I=D(T);return I?(0,ie.D)(I).pipe((0,Ne.U)(()=>T)):(0,re.of)(T)})}let Fr=(()=>{class D{buildTitle(I){let L,G=I.root;for(;void 0!==G;)L=this.getResolvedTitleForRoute(G)??L,G=G.children.find(oe=>oe.outlet===Pn);return L}getResolvedTitleForRoute(I){return I.data[zr]}}return D.\u0275fac=function(I){return new(I||D)},D.\u0275prov=m.Yz7({token:D,factory:function(){return(0,m.f3M)(cn)},providedIn:"root"}),D})(),cn=(()=>{class D extends Fr{constructor(I){super(),this.title=I}updateTitle(I){const L=this.buildTitle(I);void 0!==L&&this.title.setTitle(L)}}return D.\u0275fac=function(I){return new(I||D)(m.LFG(Ci.Dx))},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class wi{}class ht extends class Zt{shouldDetach(T){return!1}store(T,I){}shouldAttach(T){return!1}retrieve(T){return null}shouldReuseRoute(T,I){return T.routeConfig===I.routeConfig}}{}const Di=new m.OlP("",{providedIn:"root",factory:()=>({})}),To=new m.OlP("ROUTES");let So=(()=>{class D{constructor(I,L){this.injector=I,this.compiler=L,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(I){if(this.componentLoaders.get(I))return this.componentLoaders.get(I);if(I._loadedComponent)return(0,re.of)(I._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(I);const L=Oe(I.loadComponent()).pipe((0,Yn.b)(oe=>{this.onLoadEndListener&&this.onLoadEndListener(I),I._loadedComponent=oe}),mr(()=>{this.componentLoaders.delete(I)})),G=new Ee(L,()=>new Ve.x).pipe(nt());return this.componentLoaders.set(I,G),G}loadChildren(I,L){if(this.childrenLoaders.get(L))return this.childrenLoaders.get(L);if(L._loadedRoutes)return(0,re.of)({routes:L._loadedRoutes,injector:L._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(L);const oe=this.loadModuleFactoryOrRoutes(L.loadChildren).pipe((0,Ne.U)(Pe=>{this.onLoadEndListener&&this.onLoadEndListener(L);let yt,jt,Qn=!1;Array.isArray(Pe)?jt=Pe:(yt=Pe.create(I).injector,jt=pi(yt.get(To,[],m.XFs.Self|m.XFs.Optional)));return{routes:jt.map(fs),injector:yt}}),mr(()=>{this.childrenLoaders.delete(L)})),me=new Ee(oe,()=>new Ve.x).pipe(nt());return this.childrenLoaders.set(L,me),me}loadModuleFactoryOrRoutes(I){return Oe(I()).pipe((0,Bn.z)(L=>L instanceof m.YKP||Array.isArray(L)?(0,re.of)(L):(0,ie.D)(this.compiler.compileModuleAsync(L))))}}return D.\u0275fac=function(I){return new(I||D)(m.LFG(m.zs3),m.LFG(m.Sil))},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();class va{}class xn{shouldProcessUrl(T){return!0}extract(T){return T}merge(T,I){return T}}function Hn(D){throw D}function Vr(D,T,I){return T.parse("/")}const Qi={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},ks={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function Kn(){const D=(0,m.f3M)(Sn),T=(0,m.f3M)(rr),I=(0,m.f3M)(Ke.Ye),L=(0,m.f3M)(m.zs3),G=(0,m.f3M)(m.Sil),oe=(0,m.f3M)(To,{optional:!0})??[],me=(0,m.f3M)(Di,{optional:!0})??{},Pe=(0,m.f3M)(cn),yt=(0,m.f3M)(Fr,{optional:!0}),jt=(0,m.f3M)(va,{optional:!0}),Qn=(0,m.f3M)(wi,{optional:!0}),vn=new fr(null,D,T,I,L,G,pi(oe));return jt&&(vn.urlHandlingStrategy=jt),Qn&&(vn.routeReuseStrategy=Qn),vn.titleStrategy=yt??Pe,function $i(D,T){D.errorHandler&&(T.errorHandler=D.errorHandler),D.malformedUriErrorHandler&&(T.malformedUriErrorHandler=D.malformedUriErrorHandler),D.onSameUrlNavigation&&(T.onSameUrlNavigation=D.onSameUrlNavigation),D.paramsInheritanceStrategy&&(T.paramsInheritanceStrategy=D.paramsInheritanceStrategy),D.relativeLinkResolution&&(T.relativeLinkResolution=D.relativeLinkResolution),D.urlUpdateStrategy&&(T.urlUpdateStrategy=D.urlUpdateStrategy),D.canceledNavigationResolution&&(T.canceledNavigationResolution=D.canceledNavigationResolution)}(me,vn),vn}let fr=(()=>{class D{constructor(I,L,G,oe,me,Pe,yt){this.rootComponentType=I,this.urlSerializer=L,this.rootContexts=G,this.location=oe,this.config=yt,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Ve.x,this.errorHandler=Hn,this.malformedUriErrorHandler=Vr,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>(0,re.of)(void 0),this.urlHandlingStrategy=new xn,this.routeReuseStrategy=new ht,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=me.get(So),this.configLoader.onLoadEndListener=xr=>this.triggerEvent(new Xs(xr)),this.configLoader.onLoadStartListener=xr=>this.triggerEvent(new qo(xr)),this.ngModule=me.get(m.h0i),this.console=me.get(m.c2e);const vn=me.get(m.R0b);this.isNgZoneEnabled=vn instanceof m.R0b&&m.R0b.isInAngularZone(),this.resetConfig(yt),this.currentUrlTree=function lt(){return new Vn(new on([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=Si(this.currentUrlTree,this.rootComponentType),this.transitions=new Re({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(I){const L=this.events;return I.pipe((0,pn.h)(G=>0!==G.id),(0,Ne.U)(G=>({...G,extractedUrl:this.urlHandlingStrategy.extract(G.rawUrl)})),(0,Xe.w)(G=>{let oe=!1,me=!1;return(0,re.of)(G).pipe((0,Yn.b)(Pe=>{this.currentNavigation={id:Pe.id,initialUrl:Pe.rawUrl,extractedUrl:Pe.extractedUrl,trigger:Pe.source,extras:Pe.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Xe.w)(Pe=>{const yt=this.browserUrlTree.toString(),jt=!this.navigated||Pe.extractedUrl.toString()!==yt||yt!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||jt)&&this.urlHandlingStrategy.shouldProcessUrl(Pe.rawUrl))return Jr(Pe.source)&&(this.browserUrlTree=Pe.extractedUrl),(0,re.of)(Pe).pipe((0,Xe.w)(vn=>{const xr=this.transitions.getValue();return L.next(new bo(vn.id,this.serializeUrl(vn.extractedUrl),vn.source,vn.restoredState)),xr!==this.transitions.getValue()?$t.E:Promise.resolve(vn)}),function nn(D,T,I,L){return(0,Xe.w)(G=>function Rt(D,T,I,L,G){return new zt(D,T,I,L,G).apply()}(D,T,I,G.extractedUrl,L).pipe((0,Ne.U)(oe=>({...G,urlAfterRedirects:oe}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yn.b)(vn=>{this.currentNavigation={...this.currentNavigation,finalUrl:vn.urlAfterRedirects},G.urlAfterRedirects=vn.urlAfterRedirects}),function Mn(D,T,I,L,G,oe){return(0,Bn.z)(me=>function U(D,T,I,L,G,oe,me="emptyOnly",Pe="legacy"){return new v(D,T,I,L,G,me,Pe,oe).recognize().pipe((0,Xe.w)(yt=>null===yt?function Ze(D){return new We.y(T=>T.error(D))}(new st):(0,re.of)(yt)))}(D,T,I,me.urlAfterRedirects,L.serialize(me.urlAfterRedirects),L,G,oe).pipe((0,Ne.U)(Pe=>({...me,targetSnapshot:Pe}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yn.b)(vn=>{if(G.targetSnapshot=vn.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!vn.extras.skipLocationChange){const ms=this.urlHandlingStrategy.merge(vn.urlAfterRedirects,vn.rawUrl);this.setBrowserUrl(ms,vn)}this.browserUrlTree=vn.urlAfterRedirects}const xr=new Wo(vn.id,this.serializeUrl(vn.extractedUrl),this.serializeUrl(vn.urlAfterRedirects),vn.targetSnapshot);L.next(xr)}));if(jt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:xr,extractedUrl:ms,source:jo,restoredState:Xi,extras:Fs}=Pe,mo=new bo(xr,this.serializeUrl(ms),jo,Xi);L.next(mo);const $a=Si(ms,this.rootComponentType).snapshot;return G={...Pe,targetSnapshot:$a,urlAfterRedirects:ms,extras:{...Fs,skipLocationChange:!1,replaceUrl:!1}},(0,re.of)(G)}return this.rawUrlTree=Pe.rawUrl,Pe.resolve(null),$t.E}),(0,Yn.b)(Pe=>{const yt=new Ar(Pe.id,this.serializeUrl(Pe.extractedUrl),this.serializeUrl(Pe.urlAfterRedirects),Pe.targetSnapshot);this.triggerEvent(yt)}),(0,Ne.U)(Pe=>G={...Pe,guards:xs(Pe.targetSnapshot,Pe.currentSnapshot,this.rootContexts)}),function Do(D,T){return(0,Bn.z)(I=>{const{targetSnapshot:L,currentSnapshot:G,guards:{canActivateChecks:oe,canDeactivateChecks:me}}=I;return 0===me.length&&0===oe.length?(0,re.of)({...I,guardsResult:!0}):function fo(D,T,I,L){return(0,ie.D)(D).pipe((0,Bn.z)(G=>function x(D,T,I,L,G){const oe=T&&T.routeConfig?T.routeConfig.canDeactivate:null;if(!oe||0===oe.length)return(0,re.of)(!0);const me=oe.map(Pe=>{const yt=yi(T)??G,jt=Yi(Pe,yt);return Oe(function ae(D){return D&&zs(D.canDeactivate)}(jt)?jt.canDeactivate(D,T,I,L):yt.runInContext(()=>jt(D,T,I,L))).pipe((0,zn.P)())});return(0,re.of)(me).pipe(ls())}(G.component,G.route,I,T,L)),(0,zn.P)(G=>!0!==G,!0))}(me,L,G,D).pipe((0,Bn.z)(Pe=>Pe&&function ho(D){return"boolean"==typeof D}(Pe)?function to(D,T,I,L){return(0,ie.D)(T).pipe((0,Kt.b)(G=>(0,ut.z)(function po(D,T){return null!==D&&T&&T(new ko(D)),(0,re.of)(!0)}(G.route.parent,L),function ua(D,T){return null!==D&&T&&T(new so(D)),(0,re.of)(!0)}(G.route,L),function u(D,T,I){const L=T[T.length-1],oe=T.slice(0,T.length-1).reverse().map(me=>function ti(D){const T=D.routeConfig?D.routeConfig.canActivateChild:null;return T&&0!==T.length?{node:D,guards:T}:null}(me)).filter(me=>null!==me).map(me=>_n(()=>{const Pe=me.guards.map(yt=>{const jt=yi(me.node)??I,Qn=Yi(yt,jt);return Oe(function k(D){return D&&zs(D.canActivateChild)}(Qn)?Qn.canActivateChild(L,D):jt.runInContext(()=>Qn(L,D))).pipe((0,zn.P)())});return(0,re.of)(Pe).pipe(ls())}));return(0,re.of)(oe).pipe(ls())}(D,G.path,I),function ca(D,T,I){const L=T.routeConfig?T.routeConfig.canActivate:null;if(!L||0===L.length)return(0,re.of)(!0);const G=L.map(oe=>_n(()=>{const me=yi(T)??I,Pe=Yi(oe,me);return Oe(function j(D){return D&&zs(D.canActivate)}(Pe)?Pe.canActivate(T,D):me.runInContext(()=>Pe(T,D))).pipe((0,zn.P)())}));return(0,re.of)(G).pipe(ls())}(D,G.route,I))),(0,zn.P)(G=>!0!==G,!0))}(L,oe,D,T):(0,re.of)(Pe)),(0,Ne.U)(Pe=>({...I,guardsResult:Pe})))})}(this.ngModule.injector,Pe=>this.triggerEvent(Pe)),(0,Yn.b)(Pe=>{if(G.guardsResult=Pe.guardsResult,ai(Pe.guardsResult))throw Us(0,Pe.guardsResult);const yt=new Ro(Pe.id,this.serializeUrl(Pe.extractedUrl),this.serializeUrl(Pe.urlAfterRedirects),Pe.targetSnapshot,!!Pe.guardsResult);this.triggerEvent(yt)}),(0,pn.h)(Pe=>!!Pe.guardsResult||(this.restoreHistory(Pe),this.cancelNavigationTransition(Pe,"",3),!1)),cr(Pe=>{if(Pe.guards.canActivateChecks.length)return(0,re.of)(Pe).pipe((0,Yn.b)(yt=>{const jt=new Qs(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(jt)}),(0,Xe.w)(yt=>{let jt=!1;return(0,re.of)(yt).pipe(function jn(D,T){return(0,Bn.z)(I=>{const{targetSnapshot:L,guards:{canActivateChecks:G}}=I;if(!G.length)return(0,re.of)(I);let oe=0;return(0,ie.D)(G).pipe((0,Kt.b)(me=>function wn(D,T,I,L){const G=D.routeConfig,oe=D._resolve;return void 0!==G?.title&&!sr(G)&&(oe[zr]=G.title),function qn(D,T,I,L){const G=function Yr(D){return[...Object.keys(D),...Object.getOwnPropertySymbols(D)]}(D);if(0===G.length)return(0,re.of)({});const oe={};return(0,ie.D)(G).pipe((0,Bn.z)(me=>function Dt(D,T,I,L){const G=yi(T)??L,oe=Yi(D,G);return Oe(oe.resolve?oe.resolve(T,I):G.runInContext(()=>oe(T,I)))}(D[me],T,I,L).pipe((0,zn.P)(),(0,Yn.b)(Pe=>{oe[me]=Pe}))),Fn(1),function _i(D){return(0,Ne.U)(()=>D)}(oe),(0,Gn.K)(me=>as(me)?$t.E:vt(me)))}(oe,D,T,L).pipe((0,Ne.U)(me=>(D._resolvedData=me,D.data=Is(D,I).resolve,G&&sr(G)&&(D.data[zr]=G.title),null)))}(me.route,L,D,T)),(0,Yn.b)(()=>oe++),Fn(1),(0,Bn.z)(me=>oe===G.length?(0,re.of)(I):$t.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yn.b)({next:()=>jt=!0,complete:()=>{jt||(this.restoreHistory(yt),this.cancelNavigationTransition(yt,"",2))}}))}),(0,Yn.b)(yt=>{const jt=new Ti(yt.id,this.serializeUrl(yt.extractedUrl),this.serializeUrl(yt.urlAfterRedirects),yt.targetSnapshot);this.triggerEvent(jt)}))}),cr(Pe=>{const yt=jt=>{const Qn=[];jt.routeConfig?.loadComponent&&!jt.routeConfig._loadedComponent&&Qn.push(this.configLoader.loadComponent(jt.routeConfig).pipe((0,Yn.b)(vn=>{jt.component=vn}),(0,Ne.U)(()=>{})));for(const vn of jt.children)Qn.push(...yt(vn));return Qn};return ft(yt(Pe.targetSnapshot.root)).pipe((0,Wn.d)(),(0,Ft.q)(1))}),cr(()=>this.afterPreactivation()),(0,Ne.U)(Pe=>{const yt=function rs(D,T,I){const L=Ki(D,T._root,I?I._root:void 0);return new $s(L,T)}(this.routeReuseStrategy,Pe.targetSnapshot,Pe.currentRouterState);return G={...Pe,targetRouterState:yt}}),(0,Yn.b)(Pe=>{this.currentUrlTree=Pe.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(Pe.urlAfterRedirects,Pe.rawUrl),this.routerState=Pe.targetRouterState,"deferred"===this.urlUpdateStrategy&&(Pe.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,Pe),this.browserUrlTree=Pe.urlAfterRedirects)}),((D,T,I)=>(0,Ne.U)(L=>(new Mt(T,L.targetRouterState,L.currentRouterState,I).activate(D),L)))(this.rootContexts,this.routeReuseStrategy,Pe=>this.triggerEvent(Pe)),(0,Yn.b)({next(){oe=!0},complete(){oe=!0}}),mr(()=>{oe||me||this.cancelNavigationTransition(G,"",1),this.currentNavigation?.id===G.id&&(this.currentNavigation=null)}),(0,Gn.K)(Pe=>{if(me=!0,eo(Pe)){Cs(Pe)||(this.navigated=!0,this.restoreHistory(G,!0));const yt=new Go(G.id,this.serializeUrl(G.extractedUrl),Pe.message,Pe.cancellationCode);if(L.next(yt),Cs(Pe)){const jt=this.urlHandlingStrategy.merge(Pe.url,this.rawUrlTree),Qn={skipLocationChange:G.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Jr(G.source)};this.scheduleNavigation(jt,"imperative",null,Qn,{resolve:G.resolve,reject:G.reject,promise:G.promise})}else G.resolve(!1)}else{this.restoreHistory(G,!0);const yt=new bs(G.id,this.serializeUrl(G.extractedUrl),Pe,G.targetSnapshot??void 0);L.next(yt);try{G.resolve(this.errorHandler(Pe))}catch(jt){G.reject(jt)}}return $t.E}))}))}resetRootComponentType(I){this.rootComponentType=I,this.routerState.root.component=this.rootComponentType}setTransition(I){this.transitions.next({...this.transitions.value,...I})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(I=>{const L="popstate"===I.type?"popstate":"hashchange";"popstate"===L&&setTimeout(()=>{const G={replaceUrl:!0},oe=I.state?.navigationId?I.state:null;if(oe){const Pe={...oe};delete Pe.navigationId,delete Pe.\u0275routerPageId,0!==Object.keys(Pe).length&&(G.state=Pe)}const me=this.parseUrl(I.url);this.scheduleNavigation(me,L,oe,G)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(I){this.events.next(I)}resetConfig(I){this.config=I.map(fs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(I,L={}){const{relativeTo:G,queryParams:oe,fragment:me,queryParamsHandling:Pe,preserveFragment:yt}=L,jt=G||this.routerState.root,Qn=yt?this.currentUrlTree.fragment:me;let vn=null;switch(Pe){case"merge":vn={...this.currentUrlTree.queryParams,...oe};break;case"preserve":vn=this.currentUrlTree.queryParams;break;default:vn=oe||null}return null!==vn&&(vn=this.removeEmptyProps(vn)),As(jt,this.currentUrlTree,I,vn,Qn??null)}navigateByUrl(I,L={skipLocationChange:!1}){const G=ai(I)?I:this.parseUrl(I),oe=this.urlHandlingStrategy.merge(G,this.rawUrlTree);return this.scheduleNavigation(oe,"imperative",null,L)}navigate(I,L={skipLocationChange:!1}){return function _a(D){for(let T=0;T<D.length;T++){if(null==D[T])throw new m.vHH(4008,false)}}(I),this.navigateByUrl(this.createUrlTree(I,L),L)}serializeUrl(I){return this.urlSerializer.serialize(I)}parseUrl(I){let L;try{L=this.urlSerializer.parse(I)}catch(G){L=this.malformedUriErrorHandler(G,this.urlSerializer,I)}return L}isActive(I,L){let G;if(G=!0===L?{...Qi}:!1===L?{...ks}:L,ai(I))return Dn(this.currentUrlTree,I,G);const oe=this.parseUrl(I);return Dn(this.currentUrlTree,oe,G)}removeEmptyProps(I){return Object.keys(I).reduce((L,G)=>{const oe=I[G];return null!=oe&&(L[G]=oe),L},{})}processNavigations(){this.navigations.subscribe(I=>{this.navigated=!0,this.lastSuccessfulId=I.id,this.currentPageId=I.targetPageId,this.events.next(new Rs(I.id,this.serializeUrl(I.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),I.resolve(!0)},I=>{this.console.warn(`Unhandled Navigation Error: ${I}`)})}scheduleNavigation(I,L,G,oe,me){if(this.disposed)return Promise.resolve(!1);let Pe,yt,jt;me?(Pe=me.resolve,yt=me.reject,jt=me.promise):jt=new Promise((xr,ms)=>{Pe=xr,yt=ms});const Qn=++this.navigationId;let vn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(G=this.location.getState()),vn=G&&G.\u0275routerPageId?G.\u0275routerPageId:oe.replaceUrl||oe.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):vn=0,this.setTransition({id:Qn,targetPageId:vn,source:L,restoredState:G,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:I,extras:oe,resolve:Pe,reject:yt,promise:jt,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),jt.catch(xr=>Promise.reject(xr))}setBrowserUrl(I,L){const G=this.urlSerializer.serialize(I),oe={...L.extras.state,...this.generateNgRouterState(L.id,L.targetPageId)};this.location.isCurrentPathEqualTo(G)||L.extras.replaceUrl?this.location.replaceState(G,"",oe):this.location.go(G,"",oe)}restoreHistory(I,L=!1){if("computed"===this.canceledNavigationResolution){const G=this.currentPageId-I.targetPageId;"popstate"!==I.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===G?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===G&&(this.resetState(I),this.browserUrlTree=I.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(G)}else"replace"===this.canceledNavigationResolution&&(L&&this.resetState(I),this.resetUrlToCurrentUrlTree())}resetState(I){this.routerState=I.currentRouterState,this.currentUrlTree=I.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,I.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(I,L,G){const oe=new Go(I.id,this.serializeUrl(I.extractedUrl),L,G);this.triggerEvent(oe),I.resolve(!1)}generateNgRouterState(I,L){return"computed"===this.canceledNavigationResolution?{navigationId:I,\u0275routerPageId:L}:{navigationId:I}}}return D.\u0275fac=function(I){m.$Z()},D.\u0275prov=m.Yz7({token:D,factory:function(){return Kn()},providedIn:"root"}),D})();function Jr(D){return"imperative"!==D}class Qr{}let da=(()=>{class D{constructor(I,L,G,oe,me){this.router=I,this.injector=G,this.preloadingStrategy=oe,this.loader=me}setUpPreloading(){this.subscription=this.router.events.pipe((0,pn.h)(I=>I instanceof Rs),(0,Kt.b)(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(I,L){const G=[];for(const oe of L){oe.providers&&!oe._injector&&(oe._injector=(0,m.MMx)(oe.providers,I,`Route: ${oe.path}`));const me=oe._injector??I,Pe=oe._loadedInjector??me;oe.loadChildren&&!oe._loadedRoutes&&void 0===oe.canLoad||oe.loadComponent&&!oe._loadedComponent?G.push(this.preloadConfig(me,oe)):(oe.children||oe._loadedRoutes)&&G.push(this.processRoutes(Pe,oe.children??oe._loadedRoutes))}return(0,ie.D)(G).pipe((0,ii.J)())}preloadConfig(I,L){return this.preloadingStrategy.preload(L,()=>{let G;G=L.loadChildren&&void 0===L.canLoad?this.loader.loadChildren(I,L):(0,re.of)(null);const oe=G.pipe((0,Bn.z)(me=>null===me?(0,re.of)(void 0):(L._loadedRoutes=me.routes,L._loadedInjector=me.injector,this.processRoutes(me.injector??I,me.routes))));if(L.loadComponent&&!L._loadedComponent){const me=this.loader.loadComponent(L);return(0,ie.D)([oe,me]).pipe((0,ii.J)())}return oe})}}return D.\u0275fac=function(I){return new(I||D)(m.LFG(fr),m.LFG(m.Sil),m.LFG(m.lqb),m.LFG(Qr),m.LFG(So))},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac,providedIn:"root"}),D})();const Gs=new m.OlP("");let Ma=(()=>{class D{constructor(I,L,G={}){this.router=I,this.viewportScroller=L,this.options=G,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},G.scrollPositionRestoration=G.scrollPositionRestoration||"disabled",G.anchorScrolling=G.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(I=>{I instanceof bo?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=I.navigationTrigger,this.restoredId=I.restoredState?I.restoredState.navigationId:0):I instanceof Rs&&(this.lastId=I.id,this.scheduleScrollEvent(I,this.router.parseUrl(I.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(I=>{I instanceof Lo&&(I.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(I.position):I.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(I.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(I,L){this.router.triggerEvent(new Lo(I,"popstate"===this.lastSource?this.store[this.restoredId]:null,L))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return D.\u0275fac=function(I){m.$Z()},D.\u0275prov=m.Yz7({token:D,factory:D.\u0275fac}),D})();function xa(D,T){return{\u0275kind:D,\u0275providers:T}}function bl(D){return[{provide:To,multi:!0,useValue:D}]}function Ka(){const D=(0,m.f3M)(m.zs3);return T=>{const I=D.get(m.z2F);if(T!==I.components[0])return;const L=D.get(fr),G=D.get(Iu);1===D.get(Pa)&&L.initialNavigation(),D.get(Oa,null,m.XFs.Optional)?.setUpPreloading(),D.get(Gs,null,m.XFs.Optional)?.init(),L.resetRootComponentType(I.componentTypes[0]),G.next(),G.complete()}}const Iu=new m.OlP("",{factory:()=>new Ve.x}),Pa=new m.OlP("",{providedIn:"root",factory:()=>1});const Oa=new m.OlP("");function Ws(D){return xa(0,[{provide:Oa,useExisting:da},{provide:Qr,useExisting:D}])}const Bo=new m.OlP("ROUTER_FORROOT_GUARD"),Ea=[Ke.Ye,{provide:Sn,useClass:Un},{provide:fr,useFactory:Kn},rr,{provide:Ai,useFactory:function qa(D){return D.routerState.root},deps:[fr]},So];function Ra(){return new m.PXZ("Router",fr)}let na=(()=>{class D{constructor(I){}static forRoot(I,L){return{ngModule:D,providers:[Ea,[],bl(I),{provide:Bo,useFactory:Za,deps:[[fr,new m.FiY,new m.tp0]]},{provide:Di,useValue:L||{}},L?.useHash?{provide:Ke.S$,useClass:Ke.Do}:{provide:Ke.S$,useClass:Ke.b0},{provide:Gs,useFactory:()=>{const D=(0,m.f3M)(fr),T=(0,m.f3M)(Ke.EM),I=(0,m.f3M)(Di);return I.scrollOffset&&T.setOffset(I.scrollOffset),new Ma(D,T,I)}},L?.preloadingStrategy?Ws(L.preloadingStrategy).\u0275providers:[],{provide:m.PXZ,multi:!0,useFactory:Ra},L?.initialNavigation?Uo(L):[],[{provide:Va,useFactory:Ka},{provide:m.tb,multi:!0,useExisting:Va}]]}}static forChild(I){return{ngModule:D,providers:[bl(I)]}}}return D.\u0275fac=function(I){return new(I||D)(m.LFG(Bo,8))},D.\u0275mod=m.oAB({type:D}),D.\u0275inj=m.cJS({imports:[js]}),D})();function Za(D){return"guarded"}function Uo(D){return["disabled"===D.initialNavigation?xa(3,[{provide:m.ip1,multi:!0,useFactory:()=>{const T=(0,m.f3M)(fr);return()=>{T.setUpLocationChangeListener()}}},{provide:Pa,useValue:2}]).\u0275providers:[],"enabledBlocking"===D.initialNavigation?xa(2,[{provide:Pa,useValue:0},{provide:m.ip1,multi:!0,deps:[m.zs3],useFactory:T=>{const I=T.get(Ke.V_,Promise.resolve());let L=!1;return()=>I.then(()=>new Promise(oe=>{const me=T.get(fr),Pe=T.get(Iu);(function G(oe){T.get(fr).events.pipe((0,pn.h)(Pe=>Pe instanceof Rs||Pe instanceof Go||Pe instanceof bs),(0,Ne.U)(Pe=>Pe instanceof Rs||Pe instanceof Go&&(0===Pe.code||1===Pe.code)&&null),(0,pn.h)(Pe=>null!==Pe),(0,Ft.q)(1)).subscribe(()=>{oe()})})(()=>{oe(!0),L=!0}),me.afterPreactivation=()=>(oe(!0),L||Pe.closed?(0,re.of)(void 0):Pe),me.initialNavigation()}))}}]).\u0275providers:[]]}const Va=new m.OlP("")},3942:(an,at,ee)=>{ee.d(at,{Z:()=>ft});var m=ee(2090),ie=ee(4859),re=ee(9681),Ve=ee(1877);class Re{constructor(pt,ut){this._delegate=pt,this.firebase=ut,(0,re._addComponent)(pt,new ie.wA("app-compat",()=>this,"PUBLIC")),this.container=pt.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(pt){this._delegate.automaticDataCollectionEnabled=pt}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(pt=>{this._delegate.checkDestroyed(),pt()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,re.deleteApp)(this._delegate)))}_getService(pt,ut=re._DEFAULT_ENTRY_NAME){var gn;this._delegate.checkDestroyed();const _n=this._delegate.container.getProvider(pt);return!_n.isInitialized()&&"EXPLICIT"===(null===(gn=_n.getComponent())||void 0===gn?void 0:gn.instantiationMode)&&_n.initialize(),_n.getImmediate({identifier:ut})}_removeServiceInstance(pt,ut=re._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(pt).clearInstance(ut)}_addComponent(pt){(0,re._addComponent)(this._delegate,pt)}_addOrOverwriteComponent(pt){(0,re._addOrOverwriteComponent)(this._delegate,pt)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const We=new m.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),fe=function qe(){const rn=function He(rn){const pt={},ut={__esModule:!0,initializeApp:function xe(Et,Se={}){const nt=re.initializeApp(Et,Se);if((0,m.r3)(pt,nt.name))return pt[nt.name];const Ee=new rn(nt,ut);return pt[nt.name]=Ee,Ee},app:_n,registerVersion:re.registerVersion,setLogLevel:re.setLogLevel,onLog:re.onLog,apps:null,SDK_VERSION:re.SDK_VERSION,INTERNAL:{registerComponent:function vt(Et){const Se=Et.name,nt=Se.replace("-compat","");if(re._registerComponent(Et)&&"PUBLIC"===Et.type){const Ee=(Ke=_n())=>{if("function"!=typeof Ke[nt])throw We.create("invalid-app-argument",{appName:Se});return Ke[nt]()};void 0!==Et.serviceProps&&(0,m.ZB)(Ee,Et.serviceProps),ut[nt]=Ee,rn.prototype[nt]=function(...Ke){return this._getService.bind(this,Se).apply(this,Et.multipleInstances?Ke:[])}}return"PUBLIC"===Et.type?ut[nt]:null},removeApp:function gn(Et){delete pt[Et]},useAsService:function $t(Et,Se){return"serverAuth"===Se?null:Se},modularAPIs:re}};function _n(Et){if(!(0,m.r3)(pt,Et=Et||re._DEFAULT_ENTRY_NAME))throw We.create("no-app",{appName:Et});return pt[Et]}return ut.default=ut,Object.defineProperty(ut,"apps",{get:function bt(){return Object.keys(pt).map(Et=>pt[Et])}}),_n.App=rn,ut}(Re);return rn.INTERNAL=Object.assign(Object.assign({},rn.INTERNAL),{createFirebaseNamespace:qe,extendNamespace:function pt(ut){(0,m.ZB)(rn,ut)},createSubscribe:m.ne,ErrorFactory:m.LL,deepExtend:m.ZB}),rn}(),ve=new Ve.Yd("@firebase/app-compat");if((0,m.jU)()&&void 0!==self.firebase){ve.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const rn=self.firebase.SDK_VERSION;rn&&rn.indexOf("LITE")>=0&&ve.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const ft=fe;!function tt(rn){(0,re.registerVersion)("@firebase/app-compat","0.1.39",rn)}()},9681:(an,at,ee)=>{ee.r(at),ee.d(at,{FirebaseError:()=>Ve.ZR,SDK_VERSION:()=>Ci,_DEFAULT_ENTRY_NAME:()=>zn,_addComponent:()=>hr,_addOrOverwriteComponent:()=>Fn,_apps:()=>Yn,_clearComponents:()=>Ri,_components:()=>Gn,_getProvider:()=>Wn,_registerComponent:()=>Xr,_removeServiceInstance:()=>Tr,deleteApp:()=>Hr,getApp:()=>zr,getApps:()=>oi,initializeApp:()=>Pn,onLog:()=>Cr,registerVersion:()=>fi,setLogLevel:()=>_r});var m=ee(5861),ie=ee(4859),re=ee(1877),Ve=ee(2090),Re=ee(8766);class Le{constructor(mt){this.container=mt}getPlatformInfoString(){return this.container.getProviders().map(Gt=>{if(function We(Qt){return"VERSION"===Qt.getComponent()?.type}(Gt)){const kn=Gt.getImmediate();return`${kn.library}/${kn.version}`}return null}).filter(Gt=>Gt).join(" ")}}const He="@firebase/app",fe=new re.Yd("@firebase/app"),zn="[DEFAULT]",Kt={[He]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Yn=new Map,Gn=new Map;function hr(Qt,mt){try{Qt.container.addComponent(mt)}catch(Gt){fe.debug(`Component ${mt.name} failed to register with FirebaseApp ${Qt.name}`,Gt)}}function Fn(Qt,mt){Qt.container.addOrOverwriteComponent(mt)}function Xr(Qt){const mt=Qt.name;if(Gn.has(mt))return fe.debug(`There were multiple attempts to register component ${mt}.`),!1;Gn.set(mt,Qt);for(const Gt of Yn.values())hr(Gt,Qt);return!0}function Wn(Qt,mt){const Gt=Qt.container.getProvider("heartbeat").getImmediate({optional:!0});return Gt&&Gt.triggerHeartbeat(),Qt.container.getProvider(mt)}function Tr(Qt,mt,Gt=zn){Wn(Qt,mt).clearInstance(Gt)}function Ri(){Gn.clear()}const mr=new Ve.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ii{constructor(mt,Gt,kn){this._isDeleted=!1,this._options=Object.assign({},mt),this._config=Object.assign({},Gt),this._name=Gt.name,this._automaticDataCollectionEnabled=Gt.automaticDataCollectionEnabled,this._container=kn,this.container.addComponent(new ie.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(mt){this.checkDestroyed(),this._automaticDataCollectionEnabled=mt}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(mt){this._isDeleted=mt}checkDestroyed(){if(this.isDeleted)throw mr.create("app-deleted",{appName:this._name})}}const Ci="9.14.0";function Pn(Qt,mt={}){let Gt=Qt;"object"!=typeof mt&&(mt={name:mt});const kn=Object.assign({name:zn,automaticDataCollectionEnabled:!1},mt),Sn=kn.name;if("string"!=typeof Sn||!Sn)throw mr.create("bad-app-name",{appName:String(Sn)});if(Gt||(Gt=(0,Ve.aH)()),!Gt)throw mr.create("no-options");const Un=Yn.get(Sn);if(Un){if((0,Ve.vZ)(Gt,Un.options)&&(0,Ve.vZ)(kn,Un.config))return Un;throw mr.create("duplicate-app",{appName:Sn})}const Fe=new ie.H0(Sn);for(const je of Gn.values())Fe.addComponent(je);const De=new ii(Gt,kn,Fe);return Yn.set(Sn,De),De}function zr(Qt=zn){const mt=Yn.get(Qt);if(!mt&&Qt===zn)return Pn();if(!mt)throw mr.create("no-app",{appName:Qt});return mt}function oi(){return Array.from(Yn.values())}function Hr(Qt){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,m.Z)(function*(Qt){const mt=Qt.name;Yn.has(mt)&&(Yn.delete(mt),yield Promise.all(Qt.container.getProviders().map(Gt=>Gt.delete())),Qt.isDeleted=!0)})).apply(this,arguments)}function fi(Qt,mt,Gt){var kn;let Sn=null!==(kn=Kt[Qt])&&void 0!==kn?kn:Qt;Gt&&(Sn+=`-${Gt}`);const Un=Sn.match(/\s|\//),Fe=mt.match(/\s|\//);if(Un||Fe){const De=[`Unable to register library "${Sn}" with version "${mt}":`];return Un&&De.push(`library name "${Sn}" contains illegal characters (whitespace or "/")`),Un&&Fe&&De.push("and"),Fe&&De.push(`version name "${mt}" contains illegal characters (whitespace or "/")`),void fe.warn(De.join(" "))}Xr(new ie.wA(`${Sn}-version`,()=>({library:Sn,version:mt}),"VERSION"))}function Cr(Qt,mt){if(null!==Qt&&"function"!=typeof Qt)throw mr.create("invalid-log-argument");(0,re.Am)(Qt,mt)}function _r(Qt){(0,re.Ub)(Qt)}const si="firebase-heartbeat-store";let dt=null;function Oe(){return dt||(dt=(0,Re.X3)("firebase-heartbeat-database",1,{upgrade:(Qt,mt)=>{0===mt&&Qt.createObjectStore(si)}}).catch(Qt=>{throw mr.create("idb-open",{originalErrorMessage:Qt.message})})),dt}function lt(){return(lt=(0,m.Z)(function*(Qt){var mt;try{return(yield Oe()).transaction(si).objectStore(si).get(Dn(Qt))}catch(Gt){if(Gt instanceof Ve.ZR)fe.warn(Gt.message);else{const kn=mr.create("idb-get",{originalErrorMessage:null===(mt=Gt)||void 0===mt?void 0:mt.message});fe.warn(kn.message)}}})).apply(this,arguments)}function It(Qt,mt){return dn.apply(this,arguments)}function dn(){return(dn=(0,m.Z)(function*(Qt,mt){var Gt;try{const Sn=(yield Oe()).transaction(si,"readwrite");return yield Sn.objectStore(si).put(mt,Dn(Qt)),Sn.done}catch(kn){if(kn instanceof Ve.ZR)fe.warn(kn.message);else{const Sn=mr.create("idb-set",{originalErrorMessage:null===(Gt=kn)||void 0===Gt?void 0:Gt.message});fe.warn(Sn.message)}}})).apply(this,arguments)}function Dn(Qt){return`${Qt.name}!${Qt.options.appId}`}class Or{constructor(mt){this.container=mt,this._heartbeatsCache=null;const Gt=this.container.getProvider("app").getImmediate();this._storage=new Xn(Gt),this._heartbeatsCachePromise=this._storage.read().then(kn=>(this._heartbeatsCache=kn,kn))}triggerHeartbeat(){var mt=this;return(0,m.Z)(function*(){const kn=mt.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Sn=ar();if(null===mt._heartbeatsCache&&(mt._heartbeatsCache=yield mt._heartbeatsCachePromise),mt._heartbeatsCache.lastSentHeartbeatDate!==Sn&&!mt._heartbeatsCache.heartbeats.some(Un=>Un.date===Sn))return mt._heartbeatsCache.heartbeats.push({date:Sn,agent:kn}),mt._heartbeatsCache.heartbeats=mt._heartbeatsCache.heartbeats.filter(Un=>{const Fe=new Date(Un.date).valueOf();return Date.now()-Fe<=2592e6}),mt._storage.overwrite(mt._heartbeatsCache)})()}getHeartbeatsHeader(){var mt=this;return(0,m.Z)(function*(){if(null===mt._heartbeatsCache&&(yield mt._heartbeatsCachePromise),null===mt._heartbeatsCache||0===mt._heartbeatsCache.heartbeats.length)return"";const Gt=ar(),{heartbeatsToSend:kn,unsentEntries:Sn}=function br(Qt,mt=1024){const Gt=[];let kn=Qt.slice();for(const Sn of Qt){const Un=Gt.find(Fe=>Fe.agent===Sn.agent);if(Un){if(Un.dates.push(Sn.date),Vn(Gt)>mt){Un.dates.pop();break}}else if(Gt.push({agent:Sn.agent,dates:[Sn.date]}),Vn(Gt)>mt){Gt.pop();break}kn=kn.slice(1)}return{heartbeatsToSend:Gt,unsentEntries:kn}}(mt._heartbeatsCache.heartbeats),Un=(0,Ve.L)(JSON.stringify({version:2,heartbeats:kn}));return mt._heartbeatsCache.lastSentHeartbeatDate=Gt,Sn.length>0?(mt._heartbeatsCache.heartbeats=Sn,yield mt._storage.overwrite(mt._heartbeatsCache)):(mt._heartbeatsCache.heartbeats=[],mt._storage.overwrite(mt._heartbeatsCache)),Un})()}}function ar(){return(new Date).toISOString().substring(0,10)}class Xn{constructor(mt){this.app=mt,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,m.Z)(function*(){return!!(0,Ve.hl)()&&(0,Ve.eu)().then(()=>!0).catch(()=>!1)})()}read(){var mt=this;return(0,m.Z)(function*(){return(yield mt._canUseIndexedDBPromise)&&(yield function Ie(Qt){return lt.apply(this,arguments)}(mt.app))||{heartbeats:[]}})()}overwrite(mt){var Gt=this;return(0,m.Z)(function*(){var kn;if(yield Gt._canUseIndexedDBPromise){const Un=yield Gt.read();return It(Gt.app,{lastSentHeartbeatDate:null!==(kn=mt.lastSentHeartbeatDate)&&void 0!==kn?kn:Un.lastSentHeartbeatDate,heartbeats:mt.heartbeats})}})()}add(mt){var Gt=this;return(0,m.Z)(function*(){var kn;if(yield Gt._canUseIndexedDBPromise){const Un=yield Gt.read();return It(Gt.app,{lastSentHeartbeatDate:null!==(kn=mt.lastSentHeartbeatDate)&&void 0!==kn?kn:Un.lastSentHeartbeatDate,heartbeats:[...Un.heartbeats,...mt.heartbeats]})}})()}}function Vn(Qt){return(0,Ve.L)(JSON.stringify({version:2,heartbeats:Qt})).length}!function on(Qt){Xr(new ie.wA("platform-logger",mt=>new Le(mt),"PRIVATE")),Xr(new ie.wA("heartbeat",mt=>new Or(mt),"PRIVATE")),fi(He,"0.8.4",Qt),fi(He,"0.8.4","esm2017"),fi("fire-js","")}("")},4859:(an,at,ee)=>{ee.d(at,{H0:()=>He,wA:()=>re});var m=ee(5861),ie=ee(2090);class re{constructor(fe,ve,$e){this.name=fe,this.instanceFactory=ve,this.type=$e,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(fe){return this.instantiationMode=fe,this}setMultipleInstances(fe){return this.multipleInstances=fe,this}setServiceProps(fe){return this.serviceProps=fe,this}setInstanceCreatedCallback(fe){return this.onInstanceCreated=fe,this}}const Ve="[DEFAULT]";class Re{constructor(fe,ve){this.name=fe,this.container=ve,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(fe){const ve=this.normalizeInstanceIdentifier(fe);if(!this.instancesDeferred.has(ve)){const $e=new ie.BH;if(this.instancesDeferred.set(ve,$e),this.isInitialized(ve)||this.shouldAutoInitialize())try{const Pt=this.getOrInitializeService({instanceIdentifier:ve});Pt&&$e.resolve(Pt)}catch{}}return this.instancesDeferred.get(ve).promise}getImmediate(fe){var ve;const $e=this.normalizeInstanceIdentifier(fe?.identifier),Pt=null!==(ve=fe?.optional)&&void 0!==ve&&ve;if(!this.isInitialized($e)&&!this.shouldAutoInitialize()){if(Pt)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:$e})}catch(tt){if(Pt)return null;throw tt}}getComponent(){return this.component}setComponent(fe){if(fe.name!==this.name)throw Error(`Mismatching Component ${fe.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=fe,this.shouldAutoInitialize()){if(function We(qe){return"EAGER"===qe.instantiationMode}(fe))try{this.getOrInitializeService({instanceIdentifier:Ve})}catch{}for(const[ve,$e]of this.instancesDeferred.entries()){const Pt=this.normalizeInstanceIdentifier(ve);try{const tt=this.getOrInitializeService({instanceIdentifier:Pt});$e.resolve(tt)}catch{}}}}clearInstance(fe=Ve){this.instancesDeferred.delete(fe),this.instancesOptions.delete(fe),this.instances.delete(fe)}delete(){var fe=this;return(0,m.Z)(function*(){const ve=Array.from(fe.instances.values());yield Promise.all([...ve.filter($e=>"INTERNAL"in $e).map($e=>$e.INTERNAL.delete()),...ve.filter($e=>"_delete"in $e).map($e=>$e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(fe=Ve){return this.instances.has(fe)}getOptions(fe=Ve){return this.instancesOptions.get(fe)||{}}initialize(fe={}){const{options:ve={}}=fe,$e=this.normalizeInstanceIdentifier(fe.instanceIdentifier);if(this.isInitialized($e))throw Error(`${this.name}(${$e}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Pt=this.getOrInitializeService({instanceIdentifier:$e,options:ve});for(const[tt,ft]of this.instancesDeferred.entries())$e===this.normalizeInstanceIdentifier(tt)&&ft.resolve(Pt);return Pt}onInit(fe,ve){var $e;const Pt=this.normalizeInstanceIdentifier(ve),tt=null!==($e=this.onInitCallbacks.get(Pt))&&void 0!==$e?$e:new Set;tt.add(fe),this.onInitCallbacks.set(Pt,tt);const ft=this.instances.get(Pt);return ft&&fe(ft,Pt),()=>{tt.delete(fe)}}invokeOnInitCallbacks(fe,ve){const $e=this.onInitCallbacks.get(ve);if($e)for(const Pt of $e)try{Pt(fe,ve)}catch{}}getOrInitializeService({instanceIdentifier:fe,options:ve={}}){let $e=this.instances.get(fe);if(!$e&&this.component&&($e=this.component.instanceFactory(this.container,{instanceIdentifier:(qe=fe,qe===Ve?void 0:qe),options:ve}),this.instances.set(fe,$e),this.instancesOptions.set(fe,ve),this.invokeOnInitCallbacks($e,fe),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,fe,$e)}catch{}var qe;return $e||null}normalizeInstanceIdentifier(fe=Ve){return this.component?this.component.multipleInstances?fe:Ve:fe}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class He{constructor(fe){this.name=fe,this.providers=new Map}addComponent(fe){const ve=this.getProvider(fe.name);if(ve.isComponentSet())throw new Error(`Component ${fe.name} has already been registered with ${this.name}`);ve.setComponent(fe)}addOrOverwriteComponent(fe){this.getProvider(fe.name).isComponentSet()&&this.providers.delete(fe.name),this.addComponent(fe)}getProvider(fe){if(this.providers.has(fe))return this.providers.get(fe);const ve=new Re(fe,this);return this.providers.set(fe,ve),ve}getProviders(){return Array.from(this.providers.values())}}},1877:(an,at,ee)=>{ee.d(at,{Am:()=>qe,Ub:()=>He,Yd:()=>We,in:()=>ie});const m=[];var ie=(()=>{return(fe=ie||(ie={}))[fe.DEBUG=0]="DEBUG",fe[fe.VERBOSE=1]="VERBOSE",fe[fe.INFO=2]="INFO",fe[fe.WARN=3]="WARN",fe[fe.ERROR=4]="ERROR",fe[fe.SILENT=5]="SILENT",ie;var fe})();const re={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},Ve=ie.INFO,Re={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},Le=(fe,ve,...$e)=>{if(ve<fe.logLevel)return;const Pt=(new Date).toISOString(),tt=Re[ve];if(!tt)throw new Error(`Attempted to log a message with an invalid logType (value: ${ve})`);console[tt](`[${Pt}]  ${fe.name}:`,...$e)};class We{constructor(ve){this.name=ve,this._logLevel=Ve,this._logHandler=Le,this._userLogHandler=null,m.push(this)}get logLevel(){return this._logLevel}set logLevel(ve){if(!(ve in ie))throw new TypeError(`Invalid value "${ve}" assigned to \`logLevel\``);this._logLevel=ve}setLogLevel(ve){this._logLevel="string"==typeof ve?re[ve]:ve}get logHandler(){return this._logHandler}set logHandler(ve){if("function"!=typeof ve)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ve}get userLogHandler(){return this._userLogHandler}set userLogHandler(ve){this._userLogHandler=ve}debug(...ve){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...ve),this._logHandler(this,ie.DEBUG,...ve)}log(...ve){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...ve),this._logHandler(this,ie.VERBOSE,...ve)}info(...ve){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...ve),this._logHandler(this,ie.INFO,...ve)}warn(...ve){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...ve),this._logHandler(this,ie.WARN,...ve)}error(...ve){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...ve),this._logHandler(this,ie.ERROR,...ve)}}function He(fe){m.forEach(ve=>{ve.setLogLevel(fe)})}function qe(fe,ve){for(const $e of m){let Pt=null;ve&&ve.level&&(Pt=re[ve.level]),$e.userLogHandler=null===fe?null:(tt,ft,...rn)=>{const pt=rn.map(ut=>{if(null==ut)return null;if("string"==typeof ut)return ut;if("number"==typeof ut||"boolean"==typeof ut)return ut.toString();if(ut instanceof Error)return ut.message;try{return JSON.stringify(ut)}catch{return null}}).filter(ut=>ut).join(" ");ft>=(Pt??tt.logLevel)&&fe({level:ie[ft].toLowerCase(),message:pt,args:rn,type:tt.name})}}}},8766:(an,at,ee)=>{ee.d(at,{Lj:()=>xe,X3:()=>_n});var m=ee(5861);let re,Ve;const We=new WeakMap,He=new WeakMap,qe=new WeakMap,fe=new WeakMap,ve=new WeakMap;let tt={get(Se,nt,Ee){if(Se instanceof IDBTransaction){if("done"===nt)return He.get(Se);if("objectStoreNames"===nt)return Se.objectStoreNames||qe.get(Se);if("store"===nt)return Ee.objectStoreNames[1]?void 0:Ee.objectStore(Ee.objectStoreNames[0])}return ut(Se[nt])},set:(Se,nt,Ee)=>(Se[nt]=Ee,!0),has:(Se,nt)=>Se instanceof IDBTransaction&&("done"===nt||"store"===nt)||nt in Se};function pt(Se){return"function"==typeof Se?function rn(Se){return Se!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Le(){return Ve||(Ve=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Se)?function(...nt){return Se.apply(gn(this),nt),ut(We.get(this))}:function(...nt){return ut(Se.apply(gn(this),nt))}:function(nt,...Ee){const Ke=Se.call(gn(this),nt,...Ee);return qe.set(Ke,nt.sort?nt.sort():[nt]),ut(Ke)}}(Se):(Se instanceof IDBTransaction&&function Pt(Se){if(He.has(Se))return;const nt=new Promise((Ee,Ke)=>{const Ne=()=>{Se.removeEventListener("complete",Xe),Se.removeEventListener("error",Ft),Se.removeEventListener("abort",Ft)},Xe=()=>{Ee(),Ne()},Ft=()=>{Ke(Se.error||new DOMException("AbortError","AbortError")),Ne()};Se.addEventListener("complete",Xe),Se.addEventListener("error",Ft),Se.addEventListener("abort",Ft)});He.set(Se,nt)}(Se),((Se,nt)=>nt.some(Ee=>Se instanceof Ee))(Se,function Re(){return re||(re=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Se,tt):Se)}function ut(Se){if(Se instanceof IDBRequest)return function $e(Se){const nt=new Promise((Ee,Ke)=>{const Ne=()=>{Se.removeEventListener("success",Xe),Se.removeEventListener("error",Ft)},Xe=()=>{Ee(ut(Se.result)),Ne()},Ft=()=>{Ke(Se.error),Ne()};Se.addEventListener("success",Xe),Se.addEventListener("error",Ft)});return nt.then(Ee=>{Ee instanceof IDBCursor&&We.set(Ee,Se)}).catch(()=>{}),ve.set(nt,Se),nt}(Se);if(fe.has(Se))return fe.get(Se);const nt=pt(Se);return nt!==Se&&(fe.set(Se,nt),ve.set(nt,Se)),nt}const gn=Se=>ve.get(Se);function _n(Se,nt,{blocked:Ee,upgrade:Ke,blocking:Ne,terminated:Xe}={}){const Ft=indexedDB.open(Se,nt),Ut=ut(Ft);return Ke&&Ft.addEventListener("upgradeneeded",pn=>{Ke(ut(Ft.result),pn.oldVersion,pn.newVersion,ut(Ft.transaction))}),Ee&&Ft.addEventListener("blocked",()=>Ee()),Ut.then(pn=>{Xe&&pn.addEventListener("close",()=>Xe()),Ne&&pn.addEventListener("versionchange",()=>Ne())}).catch(()=>{}),Ut}function xe(Se,{blocked:nt}={}){const Ee=indexedDB.deleteDatabase(Se);return nt&&Ee.addEventListener("blocked",()=>nt()),ut(Ee).then(()=>{})}const bt=["get","getKey","getAll","getAllKeys","count"],vt=["put","add","delete","clear"],$t=new Map;function Et(Se,nt){if(!(Se instanceof IDBDatabase)||nt in Se||"string"!=typeof nt)return;if($t.get(nt))return $t.get(nt);const Ee=nt.replace(/FromIndex$/,""),Ke=nt!==Ee,Ne=vt.includes(Ee);if(!(Ee in(Ke?IDBIndex:IDBObjectStore).prototype)||!Ne&&!bt.includes(Ee))return;const Xe=function(){var Ft=(0,m.Z)(function*(Ut,...pn){const Bn=this.transaction(Ut,Ne?"readwrite":"readonly");let zn=Bn.store;return Ke&&(zn=zn.index(pn.shift())),(yield Promise.all([zn[Ee](...pn),Ne&&Bn.done]))[0]});return function(pn){return Ft.apply(this,arguments)}}();return $t.set(nt,Xe),Xe}!function ft(Se){tt=Se(tt)}(Se=>({...Se,get:(nt,Ee,Ke)=>Et(nt,Ee)||Se.get(nt,Ee,Ke),has:(nt,Ee)=>!!Et(nt,Ee)||Se.has(nt,Ee)}))},5071:(an,at,ee)=>{function m(u){return null!==u&&"object"==typeof u&&"constructor"in u&&u.constructor===Object}function ie(u={},x={}){Object.keys(x).forEach(w=>{typeof u[w]>"u"?u[w]=x[w]:m(x[w])&&m(u[w])&&Object.keys(x[w]).length>0&&ie(u[w],x[w])})}ee.d(at,{pt:()=>ae,xW:()=>ls,W_:()=>ti,tl:()=>os,ZP:()=>Vo});const re={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector:()=>null,querySelectorAll:()=>[],getElementById:()=>null,createEvent:()=>({initEvent(){}}),createElement:()=>({children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName:()=>[]}),createElementNS:()=>({}),importNode:()=>null,location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ve(){const u=typeof document<"u"?document:{};return ie(u,re),u}const Re={document:re,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle:()=>({getPropertyValue:()=>""}),Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia:()=>({}),requestAnimationFrame:u=>typeof setTimeout>"u"?(u(),null):setTimeout(u,0),cancelAnimationFrame(u){typeof setTimeout>"u"||clearTimeout(u)}};function Le(){const u=typeof window<"u"?window:{};return ie(u,Re),u}class He extends Array{constructor(x){"number"==typeof x?super(x):(super(...x||[]),function We(u){const x=u.__proto__;Object.defineProperty(u,"__proto__",{get:()=>x,set(w){x.__proto__=w}})}(this))}}function qe(u=[]){const x=[];return u.forEach(w=>{Array.isArray(w)?x.push(...qe(w)):x.push(w)}),x}function fe(u,x){return Array.prototype.filter.call(u,x)}function tt(u,x){const w=Le(),O=Ve();let z=[];if(!x&&u instanceof He)return u;if(!u)return new He(z);if("string"==typeof u){const g=u.trim();if(g.indexOf("<")>=0&&g.indexOf(">")>=0){let S="div";0===g.indexOf("<li")&&(S="ul"),0===g.indexOf("<tr")&&(S="tbody"),(0===g.indexOf("<td")||0===g.indexOf("<th"))&&(S="tr"),0===g.indexOf("<tbody")&&(S="table"),0===g.indexOf("<option")&&(S="select");const _=O.createElement(S);_.innerHTML=g;for(let M=0;M<_.childNodes.length;M+=1)z.push(_.childNodes[M])}else z=function Pt(u,x){if("string"!=typeof u)return[u];const w=[],O=x.querySelectorAll(u);for(let z=0;z<O.length;z+=1)w.push(O[z]);return w}(u.trim(),x||O)}else if(u.nodeType||u===w||u===O)z.push(u);else if(Array.isArray(u)){if(u instanceof He)return u;z=u}return new He(function ve(u){const x=[];for(let w=0;w<u.length;w+=1)-1===x.indexOf(u[w])&&x.push(u[w]);return x}(z))}tt.fn=He.prototype;const Qt="resize scroll".split(" ");function mt(u){return function x(...w){if(typeof w[0]>"u"){for(let O=0;O<this.length;O+=1)Qt.indexOf(u)<0&&(u in this[O]?this[O][u]():tt(this[O]).trigger(u));return this}return this.on(u,...w)}}mt("click"),mt("blur"),mt("focus"),mt("focusin"),mt("focusout"),mt("keyup"),mt("keydown"),mt("keypress"),mt("submit"),mt("change"),mt("mousedown"),mt("mousemove"),mt("mouseup"),mt("mouseenter"),mt("mouseleave"),mt("mouseout"),mt("mouseover"),mt("touchstart"),mt("touchend"),mt("touchmove"),mt("resize"),mt("scroll");const ci={addClass:function ft(...u){const x=qe(u.map(w=>w.split(" ")));return this.forEach(w=>{w.classList.add(...x)}),this},removeClass:function rn(...u){const x=qe(u.map(w=>w.split(" ")));return this.forEach(w=>{w.classList.remove(...x)}),this},hasClass:function ut(...u){const x=qe(u.map(w=>w.split(" ")));return fe(this,w=>x.filter(O=>w.classList.contains(O)).length>0).length>0},toggleClass:function pt(...u){const x=qe(u.map(w=>w.split(" ")));this.forEach(w=>{x.forEach(O=>{w.classList.toggle(O)})})},attr:function gn(u,x){if(1===arguments.length&&"string"==typeof u)return this[0]?this[0].getAttribute(u):void 0;for(let w=0;w<this.length;w+=1)if(2===arguments.length)this[w].setAttribute(u,x);else for(const O in u)this[w][O]=u[O],this[w].setAttribute(O,u[O]);return this},removeAttr:function _n(u){for(let x=0;x<this.length;x+=1)this[x].removeAttribute(u);return this},transform:function nt(u){for(let x=0;x<this.length;x+=1)this[x].style.transform=u;return this},transition:function Ee(u){for(let x=0;x<this.length;x+=1)this[x].style.transitionDuration="string"!=typeof u?`${u}ms`:u;return this},on:function Ke(...u){let[x,w,O,z]=u;function g(V){const H=V.target;if(!H)return;const W=V.target.dom7EventData||[];if(W.indexOf(V)<0&&W.unshift(V),tt(H).is(w))O.apply(H,W);else{const ne=tt(H).parents();for(let ge=0;ge<ne.length;ge+=1)tt(ne[ge]).is(w)&&O.apply(ne[ge],W)}}function S(V){const H=V&&V.target&&V.target.dom7EventData||[];H.indexOf(V)<0&&H.unshift(V),O.apply(this,H)}"function"==typeof u[1]&&([x,O,z]=u,w=void 0),z||(z=!1);const _=x.split(" ");let M;for(let V=0;V<this.length;V+=1){const H=this[V];if(w)for(M=0;M<_.length;M+=1){const W=_[M];H.dom7LiveListeners||(H.dom7LiveListeners={}),H.dom7LiveListeners[W]||(H.dom7LiveListeners[W]=[]),H.dom7LiveListeners[W].push({listener:O,proxyListener:g}),H.addEventListener(W,g,z)}else for(M=0;M<_.length;M+=1){const W=_[M];H.dom7Listeners||(H.dom7Listeners={}),H.dom7Listeners[W]||(H.dom7Listeners[W]=[]),H.dom7Listeners[W].push({listener:O,proxyListener:S}),H.addEventListener(W,S,z)}}return this},off:function Ne(...u){let[x,w,O,z]=u;"function"==typeof u[1]&&([x,O,z]=u,w=void 0),z||(z=!1);const g=x.split(" ");for(let S=0;S<g.length;S+=1){const _=g[S];for(let M=0;M<this.length;M+=1){const V=this[M];let H;if(!w&&V.dom7Listeners?H=V.dom7Listeners[_]:w&&V.dom7LiveListeners&&(H=V.dom7LiveListeners[_]),H&&H.length)for(let W=H.length-1;W>=0;W-=1){const ne=H[W];O&&ne.listener===O||O&&ne.listener&&ne.listener.dom7proxy&&ne.listener.dom7proxy===O?(V.removeEventListener(_,ne.proxyListener,z),H.splice(W,1)):O||(V.removeEventListener(_,ne.proxyListener,z),H.splice(W,1))}}}return this},trigger:function Ft(...u){const x=Le(),w=u[0].split(" "),O=u[1];for(let z=0;z<w.length;z+=1){const g=w[z];for(let S=0;S<this.length;S+=1){const _=this[S];if(x.CustomEvent){const M=new x.CustomEvent(g,{detail:O,bubbles:!0,cancelable:!0});_.dom7EventData=u.filter((V,H)=>H>0),_.dispatchEvent(M),_.dom7EventData=[],delete _.dom7EventData}}}return this},transitionEnd:function Ut(u){const x=this;return u&&x.on("transitionend",function w(O){O.target===this&&(u.call(this,O),x.off("transitionend",w))}),this},outerWidth:function zn(u){if(this.length>0){if(u){const x=this.styles();return this[0].offsetWidth+parseFloat(x.getPropertyValue("margin-right"))+parseFloat(x.getPropertyValue("margin-left"))}return this[0].offsetWidth}return null},outerHeight:function Yn(u){if(this.length>0){if(u){const x=this.styles();return this[0].offsetHeight+parseFloat(x.getPropertyValue("margin-top"))+parseFloat(x.getPropertyValue("margin-bottom"))}return this[0].offsetHeight}return null},styles:function Xr(){const u=Le();return this[0]?u.getComputedStyle(this[0],null):{}},offset:function Gn(){if(this.length>0){const u=Le(),x=Ve(),w=this[0],O=w.getBoundingClientRect(),z=x.body;return{top:O.top+(w===u?u.scrollY:w.scrollTop)-(w.clientTop||z.clientTop||0),left:O.left+(w===u?u.scrollX:w.scrollLeft)-(w.clientLeft||z.clientLeft||0)}}return null},css:function Wn(u,x){const w=Le();let O;if(1===arguments.length){if("string"!=typeof u){for(O=0;O<this.length;O+=1)for(const z in u)this[O].style[z]=u[z];return this}if(this[0])return w.getComputedStyle(this[0],null).getPropertyValue(u)}if(2===arguments.length&&"string"==typeof u){for(O=0;O<this.length;O+=1)this[O].style[u]=x;return this}return this},each:function Tr(u){return u?(this.forEach((x,w)=>{u.apply(x,[x,w])}),this):this},html:function _i(u){if(typeof u>"u")return this[0]?this[0].innerHTML:null;for(let x=0;x<this.length;x+=1)this[x].innerHTML=u;return this},text:function mr(u){if(typeof u>"u")return this[0]?this[0].textContent.trim():null;for(let x=0;x<this.length;x+=1)this[x].textContent=u;return this},is:function ii(u){const x=Le(),w=Ve(),O=this[0];let z,g;if(!O||typeof u>"u")return!1;if("string"==typeof u){if(O.matches)return O.matches(u);if(O.webkitMatchesSelector)return O.webkitMatchesSelector(u);if(O.msMatchesSelector)return O.msMatchesSelector(u);for(z=tt(u),g=0;g<z.length;g+=1)if(z[g]===O)return!0;return!1}if(u===w)return O===w;if(u===x)return O===x;if(u.nodeType||u instanceof He){for(z=u.nodeType?[u]:u,g=0;g<z.length;g+=1)if(z[g]===O)return!0;return!1}return!1},index:function Ci(){let x,u=this[0];if(u){for(x=0;null!==(u=u.previousSibling);)1===u.nodeType&&(x+=1);return x}},eq:function Pn(u){if(typeof u>"u")return this;const x=this.length;if(u>x-1)return tt([]);if(u<0){const w=x+u;return tt(w<0?[]:[this[w]])}return tt([this[u]])},append:function zr(...u){let x;const w=Ve();for(let O=0;O<u.length;O+=1){x=u[O];for(let z=0;z<this.length;z+=1)if("string"==typeof x){const g=w.createElement("div");for(g.innerHTML=x;g.firstChild;)this[z].appendChild(g.firstChild)}else if(x instanceof He)for(let g=0;g<x.length;g+=1)this[z].appendChild(x[g]);else this[z].appendChild(x)}return this},prepend:function Hr(u){const x=Ve();let w,O;for(w=0;w<this.length;w+=1)if("string"==typeof u){const z=x.createElement("div");for(z.innerHTML=u,O=z.childNodes.length-1;O>=0;O-=1)this[w].insertBefore(z.childNodes[O],this[w].childNodes[0])}else if(u instanceof He)for(O=0;O<u.length;O+=1)this[w].insertBefore(u[O],this[w].childNodes[0]);else this[w].insertBefore(u,this[w].childNodes[0]);return this},next:function _r(u){return this.length>0?u?this[0].nextElementSibling&&tt(this[0].nextElementSibling).is(u)?tt([this[0].nextElementSibling]):tt([]):tt(this[0].nextElementSibling?[this[0].nextElementSibling]:[]):tt([])},nextAll:function pi(u){const x=[];let w=this[0];if(!w)return tt([]);for(;w.nextElementSibling;){const O=w.nextElementSibling;u?tt(O).is(u)&&x.push(O):x.push(O),w=O}return tt(x)},prev:function Ui(u){if(this.length>0){const x=this[0];return u?x.previousElementSibling&&tt(x.previousElementSibling).is(u)?tt([x.previousElementSibling]):tt([]):tt(x.previousElementSibling?[x.previousElementSibling]:[])}return tt([])},prevAll:function si(u){const x=[];let w=this[0];if(!w)return tt([]);for(;w.previousElementSibling;){const O=w.previousElementSibling;u?tt(O).is(u)&&x.push(O):x.push(O),w=O}return tt(x)},parent:function Oe(u){const x=[];for(let w=0;w<this.length;w+=1)null!==this[w].parentNode&&(u?tt(this[w].parentNode).is(u)&&x.push(this[w].parentNode):x.push(this[w].parentNode));return tt(x)},parents:function Ie(u){const x=[];for(let w=0;w<this.length;w+=1){let O=this[w].parentNode;for(;O;)u?tt(O).is(u)&&x.push(O):x.push(O),O=O.parentNode}return tt(x)},closest:function lt(u){let x=this;return typeof u>"u"?tt([]):(x.is(u)||(x=x.parents(u).eq(0)),x)},find:function It(u){const x=[];for(let w=0;w<this.length;w+=1){const O=this[w].querySelectorAll(u);for(let z=0;z<O.length;z+=1)x.push(O[z])}return tt(x)},children:function dn(u){const x=[];for(let w=0;w<this.length;w+=1){const O=this[w].children;for(let z=0;z<O.length;z+=1)(!u||tt(O[z]).is(u))&&x.push(O[z])}return tt(x)},filter:function Ri(u){return tt(fe(this,u))},remove:function Dn(){for(let u=0;u<this.length;u+=1)this[u].parentNode&&this[u].parentNode.removeChild(this[u]);return this}};Object.keys(ci).forEach(u=>{Object.defineProperty(tt.fn,u,{value:ci[u],writable:!0})});const Jt=tt;function ai(u,x=0){return setTimeout(u,x)}function Ts(){return Date.now()}function ji(u){return"object"==typeof u&&null!==u&&u.constructor&&"Object"===Object.prototype.toString.call(u).slice(8,-1)}function As(u){return typeof window<"u"&&typeof window.HTMLElement<"u"?u instanceof HTMLElement:u&&(1===u.nodeType||11===u.nodeType)}function nr(...u){const x=Object(u[0]),w=["__proto__","constructor","prototype"];for(let O=1;O<u.length;O+=1){const z=u[O];if(null!=z&&!As(z)){const g=Object.keys(Object(z)).filter(S=>w.indexOf(S)<0);for(let S=0,_=g.length;S<_;S+=1){const M=g[S],V=Object.getOwnPropertyDescriptor(z,M);void 0!==V&&V.enumerable&&(ji(x[M])&&ji(z[M])?z[M].__swiper__?x[M]=z[M]:nr(x[M],z[M]):!ji(x[M])&&ji(z[M])?(x[M]={},z[M].__swiper__?x[M]=z[M]:nr(x[M],z[M])):x[M]=z[M])}}}return x}function Sr(u,x,w){u.style.setProperty(x,w)}function Hi({swiper:u,targetPosition:x,side:w}){const O=Le(),z=-u.translate;let S,g=null;const _=u.params.speed;u.wrapperEl.style.scrollSnapType="none",O.cancelAnimationFrame(u.cssModeFrameID);const M=x>z?"next":"prev",V=(W,ne)=>"next"===M&&W>=ne||"prev"===M&&W<=ne,H=()=>{S=(new Date).getTime(),null===g&&(g=S);const W=Math.max(Math.min((S-g)/_,1),0),ne=.5-Math.cos(W*Math.PI)/2;let ge=z+ne*(x-z);if(V(ge,x)&&(ge=x),u.wrapperEl.scrollTo({[w]:ge}),V(ge,x))return u.wrapperEl.style.overflow="hidden",u.wrapperEl.style.scrollSnapType="",setTimeout(()=>{u.wrapperEl.style.overflow="",u.wrapperEl.scrollTo({[w]:ge})}),void O.cancelAnimationFrame(u.cssModeFrameID);u.cssModeFrameID=O.requestAnimationFrame(H)};H()}let yr,gi,zi;function Ms(){return yr||(yr=function Ys(){const u=Le(),x=Ve();return{smoothScroll:x.documentElement&&"scrollBehavior"in x.documentElement.style,touch:!!("ontouchstart"in u||u.DocumentTouch&&x instanceof u.DocumentTouch),passiveListener:function(){let O=!1;try{const z=Object.defineProperty({},"passive",{get(){O=!0}});u.addEventListener("testPassiveListener",null,z)}catch{}return O}(),gestures:"ongesturestart"in u}}()),yr}function so({swiper:u,runCallbacks:x,direction:w,step:O}){const{activeIndex:z,previousIndex:g}=u;let S=w;if(S||(S=z>g?"next":z<g?"prev":"reset"),u.emit(`transition${O}`),x&&z!==g){if("reset"===S)return void u.emit(`slideResetTransition${O}`);u.emit(`slideChangeTransition${O}`),u.emit("next"===S?`slideNextTransition${O}`:`slidePrevTransition${O}`)}}function hi(u){const x=this,w=Ve(),O=Le(),z=x.touchEventsData,{params:g,touches:S,enabled:_}=x;if(!_||x.animating&&g.preventInteractionOnTransition)return;!x.animating&&g.cssMode&&g.loop&&x.loopFix();let M=u;M.originalEvent&&(M=M.originalEvent);let V=Jt(M.target);if("wrapper"===g.touchEventsTarget&&!V.closest(x.wrapperEl).length||(z.isTouchEvent="touchstart"===M.type,!z.isTouchEvent&&"which"in M&&3===M.which)||!z.isTouchEvent&&"button"in M&&M.button>0||z.isTouched&&z.isMoved)return;const H=!!g.noSwipingClass&&""!==g.noSwipingClass,W=u.composedPath?u.composedPath():u.path;H&&M.target&&M.target.shadowRoot&&W&&(V=Jt(W[0]));const ne=g.noSwipingSelector?g.noSwipingSelector:`.${g.noSwipingClass}`;if(g.noSwiping&&(M.target&&M.target.shadowRoot?function mi(u,x=this){return function w(O){if(!O||O===Ve()||O===Le())return null;O.assignedSlot&&(O=O.assignedSlot);const z=O.closest(u);return z||O.getRootNode?z||w(O.getRootNode().host):null}(x)}(ne,V[0]):V.closest(ne)[0]))return void(x.allowClick=!0);if(g.swipeHandler&&!V.closest(g.swipeHandler)[0])return;S.currentX="touchstart"===M.type?M.targetTouches[0].pageX:M.pageX,S.currentY="touchstart"===M.type?M.targetTouches[0].pageY:M.pageY;const Ce=S.currentX,ce=S.currentY,he=g.edgeSwipeDetection||g.iOSEdgeSwipeDetection,Be=g.edgeSwipeThreshold||g.iOSEdgeSwipeThreshold;if(he&&(Ce<=Be||Ce>=O.innerWidth-Be)){if("prevent"!==he)return;u.preventDefault()}if(Object.assign(z,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),S.startX=Ce,S.startY=ce,z.touchStartTime=Ts(),x.allowClick=!0,x.updateSize(),x.swipeDirection=void 0,g.threshold>0&&(z.allowThresholdMove=!1),"touchstart"!==M.type){let Me=!0;V.is(z.focusableElements)&&(Me=!1,"SELECT"===V[0].nodeName&&(z.isTouched=!1)),w.activeElement&&Jt(w.activeElement).is(z.focusableElements)&&w.activeElement!==V[0]&&w.activeElement.blur();const Ue=Me&&x.allowTouchMove&&g.touchStartPreventDefault;(g.touchStartForcePreventDefault||Ue)&&!V[0].isContentEditable&&M.preventDefault()}x.params.freeMode&&x.params.freeMode.enabled&&x.freeMode&&x.animating&&!g.cssMode&&x.freeMode.onTouchStart(),x.emit("touchStart",M)}function rs(u){const x=Ve(),w=this,O=w.touchEventsData,{params:z,touches:g,rtlTranslate:S,enabled:_}=w;if(!_)return;let M=u;if(M.originalEvent&&(M=M.originalEvent),!O.isTouched)return void(O.startMoving&&O.isScrolling&&w.emit("touchMoveOpposite",M));if(O.isTouchEvent&&"touchmove"!==M.type)return;const V="touchmove"===M.type&&M.targetTouches&&(M.targetTouches[0]||M.changedTouches[0]),H="touchmove"===M.type?V.pageX:M.pageX,W="touchmove"===M.type?V.pageY:M.pageY;if(M.preventedByNestedSwiper)return g.startX=H,void(g.startY=W);if(!w.allowTouchMove)return Jt(M.target).is(O.focusableElements)||(w.allowClick=!1),void(O.isTouched&&(Object.assign(g,{startX:H,startY:W,currentX:H,currentY:W}),O.touchStartTime=Ts()));if(O.isTouchEvent&&z.touchReleaseOnEdges&&!z.loop)if(w.isVertical()){if(W<g.startY&&w.translate<=w.maxTranslate()||W>g.startY&&w.translate>=w.minTranslate())return O.isTouched=!1,void(O.isMoved=!1)}else if(H<g.startX&&w.translate<=w.maxTranslate()||H>g.startX&&w.translate>=w.minTranslate())return;if(O.isTouchEvent&&x.activeElement&&M.target===x.activeElement&&Jt(M.target).is(O.focusableElements))return O.isMoved=!0,void(w.allowClick=!1);if(O.allowTouchCallbacks&&w.emit("touchMove",M),M.targetTouches&&M.targetTouches.length>1)return;g.currentX=H,g.currentY=W;const ne=g.currentX-g.startX,ge=g.currentY-g.startY;if(w.params.threshold&&Math.sqrt(ne**2+ge**2)<w.params.threshold)return;if(typeof O.isScrolling>"u"){let Be;w.isHorizontal()&&g.currentY===g.startY||w.isVertical()&&g.currentX===g.startX?O.isScrolling=!1:ne*ne+ge*ge>=25&&(Be=180*Math.atan2(Math.abs(ge),Math.abs(ne))/Math.PI,O.isScrolling=w.isHorizontal()?Be>z.touchAngle:90-Be>z.touchAngle)}if(O.isScrolling&&w.emit("touchMoveOpposite",M),typeof O.startMoving>"u"&&(g.currentX!==g.startX||g.currentY!==g.startY)&&(O.startMoving=!0),O.isScrolling)return void(O.isTouched=!1);if(!O.startMoving)return;w.allowClick=!1,!z.cssMode&&M.cancelable&&M.preventDefault(),z.touchMoveStopPropagation&&!z.nested&&M.stopPropagation(),O.isMoved||(z.loop&&!z.cssMode&&w.loopFix(),O.startTranslate=w.getTranslate(),w.setTransition(0),w.animating&&w.$wrapperEl.trigger("webkitTransitionEnd transitionend"),O.allowMomentumBounce=!1,z.grabCursor&&(!0===w.allowSlideNext||!0===w.allowSlidePrev)&&w.setGrabCursor(!0),w.emit("sliderFirstMove",M)),w.emit("sliderMove",M),O.isMoved=!0;let Ce=w.isHorizontal()?ne:ge;g.diff=Ce,Ce*=z.touchRatio,S&&(Ce=-Ce),w.swipeDirection=Ce>0?"prev":"next",O.currentTranslate=Ce+O.startTranslate;let ce=!0,he=z.resistanceRatio;if(z.touchReleaseOnEdges&&(he=0),Ce>0&&O.currentTranslate>w.minTranslate()?(ce=!1,z.resistance&&(O.currentTranslate=w.minTranslate()-1+(-w.minTranslate()+O.startTranslate+Ce)**he)):Ce<0&&O.currentTranslate<w.maxTranslate()&&(ce=!1,z.resistance&&(O.currentTranslate=w.maxTranslate()+1-(w.maxTranslate()-O.startTranslate-Ce)**he)),ce&&(M.preventedByNestedSwiper=!0),!w.allowSlideNext&&"next"===w.swipeDirection&&O.currentTranslate<O.startTranslate&&(O.currentTranslate=O.startTranslate),!w.allowSlidePrev&&"prev"===w.swipeDirection&&O.currentTranslate>O.startTranslate&&(O.currentTranslate=O.startTranslate),!w.allowSlidePrev&&!w.allowSlideNext&&(O.currentTranslate=O.startTranslate),z.threshold>0){if(!(Math.abs(Ce)>z.threshold||O.allowThresholdMove))return void(O.currentTranslate=O.startTranslate);if(!O.allowThresholdMove)return O.allowThresholdMove=!0,g.startX=g.currentX,g.startY=g.currentY,O.currentTranslate=O.startTranslate,void(g.diff=w.isHorizontal()?g.currentX-g.startX:g.currentY-g.startY)}!z.followFinger||z.cssMode||((z.freeMode&&z.freeMode.enabled&&w.freeMode||z.watchSlidesProgress)&&(w.updateActiveIndex(),w.updateSlidesClasses()),w.params.freeMode&&z.freeMode.enabled&&w.freeMode&&w.freeMode.onTouchMove(),w.updateProgress(O.currentTranslate),w.setTranslate(O.currentTranslate))}function Ki(u){const x=this,w=x.touchEventsData,{params:O,touches:z,rtlTranslate:g,slidesGrid:S,enabled:_}=x;if(!_)return;let M=u;if(M.originalEvent&&(M=M.originalEvent),w.allowTouchCallbacks&&x.emit("touchEnd",M),w.allowTouchCallbacks=!1,!w.isTouched)return w.isMoved&&O.grabCursor&&x.setGrabCursor(!1),w.isMoved=!1,void(w.startMoving=!1);O.grabCursor&&w.isMoved&&w.isTouched&&(!0===x.allowSlideNext||!0===x.allowSlidePrev)&&x.setGrabCursor(!1);const V=Ts(),H=V-w.touchStartTime;if(x.allowClick){const Me=M.path||M.composedPath&&M.composedPath();x.updateClickedSlide(Me&&Me[0]||M.target),x.emit("tap click",M),H<300&&V-w.lastClickTime<300&&x.emit("doubleTap doubleClick",M)}if(w.lastClickTime=Ts(),ai(()=>{x.destroyed||(x.allowClick=!0)}),!w.isTouched||!w.isMoved||!x.swipeDirection||0===z.diff||w.currentTranslate===w.startTranslate)return w.isTouched=!1,w.isMoved=!1,void(w.startMoving=!1);let W;if(w.isTouched=!1,w.isMoved=!1,w.startMoving=!1,W=O.followFinger?g?x.translate:-x.translate:-w.currentTranslate,O.cssMode)return;if(x.params.freeMode&&O.freeMode.enabled)return void x.freeMode.onTouchEnd({currentPos:W});let ne=0,ge=x.slidesSizesGrid[0];for(let Me=0;Me<S.length;Me+=Me<O.slidesPerGroupSkip?1:O.slidesPerGroup){const Ue=Me<O.slidesPerGroupSkip-1?1:O.slidesPerGroup;typeof S[Me+Ue]<"u"?W>=S[Me]&&W<S[Me+Ue]&&(ne=Me,ge=S[Me+Ue]-S[Me]):W>=S[Me]&&(ne=Me,ge=S[S.length-1]-S[S.length-2])}let Ce=null,ce=null;O.rewind&&(x.isBeginning?ce=x.params.virtual&&x.params.virtual.enabled&&x.virtual?x.virtual.slides.length-1:x.slides.length-1:x.isEnd&&(Ce=0));const he=(W-S[ne])/ge,Be=ne<O.slidesPerGroupSkip-1?1:O.slidesPerGroup;if(H>O.longSwipesMs){if(!O.longSwipes)return void x.slideTo(x.activeIndex);"next"===x.swipeDirection&&x.slideTo(he>=O.longSwipesRatio?O.rewind&&x.isEnd?Ce:ne+Be:ne),"prev"===x.swipeDirection&&(he>1-O.longSwipesRatio?x.slideTo(ne+Be):null!==ce&&he<0&&Math.abs(he)>O.longSwipesRatio?x.slideTo(ce):x.slideTo(ne))}else{if(!O.shortSwipes)return void x.slideTo(x.activeIndex);!x.navigation||M.target!==x.navigation.nextEl&&M.target!==x.navigation.prevEl?("next"===x.swipeDirection&&x.slideTo(null!==Ce?Ce:ne+Be),"prev"===x.swipeDirection&&x.slideTo(null!==ce?ce:ne)):x.slideTo(M.target===x.navigation.nextEl?ne+Be:ne)}}function lo(){const u=this,{params:x,el:w}=u;if(w&&0===w.offsetWidth)return;x.breakpoints&&u.setBreakpoint();const{allowSlideNext:O,allowSlidePrev:z,snapGrid:g}=u;u.allowSlideNext=!0,u.allowSlidePrev=!0,u.updateSize(),u.updateSlides(),u.updateSlidesClasses(),u.slideTo(("auto"===x.slidesPerView||x.slidesPerView>1)&&u.isEnd&&!u.isBeginning&&!u.params.centeredSlides?u.slides.length-1:u.activeIndex,0,!1,!0),u.autoplay&&u.autoplay.running&&u.autoplay.paused&&u.autoplay.run(),u.allowSlidePrev=z,u.allowSlideNext=O,u.params.watchOverflow&&g!==u.snapGrid&&u.checkOverflow()}function Fi(u){const x=this;!x.enabled||x.allowClick||(x.params.preventClicks&&u.preventDefault(),x.params.preventClicksPropagation&&x.animating&&(u.stopPropagation(),u.stopImmediatePropagation()))}function uo(){const u=this,{wrapperEl:x,rtlTranslate:w,enabled:O}=u;if(!O)return;let z;u.previousTranslate=u.translate,u.translate=u.isHorizontal()?-x.scrollLeft:-x.scrollTop,0===u.translate&&(u.translate=0),u.updateActiveIndex(),u.updateSlidesClasses();const g=u.maxTranslate()-u.minTranslate();z=0===g?0:(u.translate-u.minTranslate())/g,z!==u.progress&&u.updateProgress(w?-u.translate:u.translate),u.emit("setTranslate",u.translate,!1)}let Us=!1;function Lr(){}const Cs=(u,x)=>{const w=Ve(),{params:O,touchEvents:z,el:g,wrapperEl:S,device:_,support:M}=u,V=!!O.nested,H="on"===x?"addEventListener":"removeEventListener",W=x;if(M.touch){const ne=!("touchstart"!==z.start||!M.passiveListener||!O.passiveListeners)&&{passive:!0,capture:!1};g[H](z.start,u.onTouchStart,ne),g[H](z.move,u.onTouchMove,M.passiveListener?{passive:!1,capture:V}:V),g[H](z.end,u.onTouchEnd,ne),z.cancel&&g[H](z.cancel,u.onTouchEnd,ne)}else g[H](z.start,u.onTouchStart,!1),w[H](z.move,u.onTouchMove,V),w[H](z.end,u.onTouchEnd,!1);(O.preventClicks||O.preventClicksPropagation)&&g[H]("click",u.onClick,!0),O.cssMode&&S[H]("scroll",u.onScroll),u[W](O.updateOnWindowResize?_.ios||_.android?"resize orientationchange observerUpdate":"resize observerUpdate":"observerUpdate",lo,!0)},xi=(u,x)=>u.grid&&x.grid&&x.grid.rows>1,co={init:!0,direction:"horizontal",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:0,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,preloadImages:!0,updateOnImagesReady:!0,loop:!1,loopAdditionalSlides:0,loopedSlides:null,loopedSlidesLimit:!0,loopFillGroupWithBlank:!1,loopPreventsSlide:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-invisible-blank",slideActiveClass:"swiper-slide-active",slideDuplicateActiveClass:"swiper-slide-duplicate-active",slideVisibleClass:"swiper-slide-visible",slideDuplicateClass:"swiper-slide-duplicate",slideNextClass:"swiper-slide-next",slideDuplicateNextClass:"swiper-slide-duplicate-next",slidePrevClass:"swiper-slide-prev",slideDuplicatePrevClass:"swiper-slide-duplicate-prev",wrapperClass:"swiper-wrapper",runCallbacksOnInit:!0,_emitClasses:!1};function fs(u,x){return function(O={}){const z=Object.keys(O)[0],g=O[z];"object"==typeof g&&null!==g?(["navigation","pagination","scrollbar"].indexOf(z)>=0&&!0===u[z]&&(u[z]={auto:!0}),z in u&&"enabled"in g?(!0===u[z]&&(u[z]={enabled:!0}),"object"==typeof u[z]&&!("enabled"in u[z])&&(u[z].enabled=!0),u[z]||(u[z]={enabled:!1}),nr(x,O)):nr(x,O)):nr(x,O)}}const Pi={eventsEmitter:{on(u,x,w){const O=this;if(!O.eventsListeners||O.destroyed||"function"!=typeof x)return O;const z=w?"unshift":"push";return u.split(" ").forEach(g=>{O.eventsListeners[g]||(O.eventsListeners[g]=[]),O.eventsListeners[g][z](x)}),O},once(u,x,w){const O=this;if(!O.eventsListeners||O.destroyed||"function"!=typeof x)return O;function z(...g){O.off(u,z),z.__emitterProxy&&delete z.__emitterProxy,x.apply(O,g)}return z.__emitterProxy=x,O.on(u,z,w)},onAny(u,x){const w=this;if(!w.eventsListeners||w.destroyed||"function"!=typeof u)return w;const O=x?"unshift":"push";return w.eventsAnyListeners.indexOf(u)<0&&w.eventsAnyListeners[O](u),w},offAny(u){const x=this;if(!x.eventsListeners||x.destroyed||!x.eventsAnyListeners)return x;const w=x.eventsAnyListeners.indexOf(u);return w>=0&&x.eventsAnyListeners.splice(w,1),x},off(u,x){const w=this;return!w.eventsListeners||w.destroyed||!w.eventsListeners||u.split(" ").forEach(O=>{typeof x>"u"?w.eventsListeners[O]=[]:w.eventsListeners[O]&&w.eventsListeners[O].forEach((z,g)=>{(z===x||z.__emitterProxy&&z.__emitterProxy===x)&&w.eventsListeners[O].splice(g,1)})}),w},emit(...u){const x=this;if(!x.eventsListeners||x.destroyed||!x.eventsListeners)return x;let w,O,z;return"string"==typeof u[0]||Array.isArray(u[0])?(w=u[0],O=u.slice(1,u.length),z=x):(w=u[0].events,O=u[0].data,z=u[0].context||x),O.unshift(z),(Array.isArray(w)?w:w.split(" ")).forEach(S=>{x.eventsAnyListeners&&x.eventsAnyListeners.length&&x.eventsAnyListeners.forEach(_=>{_.apply(z,[S,...O])}),x.eventsListeners&&x.eventsListeners[S]&&x.eventsListeners[S].forEach(_=>{_.apply(z,O)})}),x}},update:{updateSize:function Wi(){const u=this;let x,w;const O=u.$el;x=typeof u.params.width<"u"&&null!==u.params.width?u.params.width:O[0].clientWidth,w=typeof u.params.height<"u"&&null!==u.params.height?u.params.height:O[0].clientHeight,!(0===x&&u.isHorizontal()||0===w&&u.isVertical())&&(x=x-parseInt(O.css("padding-left")||0,10)-parseInt(O.css("padding-right")||0,10),w=w-parseInt(O.css("padding-top")||0,10)-parseInt(O.css("padding-bottom")||0,10),Number.isNaN(x)&&(x=0),Number.isNaN(w)&&(w=0),Object.assign(u,{width:x,height:w,size:u.isHorizontal()?x:w}))},updateSlides:function ki(){const u=this;function x(Lt){return u.isHorizontal()?Lt:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[Lt]}function w(Lt,st){return parseFloat(Lt.getPropertyValue(x(st))||0)}const O=u.params,{$wrapperEl:z,size:g,rtlTranslate:S,wrongRTL:_}=u,M=u.virtual&&O.virtual.enabled,V=M?u.virtual.slides.length:u.slides.length,H=z.children(`.${u.params.slideClass}`),W=M?u.virtual.slides.length:H.length;let ne=[];const ge=[],Ce=[];let ce=O.slidesOffsetBefore;"function"==typeof ce&&(ce=O.slidesOffsetBefore.call(u));let he=O.slidesOffsetAfter;"function"==typeof he&&(he=O.slidesOffsetAfter.call(u));const Be=u.snapGrid.length,Me=u.slidesGrid.length;let Ue=O.spaceBetween,Nt=-ce,At=0,Ot=0;if(typeof g>"u")return;"string"==typeof Ue&&Ue.indexOf("%")>=0&&(Ue=parseFloat(Ue.replace("%",""))/100*g),u.virtualSize=-Ue,H.css(S?{marginLeft:"",marginBottom:"",marginTop:""}:{marginRight:"",marginBottom:"",marginTop:""}),O.centeredSlides&&O.cssMode&&(Sr(u.wrapperEl,"--swiper-centered-offset-before",""),Sr(u.wrapperEl,"--swiper-centered-offset-after",""));const Rt=O.grid&&O.grid.rows>1&&u.grid;let zt;Rt&&u.grid.initSlides(W);const nn="auto"===O.slidesPerView&&O.breakpoints&&Object.keys(O.breakpoints).filter(Lt=>typeof O.breakpoints[Lt].slidesPerView<"u").length>0;for(let Lt=0;Lt<W;Lt+=1){zt=0;const st=H.eq(Lt);if(Rt&&u.grid.updateSlide(Lt,st,W,x),"none"!==st.css("display")){if("auto"===O.slidesPerView){nn&&(H[Lt].style[x("width")]="");const Ze=getComputedStyle(st[0]),U=st[0].style.transform,v=st[0].style.webkitTransform;if(U&&(st[0].style.transform="none"),v&&(st[0].style.webkitTransform="none"),O.roundLengths)zt=u.isHorizontal()?st.outerWidth(!0):st.outerHeight(!0);else{const C=w(Ze,"width"),R=w(Ze,"padding-left"),Q=w(Ze,"padding-right"),te=w(Ze,"margin-left"),be=w(Ze,"margin-right"),Te=Ze.getPropertyValue("box-sizing");if(Te&&"border-box"===Te)zt=C+te+be;else{const{clientWidth:Je,offsetWidth:wt}=st[0];zt=C+R+Q+te+be+(wt-Je)}}U&&(st[0].style.transform=U),v&&(st[0].style.webkitTransform=v),O.roundLengths&&(zt=Math.floor(zt))}else zt=(g-(O.slidesPerView-1)*Ue)/O.slidesPerView,O.roundLengths&&(zt=Math.floor(zt)),H[Lt]&&(H[Lt].style[x("width")]=`${zt}px`);H[Lt]&&(H[Lt].swiperSlideSize=zt),Ce.push(zt),O.centeredSlides?(Nt=Nt+zt/2+At/2+Ue,0===At&&0!==Lt&&(Nt=Nt-g/2-Ue),0===Lt&&(Nt=Nt-g/2-Ue),Math.abs(Nt)<.001&&(Nt=0),O.roundLengths&&(Nt=Math.floor(Nt)),Ot%O.slidesPerGroup==0&&ne.push(Nt),ge.push(Nt)):(O.roundLengths&&(Nt=Math.floor(Nt)),(Ot-Math.min(u.params.slidesPerGroupSkip,Ot))%u.params.slidesPerGroup==0&&ne.push(Nt),ge.push(Nt),Nt=Nt+zt+Ue),u.virtualSize+=zt+Ue,At=zt,Ot+=1}}if(u.virtualSize=Math.max(u.virtualSize,g)+he,S&&_&&("slide"===O.effect||"coverflow"===O.effect)&&z.css({width:`${u.virtualSize+O.spaceBetween}px`}),O.setWrapperSize&&z.css({[x("width")]:`${u.virtualSize+O.spaceBetween}px`}),Rt&&u.grid.updateWrapperSize(zt,ne,x),!O.centeredSlides){const Lt=[];for(let st=0;st<ne.length;st+=1){let Ze=ne[st];O.roundLengths&&(Ze=Math.floor(Ze)),ne[st]<=u.virtualSize-g&&Lt.push(Ze)}ne=Lt,Math.floor(u.virtualSize-g)-Math.floor(ne[ne.length-1])>1&&ne.push(u.virtualSize-g)}if(0===ne.length&&(ne=[0]),0!==O.spaceBetween){const Lt=u.isHorizontal()&&S?"marginLeft":x("marginRight");H.filter((st,Ze)=>!O.cssMode||Ze!==H.length-1).css({[Lt]:`${Ue}px`})}if(O.centeredSlides&&O.centeredSlidesBounds){let Lt=0;Ce.forEach(Ze=>{Lt+=Ze+(O.spaceBetween?O.spaceBetween:0)}),Lt-=O.spaceBetween;const st=Lt-g;ne=ne.map(Ze=>Ze<0?-ce:Ze>st?st+he:Ze)}if(O.centerInsufficientSlides){let Lt=0;if(Ce.forEach(st=>{Lt+=st+(O.spaceBetween?O.spaceBetween:0)}),Lt-=O.spaceBetween,Lt<g){const st=(g-Lt)/2;ne.forEach((Ze,U)=>{ne[U]=Ze-st}),ge.forEach((Ze,U)=>{ge[U]=Ze+st})}}if(Object.assign(u,{slides:H,snapGrid:ne,slidesGrid:ge,slidesSizesGrid:Ce}),O.centeredSlides&&O.cssMode&&!O.centeredSlidesBounds){Sr(u.wrapperEl,"--swiper-centered-offset-before",-ne[0]+"px"),Sr(u.wrapperEl,"--swiper-centered-offset-after",u.size/2-Ce[Ce.length-1]/2+"px");const Lt=-u.snapGrid[0],st=-u.slidesGrid[0];u.snapGrid=u.snapGrid.map(Ze=>Ze+Lt),u.slidesGrid=u.slidesGrid.map(Ze=>Ze+st)}if(W!==V&&u.emit("slidesLengthChange"),ne.length!==Be&&(u.params.watchOverflow&&u.checkOverflow(),u.emit("snapGridLengthChange")),ge.length!==Me&&u.emit("slidesGridLengthChange"),O.watchSlidesProgress&&u.updateSlidesOffset(),!(M||O.cssMode||"slide"!==O.effect&&"fade"!==O.effect)){const Lt=`${O.containerModifierClass}backface-hidden`,st=u.$el.hasClass(Lt);W<=O.maxBackfaceHiddenSlides?st||u.$el.addClass(Lt):st&&u.$el.removeClass(Lt)}},updateAutoHeight:function Oo(u){const x=this,w=[],O=x.virtual&&x.params.virtual.enabled;let g,z=0;"number"==typeof u?x.setTransition(u):!0===u&&x.setTransition(x.params.speed);const S=_=>O?x.slides.filter(M=>parseInt(M.getAttribute("data-swiper-slide-index"),10)===_)[0]:x.slides.eq(_)[0];if("auto"!==x.params.slidesPerView&&x.params.slidesPerView>1)if(x.params.centeredSlides)(x.visibleSlides||Jt([])).each(_=>{w.push(_)});else for(g=0;g<Math.ceil(x.params.slidesPerView);g+=1){const _=x.activeIndex+g;if(_>x.slides.length&&!O)break;w.push(S(_))}else w.push(S(x.activeIndex));for(g=0;g<w.length;g+=1)if(typeof w[g]<"u"){const _=w[g].offsetHeight;z=_>z?_:z}(z||0===z)&&x.$wrapperEl.css("height",`${z}px`)},updateSlidesOffset:function kr(){const u=this,x=u.slides;for(let w=0;w<x.length;w+=1)x[w].swiperSlideOffset=u.isHorizontal()?x[w].offsetLeft:x[w].offsetTop},updateSlidesProgress:function bo(u=this&&this.translate||0){const x=this,w=x.params,{slides:O,rtlTranslate:z,snapGrid:g}=x;if(0===O.length)return;typeof O[0].swiperSlideOffset>"u"&&x.updateSlidesOffset();let S=-u;z&&(S=u),O.removeClass(w.slideVisibleClass),x.visibleSlidesIndexes=[],x.visibleSlides=[];for(let _=0;_<O.length;_+=1){const M=O[_];let V=M.swiperSlideOffset;w.cssMode&&w.centeredSlides&&(V-=O[0].swiperSlideOffset);const H=(S+(w.centeredSlides?x.minTranslate():0)-V)/(M.swiperSlideSize+w.spaceBetween),W=(S-g[0]+(w.centeredSlides?x.minTranslate():0)-V)/(M.swiperSlideSize+w.spaceBetween),ne=-(S-V),ge=ne+x.slidesSizesGrid[_];(ne>=0&&ne<x.size-1||ge>1&&ge<=x.size||ne<=0&&ge>=x.size)&&(x.visibleSlides.push(M),x.visibleSlidesIndexes.push(_),O.eq(_).addClass(w.slideVisibleClass)),M.progress=z?-H:H,M.originalProgress=z?-W:W}x.visibleSlides=Jt(x.visibleSlides)},updateProgress:function Rs(u){const x=this;if(typeof u>"u"){const V=x.rtlTranslate?-1:1;u=x&&x.translate&&x.translate*V||0}const w=x.params,O=x.maxTranslate()-x.minTranslate();let{progress:z,isBeginning:g,isEnd:S}=x;const _=g,M=S;0===O?(z=0,g=!0,S=!0):(z=(u-x.minTranslate())/O,g=z<=0,S=z>=1),Object.assign(x,{progress:z,isBeginning:g,isEnd:S}),(w.watchSlidesProgress||w.centeredSlides&&w.autoHeight)&&x.updateSlidesProgress(u),g&&!_&&x.emit("reachBeginning toEdge"),S&&!M&&x.emit("reachEnd toEdge"),(_&&!g||M&&!S)&&x.emit("fromEdge"),x.emit("progress",z)},updateSlidesClasses:function Go(){const u=this,{slides:x,params:w,$wrapperEl:O,activeIndex:z,realIndex:g}=u,S=u.virtual&&w.virtual.enabled;let _;x.removeClass(`${w.slideActiveClass} ${w.slideNextClass} ${w.slidePrevClass} ${w.slideDuplicateActiveClass} ${w.slideDuplicateNextClass} ${w.slideDuplicatePrevClass}`),_=S?u.$wrapperEl.find(`.${w.slideClass}[data-swiper-slide-index="${z}"]`):x.eq(z),_.addClass(w.slideActiveClass),w.loop&&(_.hasClass(w.slideDuplicateClass)?O.children(`.${w.slideClass}:not(.${w.slideDuplicateClass})[data-swiper-slide-index="${g}"]`).addClass(w.slideDuplicateActiveClass):O.children(`.${w.slideClass}.${w.slideDuplicateClass}[data-swiper-slide-index="${g}"]`).addClass(w.slideDuplicateActiveClass));let M=_.nextAll(`.${w.slideClass}`).eq(0).addClass(w.slideNextClass);w.loop&&0===M.length&&(M=x.eq(0),M.addClass(w.slideNextClass));let V=_.prevAll(`.${w.slideClass}`).eq(0).addClass(w.slidePrevClass);w.loop&&0===V.length&&(V=x.eq(-1),V.addClass(w.slidePrevClass)),w.loop&&(M.hasClass(w.slideDuplicateClass)?O.children(`.${w.slideClass}:not(.${w.slideDuplicateClass})[data-swiper-slide-index="${M.attr("data-swiper-slide-index")}"]`).addClass(w.slideDuplicateNextClass):O.children(`.${w.slideClass}.${w.slideDuplicateClass}[data-swiper-slide-index="${M.attr("data-swiper-slide-index")}"]`).addClass(w.slideDuplicateNextClass),V.hasClass(w.slideDuplicateClass)?O.children(`.${w.slideClass}:not(.${w.slideDuplicateClass})[data-swiper-slide-index="${V.attr("data-swiper-slide-index")}"]`).addClass(w.slideDuplicatePrevClass):O.children(`.${w.slideClass}.${w.slideDuplicateClass}[data-swiper-slide-index="${V.attr("data-swiper-slide-index")}"]`).addClass(w.slideDuplicatePrevClass)),u.emitSlidesClasses()},updateActiveIndex:function bs(u){const x=this,w=x.rtlTranslate?x.translate:-x.translate,{slidesGrid:O,snapGrid:z,params:g,activeIndex:S,realIndex:_,snapIndex:M}=x;let H,V=u;if(typeof V>"u"){for(let ne=0;ne<O.length;ne+=1)typeof O[ne+1]<"u"?w>=O[ne]&&w<O[ne+1]-(O[ne+1]-O[ne])/2?V=ne:w>=O[ne]&&w<O[ne+1]&&(V=ne+1):w>=O[ne]&&(V=ne);g.normalizeSlideIndex&&(V<0||typeof V>"u")&&(V=0)}if(z.indexOf(w)>=0)H=z.indexOf(w);else{const ne=Math.min(g.slidesPerGroupSkip,V);H=ne+Math.floor((V-ne)/g.slidesPerGroup)}if(H>=z.length&&(H=z.length-1),V===S)return void(H!==M&&(x.snapIndex=H,x.emit("snapIndexChange")));const W=parseInt(x.slides.eq(V).attr("data-swiper-slide-index")||V,10);Object.assign(x,{snapIndex:H,realIndex:W,previousIndex:S,activeIndex:V}),x.emit("activeIndexChange"),x.emit("snapIndexChange"),_!==W&&x.emit("realIndexChange"),(x.initialized||x.params.runCallbacksOnInit)&&x.emit("slideChange")},updateClickedSlide:function Wo(u){const x=this,w=x.params,O=Jt(u).closest(`.${w.slideClass}`)[0];let g,z=!1;if(O)for(let S=0;S<x.slides.length;S+=1)if(x.slides[S]===O){z=!0,g=S;break}if(!O||!z)return x.clickedSlide=void 0,void(x.clickedIndex=void 0);x.clickedSlide=O,x.clickedIndex=x.virtual&&x.params.virtual.enabled?parseInt(Jt(O).attr("data-swiper-slide-index"),10):g,w.slideToClickedSlide&&void 0!==x.clickedIndex&&x.clickedIndex!==x.activeIndex&&x.slideToClickedSlide()}},translate:{getTranslate:function Ro(u=(this.isHorizontal()?"x":"y")){const{params:w,rtlTranslate:O,translate:z,$wrapperEl:g}=this;if(w.virtualTranslate)return O?-z:z;if(w.cssMode)return z;let S=function jr(u,x="x"){const w=Le();let O,z,g;const S=function Ss(u){const x=Le();let w;return x.getComputedStyle&&(w=x.getComputedStyle(u,null)),!w&&u.currentStyle&&(w=u.currentStyle),w||(w=u.style),w}(u);return w.WebKitCSSMatrix?(z=S.transform||S.webkitTransform,z.split(",").length>6&&(z=z.split(", ").map(_=>_.replace(",",".")).join(", ")),g=new w.WebKitCSSMatrix("none"===z?"":z)):(g=S.MozTransform||S.OTransform||S.MsTransform||S.msTransform||S.transform||S.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),O=g.toString().split(",")),"x"===x&&(z=w.WebKitCSSMatrix?g.m41:16===O.length?parseFloat(O[12]):parseFloat(O[4])),"y"===x&&(z=w.WebKitCSSMatrix?g.m42:16===O.length?parseFloat(O[13]):parseFloat(O[5])),z||0}(g[0],u);return O&&(S=-S),S||0},setTranslate:function Qs(u,x){const w=this,{rtlTranslate:O,params:z,$wrapperEl:g,wrapperEl:S,progress:_}=w;let W,M=0,V=0;w.isHorizontal()?M=O?-u:u:V=u,z.roundLengths&&(M=Math.floor(M),V=Math.floor(V)),z.cssMode?S[w.isHorizontal()?"scrollLeft":"scrollTop"]=w.isHorizontal()?-M:-V:z.virtualTranslate||g.transform(`translate3d(${M}px, ${V}px, 0px)`),w.previousTranslate=w.translate,w.translate=w.isHorizontal()?M:V;const ne=w.maxTranslate()-w.minTranslate();W=0===ne?0:(u-w.minTranslate())/ne,W!==_&&w.updateProgress(u),w.emit("setTranslate",w.translate,x)},minTranslate:function Ti(){return-this.snapGrid[0]},maxTranslate:function qo(){return-this.snapGrid[this.snapGrid.length-1]},translateTo:function Xs(u=0,x=this.params.speed,w=!0,O=!0,z){const g=this,{params:S,wrapperEl:_}=g;if(g.animating&&S.preventInteractionOnTransition)return!1;const M=g.minTranslate(),V=g.maxTranslate();let H;if(H=O&&u>M?M:O&&u<V?V:u,g.updateProgress(H),S.cssMode){const W=g.isHorizontal();if(0===x)_[W?"scrollLeft":"scrollTop"]=-H;else{if(!g.support.smoothScroll)return Hi({swiper:g,targetPosition:-H,side:W?"left":"top"}),!0;_.scrollTo({[W?"left":"top"]:-H,behavior:"smooth"})}return!0}return 0===x?(g.setTransition(0),g.setTranslate(H),w&&(g.emit("beforeTransitionStart",x,z),g.emit("transitionEnd"))):(g.setTransition(x),g.setTranslate(H),w&&(g.emit("beforeTransitionStart",x,z),g.emit("transitionStart")),g.animating||(g.animating=!0,g.onTranslateToWrapperTransitionEnd||(g.onTranslateToWrapperTransitionEnd=function(ne){!g||g.destroyed||ne.target===this&&(g.$wrapperEl[0].removeEventListener("transitionend",g.onTranslateToWrapperTransitionEnd),g.$wrapperEl[0].removeEventListener("webkitTransitionEnd",g.onTranslateToWrapperTransitionEnd),g.onTranslateToWrapperTransitionEnd=null,delete g.onTranslateToWrapperTransitionEnd,w&&g.emit("transitionEnd"))}),g.$wrapperEl[0].addEventListener("transitionend",g.onTranslateToWrapperTransitionEnd),g.$wrapperEl[0].addEventListener("webkitTransitionEnd",g.onTranslateToWrapperTransitionEnd))),!0}},transition:{setTransition:function ds(u,x){const w=this;w.params.cssMode||w.$wrapperEl.transition(u),w.emit("setTransition",u,x)},transitionStart:function Ko(u=!0,x){const w=this,{params:O}=w;O.cssMode||(O.autoHeight&&w.updateAutoHeight(),so({swiper:w,runCallbacks:u,direction:x,step:"Start"}))},transitionEnd:function Lo(u=!0,x){const w=this,{params:O}=w;w.animating=!1,!O.cssMode&&(w.setTransition(0),so({swiper:w,runCallbacks:u,direction:x,step:"End"}))}},slide:{slideTo:function Js(u=0,x=this.params.speed,w=!0,O,z){if("number"!=typeof u&&"string"!=typeof u)throw new Error(`The 'index' argument cannot have type other than 'number' or 'string'. [${typeof u}] given.`);if("string"==typeof u){const Ue=parseInt(u,10);if(!isFinite(Ue))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${u}] given.`);u=Ue}const g=this;let S=u;S<0&&(S=0);const{params:_,snapGrid:M,slidesGrid:V,previousIndex:H,activeIndex:W,rtlTranslate:ne,wrapperEl:ge,enabled:Ce}=g;if(g.animating&&_.preventInteractionOnTransition||!Ce&&!O&&!z)return!1;const ce=Math.min(g.params.slidesPerGroupSkip,S);let he=ce+Math.floor((S-ce)/g.params.slidesPerGroup);he>=M.length&&(he=M.length-1);const Be=-M[he];if(_.normalizeSlideIndex)for(let Ue=0;Ue<V.length;Ue+=1){const Nt=-Math.floor(100*Be),At=Math.floor(100*V[Ue]),Ot=Math.floor(100*V[Ue+1]);typeof V[Ue+1]<"u"?Nt>=At&&Nt<Ot-(Ot-At)/2?S=Ue:Nt>=At&&Nt<Ot&&(S=Ue+1):Nt>=At&&(S=Ue)}if(g.initialized&&S!==W&&(!g.allowSlideNext&&Be<g.translate&&Be<g.minTranslate()||!g.allowSlidePrev&&Be>g.translate&&Be>g.maxTranslate()&&(W||0)!==S))return!1;let Me;if(S!==(H||0)&&w&&g.emit("beforeSlideChangeStart"),g.updateProgress(Be),Me=S>W?"next":S<W?"prev":"reset",ne&&-Be===g.translate||!ne&&Be===g.translate)return g.updateActiveIndex(S),_.autoHeight&&g.updateAutoHeight(),g.updateSlidesClasses(),"slide"!==_.effect&&g.setTranslate(Be),"reset"!==Me&&(g.transitionStart(w,Me),g.transitionEnd(w,Me)),!1;if(_.cssMode){const Ue=g.isHorizontal(),Nt=ne?Be:-Be;if(0===x){const At=g.virtual&&g.params.virtual.enabled;At&&(g.wrapperEl.style.scrollSnapType="none",g._immediateVirtual=!0),ge[Ue?"scrollLeft":"scrollTop"]=Nt,At&&requestAnimationFrame(()=>{g.wrapperEl.style.scrollSnapType="",g._swiperImmediateVirtual=!1})}else{if(!g.support.smoothScroll)return Hi({swiper:g,targetPosition:Nt,side:Ue?"left":"top"}),!0;ge.scrollTo({[Ue?"left":"top"]:Nt,behavior:"smooth"})}return!0}return g.setTransition(x),g.setTranslate(Be),g.updateActiveIndex(S),g.updateSlidesClasses(),g.emit("beforeTransitionStart",x,O),g.transitionStart(w,Me),0===x?g.transitionEnd(w,Me):g.animating||(g.animating=!0,g.onSlideToWrapperTransitionEnd||(g.onSlideToWrapperTransitionEnd=function(Nt){!g||g.destroyed||Nt.target===this&&(g.$wrapperEl[0].removeEventListener("transitionend",g.onSlideToWrapperTransitionEnd),g.$wrapperEl[0].removeEventListener("webkitTransitionEnd",g.onSlideToWrapperTransitionEnd),g.onSlideToWrapperTransitionEnd=null,delete g.onSlideToWrapperTransitionEnd,g.transitionEnd(w,Me))}),g.$wrapperEl[0].addEventListener("transitionend",g.onSlideToWrapperTransitionEnd),g.$wrapperEl[0].addEventListener("webkitTransitionEnd",g.onSlideToWrapperTransitionEnd)),!0},slideToLoop:function qi(u=0,x=this.params.speed,w=!0,O){if("string"==typeof u){const S=parseInt(u,10);if(!isFinite(S))throw new Error(`The passed-in 'index' (string) couldn't be converted to 'number'. [${u}] given.`);u=S}const z=this;let g=u;return z.params.loop&&(g+=z.loopedSlides),z.slideTo(g,x,w,O)},slideNext:function oo(u=this.params.speed,x=!0,w){const O=this,{animating:z,enabled:g,params:S}=O;if(!g)return O;let _=S.slidesPerGroup;"auto"===S.slidesPerView&&1===S.slidesPerGroup&&S.slidesPerGroupAuto&&(_=Math.max(O.slidesPerViewDynamic("current",!0),1));const M=O.activeIndex<S.slidesPerGroupSkip?1:_;if(S.loop){if(z&&S.loopPreventsSlide)return!1;O.loopFix(),O._clientLeft=O.$wrapperEl[0].clientLeft}return O.slideTo(S.rewind&&O.isEnd?0:O.activeIndex+M,u,x,w)},slidePrev:function bi(u=this.params.speed,x=!0,w){const O=this,{params:z,animating:g,snapGrid:S,slidesGrid:_,rtlTranslate:M,enabled:V}=O;if(!V)return O;if(z.loop){if(g&&z.loopPreventsSlide)return!1;O.loopFix(),O._clientLeft=O.$wrapperEl[0].clientLeft}function W(he){return he<0?-Math.floor(Math.abs(he)):Math.floor(he)}const ne=W(M?O.translate:-O.translate),ge=S.map(he=>W(he));let Ce=S[ge.indexOf(ne)-1];if(typeof Ce>"u"&&z.cssMode){let he;S.forEach((Be,Me)=>{ne>=Be&&(he=Me)}),typeof he<"u"&&(Ce=S[he>0?he-1:he])}let ce=0;return typeof Ce<"u"&&(ce=_.indexOf(Ce),ce<0&&(ce=O.activeIndex-1),"auto"===z.slidesPerView&&1===z.slidesPerGroup&&z.slidesPerGroupAuto&&(ce=ce-O.slidesPerViewDynamic("previous",!0)+1,ce=Math.max(ce,0))),O.slideTo(z.rewind&&O.isBeginning?O.params.virtual&&O.params.virtual.enabled&&O.virtual?O.virtual.slides.length-1:O.slides.length-1:ce,u,x,w)},slideReset:function es(u=this.params.speed,x=!0,w){return this.slideTo(this.activeIndex,u,x,w)},slideToClosest:function $s(u=this.params.speed,x=!0,w,O=.5){const z=this;let g=z.activeIndex;const S=Math.min(z.params.slidesPerGroupSkip,g),_=S+Math.floor((g-S)/z.params.slidesPerGroup),M=z.rtlTranslate?z.translate:-z.translate;if(M>=z.snapGrid[_]){const V=z.snapGrid[_];M-V>(z.snapGrid[_+1]-V)*O&&(g+=z.params.slidesPerGroup)}else{const V=z.snapGrid[_-1];M-V<=(z.snapGrid[_]-V)*O&&(g-=z.params.slidesPerGroup)}return g=Math.max(g,0),g=Math.min(g,z.slidesGrid.length-1),z.slideTo(g,u,x,w)},slideToClickedSlide:function Si(){const u=this,{params:x,$wrapperEl:w}=u,O="auto"===x.slidesPerView?u.slidesPerViewDynamic():x.slidesPerView;let g,z=u.clickedIndex;if(x.loop){if(u.animating)return;g=parseInt(Jt(u.clickedSlide).attr("data-swiper-slide-index"),10),x.centeredSlides?z<u.loopedSlides-O/2||z>u.slides.length-u.loopedSlides+O/2?(u.loopFix(),z=w.children(`.${x.slideClass}[data-swiper-slide-index="${g}"]:not(.${x.slideDuplicateClass})`).eq(0).index(),ai(()=>{u.slideTo(z)})):u.slideTo(z):z>u.slides.length-O?(u.loopFix(),z=w.children(`.${x.slideClass}[data-swiper-slide-index="${g}"]:not(.${x.slideDuplicateClass})`).eq(0).index(),ai(()=>{u.slideTo(z)})):u.slideTo(z)}else u.slideTo(z)}},loop:{loopCreate:function Ai(){const u=this,x=Ve(),{params:w,$wrapperEl:O}=u,z=O.children().length>0?Jt(O.children()[0].parentNode):O;z.children(`.${w.slideClass}.${w.slideDuplicateClass}`).remove();let g=z.children(`.${w.slideClass}`);if(w.loopFillGroupWithBlank){const M=w.slidesPerGroup-g.length%w.slidesPerGroup;if(M!==w.slidesPerGroup){for(let V=0;V<M;V+=1){const H=Jt(x.createElement("div")).addClass(`${w.slideClass} ${w.slideBlankClass}`);z.append(H)}g=z.children(`.${w.slideClass}`)}}"auto"===w.slidesPerView&&!w.loopedSlides&&(w.loopedSlides=g.length),u.loopedSlides=Math.ceil(parseFloat(w.loopedSlides||w.slidesPerView,10)),u.loopedSlides+=w.loopAdditionalSlides,u.loopedSlides>g.length&&u.params.loopedSlidesLimit&&(u.loopedSlides=g.length);const S=[],_=[];g.each((M,V)=>{Jt(M).attr("data-swiper-slide-index",V)});for(let M=0;M<u.loopedSlides;M+=1){const V=M-Math.floor(M/g.length)*g.length;_.push(g.eq(V)[0]),S.unshift(g.eq(g.length-V-1)[0])}for(let M=0;M<_.length;M+=1)z.append(Jt(_[M].cloneNode(!0)).addClass(w.slideDuplicateClass));for(let M=S.length-1;M>=0;M-=1)z.prepend(Jt(S[M].cloneNode(!0)).addClass(w.slideDuplicateClass))},loopFix:function Is(){const u=this;u.emit("beforeLoopFix");const{activeIndex:x,slides:w,loopedSlides:O,allowSlidePrev:z,allowSlideNext:g,snapGrid:S,rtlTranslate:_}=u;let M;u.allowSlidePrev=!0,u.allowSlideNext=!0;const H=-S[x]-u.getTranslate();x<O?(M=w.length-3*O+x,M+=O,u.slideTo(M,0,!1,!0)&&0!==H&&u.setTranslate((_?-u.translate:u.translate)-H)):x>=w.length-O&&(M=-w.length+x+O,M+=O,u.slideTo(M,0,!1,!0)&&0!==H&&u.setTranslate((_?-u.translate:u.translate)-H)),u.allowSlidePrev=z,u.allowSlideNext=g,u.emit("loopFix")},loopDestroy:function Io(){const{$wrapperEl:x,params:w,slides:O}=this;x.children(`.${w.slideClass}.${w.slideDuplicateClass},.${w.slideClass}.${w.slideBlankClass}`).remove(),O.removeAttr("data-swiper-slide-index")}},grabCursor:{setGrabCursor:function Bs(u){const x=this;if(x.support.touch||!x.params.simulateTouch||x.params.watchOverflow&&x.isLocked||x.params.cssMode)return;const w="container"===x.params.touchEventsTarget?x.el:x.wrapperEl;w.style.cursor="move",w.style.cursor=u?"grabbing":"grab"},unsetGrabCursor:function ao(){const u=this;u.support.touch||u.params.watchOverflow&&u.isLocked||u.params.cssMode||(u["container"===u.params.touchEventsTarget?"el":"wrapperEl"].style.cursor="")}},events:{attachEvents:function eo(){const u=this,x=Ve(),{params:w,support:O}=u;u.onTouchStart=hi.bind(u),u.onTouchMove=rs.bind(u),u.onTouchEnd=Ki.bind(u),w.cssMode&&(u.onScroll=uo.bind(u)),u.onClick=Fi.bind(u),O.touch&&!Us&&(x.addEventListener("touchstart",Lr),Us=!0),Cs(u,"on")},detachEvents:function Mi(){Cs(this,"off")}},breakpoints:{setBreakpoint:function hs(){const u=this,{activeIndex:x,initialized:w,loopedSlides:O=0,params:z,$el:g}=u,S=z.breakpoints;if(!S||S&&0===Object.keys(S).length)return;const _=u.getBreakpoint(S,u.params.breakpointsBase,u.el);if(!_||u.currentBreakpoint===_)return;const V=(_ in S?S[_]:void 0)||u.originalParams,H=xi(u,z),W=xi(u,V),ne=z.enabled;H&&!W?(g.removeClass(`${z.containerModifierClass}grid ${z.containerModifierClass}grid-column`),u.emitContainerClasses()):!H&&W&&(g.addClass(`${z.containerModifierClass}grid`),(V.grid.fill&&"column"===V.grid.fill||!V.grid.fill&&"column"===z.grid.fill)&&g.addClass(`${z.containerModifierClass}grid-column`),u.emitContainerClasses()),["navigation","pagination","scrollbar"].forEach(he=>{const Be=z[he]&&z[he].enabled,Me=V[he]&&V[he].enabled;Be&&!Me&&u[he].disable(),!Be&&Me&&u[he].enable()});const ge=V.direction&&V.direction!==z.direction,Ce=z.loop&&(V.slidesPerView!==z.slidesPerView||ge);ge&&w&&u.changeDirection(),nr(u.params,V);const ce=u.params.enabled;Object.assign(u,{allowTouchMove:u.params.allowTouchMove,allowSlideNext:u.params.allowSlideNext,allowSlidePrev:u.params.allowSlidePrev}),ne&&!ce?u.disable():!ne&&ce&&u.enable(),u.currentBreakpoint=_,u.emit("_beforeBreakpoint",V),Ce&&w&&(u.loopDestroy(),u.loopCreate(),u.updateSlides(),u.slideTo(x-O+u.loopedSlides,0,!1)),u.emit("breakpoint",V)},getBreakpoint:function Zi(u,x="window",w){if(!u||"container"===x&&!w)return;let O=!1;const z=Le(),g="window"===x?z.innerHeight:w.clientHeight,S=Object.keys(u).map(_=>{if("string"==typeof _&&0===_.indexOf("@")){const M=parseFloat(_.substr(1));return{value:g*M,point:_}}return{value:_,point:_}});S.sort((_,M)=>parseInt(_.value,10)-parseInt(M.value,10));for(let _=0;_<S.length;_+=1){const{point:M,value:V}=S[_];"window"===x?z.matchMedia(`(min-width: ${V}px)`).matches&&(O=M):V<=w.clientWidth&&(O=M)}return O||"max"}},checkOverflow:{checkOverflow:function Co(){const u=this,{isLocked:x,params:w}=u,{slidesOffsetBefore:O}=w;if(O){const z=u.slides.length-1;u.isLocked=u.size>u.slidesGrid[z]+u.slidesSizesGrid[z]+2*O}else u.isLocked=1===u.snapGrid.length;!0===w.allowSlideNext&&(u.allowSlideNext=!u.isLocked),!0===w.allowSlidePrev&&(u.allowSlidePrev=!u.isLocked),x&&x!==u.isLocked&&(u.isEnd=!1),x!==u.isLocked&&u.emit(u.isLocked?"lock":"unlock")}},classes:{addClasses:function Hs(){const u=this,{classNames:x,params:w,rtl:O,$el:z,device:g,support:S}=u,_=function js(u,x){const w=[];return u.forEach(O=>{"object"==typeof O?Object.keys(O).forEach(z=>{O[z]&&w.push(x+z)}):"string"==typeof O&&w.push(x+O)}),w}(["initialized",w.direction,{"pointer-events":!S.touch},{"free-mode":u.params.freeMode&&w.freeMode.enabled},{autoheight:w.autoHeight},{rtl:O},{grid:w.grid&&w.grid.rows>1},{"grid-column":w.grid&&w.grid.rows>1&&"column"===w.grid.fill},{android:g.android},{ios:g.ios},{"css-mode":w.cssMode},{centered:w.cssMode&&w.centeredSlides},{"watch-progress":w.watchSlidesProgress}],w.containerModifierClass);x.push(..._),z.addClass([...x].join(" ")),u.emitContainerClasses()},removeClasses:function Zo(){const{$el:x,classNames:w}=this;x.removeClass(w.join(" ")),this.emitContainerClasses()}},images:{loadImage:function Fo(u,x,w,O,z,g){const S=Le();let _;function M(){g&&g()}Jt(u).parent("picture")[0]||u.complete&&z||!x?M():(_=new S.Image,_.onload=M,_.onerror=M,O&&(_.sizes=O),w&&(_.srcset=w),x&&(_.src=x))},preloadImages:function Zr(){const u=this;function x(){typeof u>"u"||null===u||!u||u.destroyed||(void 0!==u.imagesLoaded&&(u.imagesLoaded+=1),u.imagesLoaded===u.imagesToLoad.length&&(u.params.updateOnImagesReady&&u.update(),u.emit("imagesReady")))}u.imagesToLoad=u.$el.find("img");for(let w=0;w<u.imagesToLoad.length;w+=1){const O=u.imagesToLoad[w];u.loadImage(O,O.currentSrc||O.getAttribute("src"),O.srcset||O.getAttribute("srcset"),O.sizes||O.getAttribute("sizes"),!0,x)}}}},ss={};class yi{constructor(...x){let w,O;if(1===x.length&&x[0].constructor&&"Object"===Object.prototype.toString.call(x[0]).slice(8,-1)?O=x[0]:[w,O]=x,O||(O={}),O=nr({},O),w&&!O.el&&(O.el=w),O.el&&Jt(O.el).length>1){const _=[];return Jt(O.el).each(M=>{const V=nr({},O,{el:M});_.push(new yi(V))}),_}const z=this;z.__swiper__=!0,z.support=Ms(),z.device=function Ji(u={}){return gi||(gi=function Os({userAgent:u}={}){const x=Ms(),w=Le(),O=w.navigator.platform,z=u||w.navigator.userAgent,g={ios:!1,android:!1},S=w.screen.width,_=w.screen.height,M=z.match(/(Android);?[\s\/]+([\d.]+)?/);let V=z.match(/(iPad).*OS\s([\d_]+)/);const H=z.match(/(iPod)(.*OS\s([\d_]+))?/),W=!V&&z.match(/(iPhone\sOS|iOS)\s([\d_]+)/),ne="Win32"===O;let ge="MacIntel"===O;return!V&&ge&&x.touch&&["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"].indexOf(`${S}x${_}`)>=0&&(V=z.match(/(Version)\/([\d.]+)/),V||(V=[0,1,"13_0_0"]),ge=!1),M&&!ne&&(g.os="android",g.android=!0),(V||W||H)&&(g.os="ios",g.ios=!0),g}(u)),gi}({userAgent:O.userAgent}),z.browser=function di(){return zi||(zi=function Es(){const u=Le();return{isSafari:function x(){const w=u.navigator.userAgent.toLowerCase();return w.indexOf("safari")>=0&&w.indexOf("chrome")<0&&w.indexOf("android")<0}(),isWebView:/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(u.navigator.userAgent)}}()),zi}(),z.eventsListeners={},z.eventsAnyListeners=[],z.modules=[...z.__modules__],O.modules&&Array.isArray(O.modules)&&z.modules.push(...O.modules);const g={};z.modules.forEach(_=>{_({swiper:z,extendParams:fs(O,g),on:z.on.bind(z),once:z.once.bind(z),off:z.off.bind(z),emit:z.emit.bind(z)})});const S=nr({},co,g);return z.params=nr({},S,ss,O),z.originalParams=nr({},z.params),z.passedParams=nr({},O),z.params&&z.params.on&&Object.keys(z.params.on).forEach(_=>{z.on(_,z.params.on[_])}),z.params&&z.params.onAny&&z.onAny(z.params.onAny),z.$=Jt,Object.assign(z,{enabled:z.params.enabled,el:w,classNames:[],slides:Jt(),slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal:()=>"horizontal"===z.params.direction,isVertical:()=>"vertical"===z.params.direction,activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,allowSlideNext:z.params.allowSlideNext,allowSlidePrev:z.params.allowSlidePrev,touchEvents:function(){const M=["touchstart","touchmove","touchend","touchcancel"],V=["pointerdown","pointermove","pointerup"];return z.touchEventsTouch={start:M[0],move:M[1],end:M[2],cancel:M[3]},z.touchEventsDesktop={start:V[0],move:V[1],end:V[2]},z.support.touch||!z.params.simulateTouch?z.touchEventsTouch:z.touchEventsDesktop}(),touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:z.params.focusableElements,lastClickTime:Ts(),clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,isTouchEvent:void 0,startMoving:void 0},allowClick:!0,allowTouchMove:z.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),z.emit("_swiper"),z.params.init&&z.init(),z}enable(){const x=this;x.enabled||(x.enabled=!0,x.params.grabCursor&&x.setGrabCursor(),x.emit("enable"))}disable(){const x=this;!x.enabled||(x.enabled=!1,x.params.grabCursor&&x.unsetGrabCursor(),x.emit("disable"))}setProgress(x,w){const O=this;x=Math.min(Math.max(x,0),1);const z=O.minTranslate(),S=(O.maxTranslate()-z)*x+z;O.translateTo(S,typeof w>"u"?0:w),O.updateActiveIndex(),O.updateSlidesClasses()}emitContainerClasses(){const x=this;if(!x.params._emitClasses||!x.el)return;const w=x.el.className.split(" ").filter(O=>0===O.indexOf("swiper")||0===O.indexOf(x.params.containerModifierClass));x.emit("_containerClasses",w.join(" "))}getSlideClasses(x){const w=this;return w.destroyed?"":x.className.split(" ").filter(O=>0===O.indexOf("swiper-slide")||0===O.indexOf(w.params.slideClass)).join(" ")}emitSlidesClasses(){const x=this;if(!x.params._emitClasses||!x.el)return;const w=[];x.slides.each(O=>{const z=x.getSlideClasses(O);w.push({slideEl:O,classNames:z}),x.emit("_slideClass",O,z)}),x.emit("_slideClasses",w)}slidesPerViewDynamic(x="current",w=!1){const{params:z,slides:g,slidesGrid:S,slidesSizesGrid:_,size:M,activeIndex:V}=this;let H=1;if(z.centeredSlides){let ne,W=g[V].swiperSlideSize;for(let ge=V+1;ge<g.length;ge+=1)g[ge]&&!ne&&(W+=g[ge].swiperSlideSize,H+=1,W>M&&(ne=!0));for(let ge=V-1;ge>=0;ge-=1)g[ge]&&!ne&&(W+=g[ge].swiperSlideSize,H+=1,W>M&&(ne=!0))}else if("current"===x)for(let W=V+1;W<g.length;W+=1)(w?S[W]+_[W]-S[V]<M:S[W]-S[V]<M)&&(H+=1);else for(let W=V-1;W>=0;W-=1)S[V]-S[W]<M&&(H+=1);return H}update(){const x=this;if(!x||x.destroyed)return;const{snapGrid:w,params:O}=x;function z(){const _=Math.min(Math.max(x.rtlTranslate?-1*x.translate:x.translate,x.maxTranslate()),x.minTranslate());x.setTranslate(_),x.updateActiveIndex(),x.updateSlidesClasses()}let g;O.breakpoints&&x.setBreakpoint(),x.updateSize(),x.updateSlides(),x.updateProgress(),x.updateSlidesClasses(),x.params.freeMode&&x.params.freeMode.enabled?(z(),x.params.autoHeight&&x.updateAutoHeight()):(g=x.slideTo(("auto"===x.params.slidesPerView||x.params.slidesPerView>1)&&x.isEnd&&!x.params.centeredSlides?x.slides.length-1:x.activeIndex,0,!1,!0),g||z()),O.watchOverflow&&w!==x.snapGrid&&x.checkOverflow(),x.emit("update")}changeDirection(x,w=!0){const O=this,z=O.params.direction;return x||(x="horizontal"===z?"vertical":"horizontal"),x===z||"horizontal"!==x&&"vertical"!==x||(O.$el.removeClass(`${O.params.containerModifierClass}${z}`).addClass(`${O.params.containerModifierClass}${x}`),O.emitContainerClasses(),O.params.direction=x,O.slides.each(g=>{"vertical"===x?g.style.width="":g.style.height=""}),O.emit("changeDirection"),w&&O.update()),O}changeLanguageDirection(x){const w=this;w.rtl&&"rtl"===x||!w.rtl&&"ltr"===x||(w.rtl="rtl"===x,w.rtlTranslate="horizontal"===w.params.direction&&w.rtl,w.rtl?(w.$el.addClass(`${w.params.containerModifierClass}rtl`),w.el.dir="rtl"):(w.$el.removeClass(`${w.params.containerModifierClass}rtl`),w.el.dir="ltr"),w.update())}mount(x){const w=this;if(w.mounted)return!0;const O=Jt(x||w.params.el);if(!(x=O[0]))return!1;x.swiper=w;const z=()=>`.${(w.params.wrapperClass||"").trim().split(" ").join(".")}`;let S=(()=>{if(x&&x.shadowRoot&&x.shadowRoot.querySelector){const _=Jt(x.shadowRoot.querySelector(z()));return _.children=M=>O.children(M),_}return O.children?O.children(z()):Jt(O).children(z())})();if(0===S.length&&w.params.createElements){const M=Ve().createElement("div");S=Jt(M),M.className=w.params.wrapperClass,O.append(M),O.children(`.${w.params.slideClass}`).each(V=>{S.append(V)})}return Object.assign(w,{$el:O,el:x,$wrapperEl:S,wrapperEl:S[0],mounted:!0,rtl:"rtl"===x.dir.toLowerCase()||"rtl"===O.css("direction"),rtlTranslate:"horizontal"===w.params.direction&&("rtl"===x.dir.toLowerCase()||"rtl"===O.css("direction")),wrongRTL:"-webkit-box"===S.css("display")}),!0}init(x){const w=this;return w.initialized||!1===w.mount(x)||(w.emit("beforeInit"),w.params.breakpoints&&w.setBreakpoint(),w.addClasses(),w.params.loop&&w.loopCreate(),w.updateSize(),w.updateSlides(),w.params.watchOverflow&&w.checkOverflow(),w.params.grabCursor&&w.enabled&&w.setGrabCursor(),w.params.preloadImages&&w.preloadImages(),w.slideTo(w.params.loop?w.params.initialSlide+w.loopedSlides:w.params.initialSlide,0,w.params.runCallbacksOnInit,!1,!0),w.attachEvents(),w.initialized=!0,w.emit("init"),w.emit("afterInit")),w}destroy(x=!0,w=!0){const O=this,{params:z,$el:g,$wrapperEl:S,slides:_}=O;return typeof O.params>"u"||O.destroyed||(O.emit("beforeDestroy"),O.initialized=!1,O.detachEvents(),z.loop&&O.loopDestroy(),w&&(O.removeClasses(),g.removeAttr("style"),S.removeAttr("style"),_&&_.length&&_.removeClass([z.slideVisibleClass,z.slideActiveClass,z.slideNextClass,z.slidePrevClass].join(" ")).removeAttr("style").removeAttr("data-swiper-slide-index")),O.emit("destroy"),Object.keys(O.eventsListeners).forEach(M=>{O.off(M)}),!1!==x&&(O.$el[0].swiper=null,function Rr(u){const x=u;Object.keys(x).forEach(w=>{try{x[w]=null}catch{}try{delete x[w]}catch{}})}(O)),O.destroyed=!0),null}static extendDefaults(x){nr(ss,x)}static get extendedDefaults(){return ss}static get defaults(){return co}static installModule(x){yi.prototype.__modules__||(yi.prototype.__modules__=[]);const w=yi.prototype.__modules__;"function"==typeof x&&w.indexOf(x)<0&&w.push(x)}static use(x){return Array.isArray(x)?(x.forEach(w=>yi.installModule(w)),yi):(yi.installModule(x),yi)}}Object.keys(Pi).forEach(u=>{Object.keys(Pi[u]).forEach(x=>{yi.prototype[x]=Pi[u][x]})}),yi.use([function Gi({swiper:u,on:x,emit:w}){const O=Le();let z=null,g=null;const S=()=>{!u||u.destroyed||!u.initialized||(w("beforeResize"),w("resize"))},V=()=>{!u||u.destroyed||!u.initialized||w("orientationchange")};x("init",()=>{u.params.resizeObserver&&typeof O.ResizeObserver<"u"?!u||u.destroyed||!u.initialized||(z=new ResizeObserver(H=>{g=O.requestAnimationFrame(()=>{const{width:W,height:ne}=u;let ge=W,Ce=ne;H.forEach(({contentBoxSize:ce,contentRect:he,target:Be})=>{Be&&Be!==u.el||(ge=he?he.width:(ce[0]||ce).inlineSize,Ce=he?he.height:(ce[0]||ce).blockSize)}),(ge!==W||Ce!==ne)&&S()})}),z.observe(u.el)):(O.addEventListener("resize",S),O.addEventListener("orientationchange",V))}),x("destroy",()=>{g&&O.cancelAnimationFrame(g),z&&z.unobserve&&u.el&&(z.unobserve(u.el),z=null),O.removeEventListener("resize",S),O.removeEventListener("orientationchange",V)})},function Mr({swiper:u,extendParams:x,on:w,emit:O}){const z=[],g=Le(),S=(V,H={})=>{const ne=new(g.MutationObserver||g.WebkitMutationObserver)(ge=>{if(1===ge.length)return void O("observerUpdate",ge[0]);const Ce=function(){O("observerUpdate",ge[0])};g.requestAnimationFrame?g.requestAnimationFrame(Ce):g.setTimeout(Ce,0)});ne.observe(V,{attributes:typeof H.attributes>"u"||H.attributes,childList:typeof H.childList>"u"||H.childList,characterData:typeof H.characterData>"u"||H.characterData}),z.push(ne)};x({observer:!1,observeParents:!1,observeSlideChildren:!1}),w("init",()=>{if(u.params.observer){if(u.params.observeParents){const V=u.$el.parents();for(let H=0;H<V.length;H+=1)S(V[H])}S(u.$el[0],{childList:u.params.observeSlideChildren}),S(u.$wrapperEl[0],{attributes:!1})}}),w("destroy",()=>{z.forEach(V=>{V.disconnect()}),z.splice(0,z.length)})}]);const Vo=yi;function xs(u,x,w,O){const z=Ve();return u.params.createElements&&Object.keys(O).forEach(g=>{if(!w[g]&&!0===w.auto){let S=u.$el.children(`.${O[g]}`)[0];S||(S=z.createElement("div"),S.className=O[g],u.$el.append(S)),w[g]=S,x[g]=S}}),w}function ti({swiper:u,extendParams:x,on:w,emit:O}){function z(ge){let Ce;return ge&&(Ce=Jt(ge),u.params.uniqueNavElements&&"string"==typeof ge&&Ce.length>1&&1===u.$el.find(ge).length&&(Ce=u.$el.find(ge))),Ce}function g(ge,Ce){const ce=u.params.navigation;ge&&ge.length>0&&(ge[Ce?"addClass":"removeClass"](ce.disabledClass),ge[0]&&"BUTTON"===ge[0].tagName&&(ge[0].disabled=Ce),u.params.watchOverflow&&u.enabled&&ge[u.isLocked?"addClass":"removeClass"](ce.lockClass))}function S(){if(u.params.loop)return;const{$nextEl:ge,$prevEl:Ce}=u.navigation;g(Ce,u.isBeginning&&!u.params.rewind),g(ge,u.isEnd&&!u.params.rewind)}function _(ge){ge.preventDefault(),(!u.isBeginning||u.params.loop||u.params.rewind)&&(u.slidePrev(),O("navigationPrev"))}function M(ge){ge.preventDefault(),(!u.isEnd||u.params.loop||u.params.rewind)&&(u.slideNext(),O("navigationNext"))}function V(){const ge=u.params.navigation;if(u.params.navigation=xs(u,u.originalParams.navigation,u.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!ge.nextEl&&!ge.prevEl)return;const Ce=z(ge.nextEl),ce=z(ge.prevEl);Ce&&Ce.length>0&&Ce.on("click",M),ce&&ce.length>0&&ce.on("click",_),Object.assign(u.navigation,{$nextEl:Ce,nextEl:Ce&&Ce[0],$prevEl:ce,prevEl:ce&&ce[0]}),u.enabled||(Ce&&Ce.addClass(ge.lockClass),ce&&ce.addClass(ge.lockClass))}function H(){const{$nextEl:ge,$prevEl:Ce}=u.navigation;ge&&ge.length&&(ge.off("click",M),ge.removeClass(u.params.navigation.disabledClass)),Ce&&Ce.length&&(Ce.off("click",_),Ce.removeClass(u.params.navigation.disabledClass))}x({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),u.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null},w("init",()=>{!1===u.params.navigation.enabled?ne():(V(),S())}),w("toEdge fromEdge lock unlock",()=>{S()}),w("destroy",()=>{H()}),w("enable disable",()=>{const{$nextEl:ge,$prevEl:Ce}=u.navigation;ge&&ge[u.enabled?"removeClass":"addClass"](u.params.navigation.lockClass),Ce&&Ce[u.enabled?"removeClass":"addClass"](u.params.navigation.lockClass)}),w("click",(ge,Ce)=>{const{$nextEl:ce,$prevEl:he}=u.navigation,Be=Ce.target;if(u.params.navigation.hideOnClick&&!Jt(Be).is(he)&&!Jt(Be).is(ce)){if(u.pagination&&u.params.pagination&&u.params.pagination.clickable&&(u.pagination.el===Be||u.pagination.el.contains(Be)))return;let Me;ce?Me=ce.hasClass(u.params.navigation.hiddenClass):he&&(Me=he.hasClass(u.params.navigation.hiddenClass)),O(!0===Me?"navigationShow":"navigationHide"),ce&&ce.toggleClass(u.params.navigation.hiddenClass),he&&he.toggleClass(u.params.navigation.hiddenClass)}});const ne=()=>{u.$el.addClass(u.params.navigation.navigationDisabledClass),H()};Object.assign(u.navigation,{enable:()=>{u.$el.removeClass(u.params.navigation.navigationDisabledClass),V(),S()},disable:ne,update:S,init:V,destroy:H})}function Yi(u=""){return`.${u.trim().replace(/([\.:!\/])/g,"\\$1").replace(/ /g,".")}`}function os({swiper:u,extendParams:x,on:w,emit:O}){const z="swiper-pagination";x({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:ce=>ce,formatFractionTotal:ce=>ce,bulletClass:`${z}-bullet`,bulletActiveClass:`${z}-bullet-active`,modifierClass:`${z}-`,currentClass:`${z}-current`,totalClass:`${z}-total`,hiddenClass:`${z}-hidden`,progressbarFillClass:`${z}-progressbar-fill`,progressbarOppositeClass:`${z}-progressbar-opposite`,clickableClass:`${z}-clickable`,lockClass:`${z}-lock`,horizontalClass:`${z}-horizontal`,verticalClass:`${z}-vertical`,paginationDisabledClass:`${z}-disabled`}}),u.pagination={el:null,$el:null,bullets:[]};let g,S=0;function _(){return!u.params.pagination.el||!u.pagination.el||!u.pagination.$el||0===u.pagination.$el.length}function M(ce,he){const{bulletActiveClass:Be}=u.params.pagination;ce[he]().addClass(`${Be}-${he}`)[he]().addClass(`${Be}-${he}-${he}`)}function V(){const ce=u.rtl,he=u.params.pagination;if(_())return;const Be=u.virtual&&u.params.virtual.enabled?u.virtual.slides.length:u.slides.length,Me=u.pagination.$el;let Ue;const Nt=u.params.loop?Math.ceil((Be-2*u.loopedSlides)/u.params.slidesPerGroup):u.snapGrid.length;if(u.params.loop?(Ue=Math.ceil((u.activeIndex-u.loopedSlides)/u.params.slidesPerGroup),Ue>Be-1-2*u.loopedSlides&&(Ue-=Be-2*u.loopedSlides),Ue>Nt-1&&(Ue-=Nt),Ue<0&&"bullets"!==u.params.paginationType&&(Ue=Nt+Ue)):Ue=typeof u.snapIndex<"u"?u.snapIndex:u.activeIndex||0,"bullets"===he.type&&u.pagination.bullets&&u.pagination.bullets.length>0){const At=u.pagination.bullets;let Ot,Rt,zt;if(he.dynamicBullets&&(g=At.eq(0)[u.isHorizontal()?"outerWidth":"outerHeight"](!0),Me.css(u.isHorizontal()?"width":"height",g*(he.dynamicMainBullets+4)+"px"),he.dynamicMainBullets>1&&void 0!==u.previousIndex&&(S+=Ue-(u.previousIndex-u.loopedSlides||0),S>he.dynamicMainBullets-1?S=he.dynamicMainBullets-1:S<0&&(S=0)),Ot=Math.max(Ue-S,0),Rt=Ot+(Math.min(At.length,he.dynamicMainBullets)-1),zt=(Rt+Ot)/2),At.removeClass(["","-next","-next-next","-prev","-prev-prev","-main"].map(nn=>`${he.bulletActiveClass}${nn}`).join(" ")),Me.length>1)At.each(nn=>{const Lt=Jt(nn),st=Lt.index();st===Ue&&Lt.addClass(he.bulletActiveClass),he.dynamicBullets&&(st>=Ot&&st<=Rt&&Lt.addClass(`${he.bulletActiveClass}-main`),st===Ot&&M(Lt,"prev"),st===Rt&&M(Lt,"next"))});else{const nn=At.eq(Ue),Lt=nn.index();if(nn.addClass(he.bulletActiveClass),he.dynamicBullets){const st=At.eq(Ot),Ze=At.eq(Rt);for(let U=Ot;U<=Rt;U+=1)At.eq(U).addClass(`${he.bulletActiveClass}-main`);if(u.params.loop)if(Lt>=At.length){for(let U=he.dynamicMainBullets;U>=0;U-=1)At.eq(At.length-U).addClass(`${he.bulletActiveClass}-main`);At.eq(At.length-he.dynamicMainBullets-1).addClass(`${he.bulletActiveClass}-prev`)}else M(st,"prev"),M(Ze,"next");else M(st,"prev"),M(Ze,"next")}}if(he.dynamicBullets){const nn=Math.min(At.length,he.dynamicMainBullets+4),Lt=(g*nn-g)/2-zt*g,st=ce?"right":"left";At.css(u.isHorizontal()?st:"top",`${Lt}px`)}}if("fraction"===he.type&&(Me.find(Yi(he.currentClass)).text(he.formatFractionCurrent(Ue+1)),Me.find(Yi(he.totalClass)).text(he.formatFractionTotal(Nt))),"progressbar"===he.type){let At;At=he.progressbarOpposite?u.isHorizontal()?"vertical":"horizontal":u.isHorizontal()?"horizontal":"vertical";const Ot=(Ue+1)/Nt;let Rt=1,zt=1;"horizontal"===At?Rt=Ot:zt=Ot,Me.find(Yi(he.progressbarFillClass)).transform(`translate3d(0,0,0) scaleX(${Rt}) scaleY(${zt})`).transition(u.params.speed)}"custom"===he.type&&he.renderCustom?(Me.html(he.renderCustom(u,Ue+1,Nt)),O("paginationRender",Me[0])):O("paginationUpdate",Me[0]),u.params.watchOverflow&&u.enabled&&Me[u.isLocked?"addClass":"removeClass"](he.lockClass)}function H(){const ce=u.params.pagination;if(_())return;const he=u.virtual&&u.params.virtual.enabled?u.virtual.slides.length:u.slides.length,Be=u.pagination.$el;let Me="";if("bullets"===ce.type){let Ue=u.params.loop?Math.ceil((he-2*u.loopedSlides)/u.params.slidesPerGroup):u.snapGrid.length;u.params.freeMode&&u.params.freeMode.enabled&&!u.params.loop&&Ue>he&&(Ue=he);for(let Nt=0;Nt<Ue;Nt+=1)Me+=ce.renderBullet?ce.renderBullet.call(u,Nt,ce.bulletClass):`<${ce.bulletElement} class="${ce.bulletClass}"></${ce.bulletElement}>`;Be.html(Me),u.pagination.bullets=Be.find(Yi(ce.bulletClass))}"fraction"===ce.type&&(Me=ce.renderFraction?ce.renderFraction.call(u,ce.currentClass,ce.totalClass):`<span class="${ce.currentClass}"></span> / <span class="${ce.totalClass}"></span>`,Be.html(Me)),"progressbar"===ce.type&&(Me=ce.renderProgressbar?ce.renderProgressbar.call(u,ce.progressbarFillClass):`<span class="${ce.progressbarFillClass}"></span>`,Be.html(Me)),"custom"!==ce.type&&O("paginationRender",u.pagination.$el[0])}function W(){u.params.pagination=xs(u,u.originalParams.pagination,u.params.pagination,{el:"swiper-pagination"});const ce=u.params.pagination;if(!ce.el)return;let he=Jt(ce.el);0!==he.length&&(u.params.uniqueNavElements&&"string"==typeof ce.el&&he.length>1&&(he=u.$el.find(ce.el),he.length>1&&(he=he.filter(Be=>Jt(Be).parents(".swiper")[0]===u.el))),"bullets"===ce.type&&ce.clickable&&he.addClass(ce.clickableClass),he.addClass(ce.modifierClass+ce.type),he.addClass(u.isHorizontal()?ce.horizontalClass:ce.verticalClass),"bullets"===ce.type&&ce.dynamicBullets&&(he.addClass(`${ce.modifierClass}${ce.type}-dynamic`),S=0,ce.dynamicMainBullets<1&&(ce.dynamicMainBullets=1)),"progressbar"===ce.type&&ce.progressbarOpposite&&he.addClass(ce.progressbarOppositeClass),ce.clickable&&he.on("click",Yi(ce.bulletClass),function(Me){Me.preventDefault();let Ue=Jt(this).index()*u.params.slidesPerGroup;u.params.loop&&(Ue+=u.loopedSlides),u.slideTo(Ue)}),Object.assign(u.pagination,{$el:he,el:he[0]}),u.enabled||he.addClass(ce.lockClass))}function ne(){const ce=u.params.pagination;if(_())return;const he=u.pagination.$el;he.removeClass(ce.hiddenClass),he.removeClass(ce.modifierClass+ce.type),he.removeClass(u.isHorizontal()?ce.horizontalClass:ce.verticalClass),u.pagination.bullets&&u.pagination.bullets.removeClass&&u.pagination.bullets.removeClass(ce.bulletActiveClass),ce.clickable&&he.off("click",Yi(ce.bulletClass))}w("init",()=>{!1===u.params.pagination.enabled?Ce():(W(),H(),V())}),w("activeIndexChange",()=>{(u.params.loop||typeof u.snapIndex>"u")&&V()}),w("snapIndexChange",()=>{u.params.loop||V()}),w("slidesLengthChange",()=>{u.params.loop&&(H(),V())}),w("snapGridLengthChange",()=>{u.params.loop||(H(),V())}),w("destroy",()=>{ne()}),w("enable disable",()=>{const{$el:ce}=u.pagination;ce&&ce[u.enabled?"removeClass":"addClass"](u.params.pagination.lockClass)}),w("lock unlock",()=>{V()}),w("click",(ce,he)=>{const Be=he.target,{$el:Me}=u.pagination;if(u.params.pagination.el&&u.params.pagination.hideOnClick&&Me&&Me.length>0&&!Jt(Be).hasClass(u.params.pagination.bulletClass)){if(u.navigation&&(u.navigation.nextEl&&Be===u.navigation.nextEl||u.navigation.prevEl&&Be===u.navigation.prevEl))return;const Ue=Me.hasClass(u.params.pagination.hiddenClass);O(!0===Ue?"paginationShow":"paginationHide"),Me.toggleClass(u.params.pagination.hiddenClass)}});const Ce=()=>{u.$el.addClass(u.params.pagination.paginationDisabledClass),u.pagination.$el&&u.pagination.$el.addClass(u.params.pagination.paginationDisabledClass),ne()};Object.assign(u.pagination,{enable:()=>{u.$el.removeClass(u.params.pagination.paginationDisabledClass),u.pagination.$el&&u.pagination.$el.removeClass(u.params.pagination.paginationDisabledClass),W(),H(),V()},disable:Ce,render:H,update:V,init:W,destroy:ne})}function ae({swiper:u,extendParams:x,on:w,emit:O}){let z;function g(){if(!u.size)return u.autoplay.running=!1,void(u.autoplay.paused=!1);const ce=u.slides.eq(u.activeIndex);let he=u.params.autoplay.delay;ce.attr("data-swiper-autoplay")&&(he=ce.attr("data-swiper-autoplay")||u.params.autoplay.delay),clearTimeout(z),z=ai(()=>{let Be;u.params.autoplay.reverseDirection?u.params.loop?(u.loopFix(),Be=u.slidePrev(u.params.speed,!0,!0),O("autoplay")):u.isBeginning?u.params.autoplay.stopOnLastSlide?_():(Be=u.slideTo(u.slides.length-1,u.params.speed,!0,!0),O("autoplay")):(Be=u.slidePrev(u.params.speed,!0,!0),O("autoplay")):u.params.loop?(u.loopFix(),Be=u.slideNext(u.params.speed,!0,!0),O("autoplay")):u.isEnd?u.params.autoplay.stopOnLastSlide?_():(Be=u.slideTo(0,u.params.speed,!0,!0),O("autoplay")):(Be=u.slideNext(u.params.speed,!0,!0),O("autoplay")),(u.params.cssMode&&u.autoplay.running||!1===Be)&&g()},he)}function S(){return!(typeof z<"u"||u.autoplay.running||(u.autoplay.running=!0,O("autoplayStart"),g(),0))}function _(){return!(!u.autoplay.running||typeof z>"u"||(z&&(clearTimeout(z),z=void 0),u.autoplay.running=!1,O("autoplayStop"),0))}function M(ce){!u.autoplay.running||u.autoplay.paused||(z&&clearTimeout(z),u.autoplay.paused=!0,0!==ce&&u.params.autoplay.waitForTransition?["transitionend","webkitTransitionEnd"].forEach(he=>{u.$wrapperEl[0].addEventListener(he,H)}):(u.autoplay.paused=!1,g()))}function V(){const ce=Ve();"hidden"===ce.visibilityState&&u.autoplay.running&&M(),"visible"===ce.visibilityState&&u.autoplay.paused&&(g(),u.autoplay.paused=!1)}function H(ce){!u||u.destroyed||!u.$wrapperEl||ce.target===u.$wrapperEl[0]&&(["transitionend","webkitTransitionEnd"].forEach(he=>{u.$wrapperEl[0].removeEventListener(he,H)}),u.autoplay.paused=!1,u.autoplay.running?g():_())}function W(){u.params.autoplay.disableOnInteraction?_():(O("autoplayPause"),M()),["transitionend","webkitTransitionEnd"].forEach(ce=>{u.$wrapperEl[0].removeEventListener(ce,H)})}function ne(){u.params.autoplay.disableOnInteraction||(u.autoplay.paused=!1,O("autoplayResume"),g())}u.autoplay={running:!1,paused:!1},x({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!0,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}}),w("init",()=>{u.params.autoplay.enabled&&(S(),Ve().addEventListener("visibilitychange",V),function ge(){u.params.autoplay.pauseOnMouseEnter&&(u.$el.on("mouseenter",W),u.$el.on("mouseleave",ne))}())}),w("beforeTransitionStart",(ce,he,Be)=>{u.autoplay.running&&(Be||!u.params.autoplay.disableOnInteraction?u.autoplay.pause(he):_())}),w("sliderFirstMove",()=>{u.autoplay.running&&(u.params.autoplay.disableOnInteraction?_():M())}),w("touchEnd",()=>{u.params.cssMode&&u.autoplay.paused&&!u.params.autoplay.disableOnInteraction&&g()}),w("destroy",()=>{(function Ce(){u.$el.off("mouseenter",W),u.$el.off("mouseleave",ne)})(),u.autoplay.running&&_(),Ve().removeEventListener("visibilitychange",V)}),Object.assign(u.autoplay,{pause:M,run:g,start:S,stop:_})}function as(u,x){return u.transformEl?x.find(u.transformEl).css({"backface-visibility":"hidden","-webkit-backface-visibility":"hidden"}):x}function ls({swiper:u,extendParams:x,on:w}){x({fadeEffect:{crossFade:!1,transformEl:null}}),function Ln(u){const{effect:x,swiper:w,on:O,setTranslate:z,setTransition:g,overwriteParams:S,perspective:_,recreateShadows:M,getEffectParams:V}=u;let H;O("beforeInit",()=>{if(w.params.effect!==x)return;w.classNames.push(`${w.params.containerModifierClass}${x}`),_&&_()&&w.classNames.push(`${w.params.containerModifierClass}3d`);const W=S?S():{};Object.assign(w.params,W),Object.assign(w.originalParams,W)}),O("setTranslate",()=>{w.params.effect===x&&z()}),O("setTransition",(W,ne)=>{w.params.effect===x&&g(ne)}),O("transitionEnd",()=>{if(w.params.effect===x&&M){if(!V||!V().slideShadows)return;w.slides.each(W=>{w.$(W).find(".swiper-slide-shadow-top, .swiper-slide-shadow-right, .swiper-slide-shadow-bottom, .swiper-slide-shadow-left").remove()}),M()}}),O("virtualUpdate",()=>{w.params.effect===x&&(w.slides.length||(H=!0),requestAnimationFrame(()=>{H&&w.slides&&w.slides.length&&(z(),H=!1)}))})}({effect:"fade",swiper:u,on:w,setTranslate:()=>{const{slides:g}=u,S=u.params.fadeEffect;for(let _=0;_<g.length;_+=1){const M=u.slides.eq(_);let H=-M[0].swiperSlideOffset;u.params.virtualTranslate||(H-=u.translate);let W=0;u.isHorizontal()||(W=H,H=0);const ne=u.params.fadeEffect.crossFade?Math.max(1-Math.abs(M[0].progress),0):1+Math.min(Math.max(M[0].progress,-1),0);as(S,M).css({opacity:ne}).transform(`translate3d(${H}px, ${W}px, 0px)`)}},setTransition:g=>{const{transformEl:S}=u.params.fadeEffect;(S?u.slides.find(S):u.slides).transition(g),function Vi({swiper:u,duration:x,transformEl:w,allSlides:O}){const{slides:z,activeIndex:g,$wrapperEl:S}=u;if(u.params.virtualTranslate&&0!==x){let M,_=!1;M=O?w?z.find(w):z:w?z.eq(g).find(w):z.eq(g),M.transitionEnd(()=>{if(_||!u||u.destroyed)return;_=!0,u.animating=!1;const V=["webkitTransitionEnd","transitionend"];for(let H=0;H<V.length;H+=1)S.trigger(V[H])})}}({swiper:u,duration:g,transformEl:S,allSlides:!0})},overwriteParams:()=>({slidesPerView:1,slidesPerGroup:1,watchSlidesProgress:!0,spaceBetween:0,virtualTranslate:!u.params.cssMode})})}},5861:(an,at,ee)=>{function m(re,Ve,Re,Le,We,He,qe){try{var fe=re[He](qe),ve=fe.value}catch($e){return void Re($e)}fe.done?Ve(ve):Promise.resolve(ve).then(Le,We)}function ie(re){return function(){var Ve=this,Re=arguments;return new Promise(function(Le,We){var He=re.apply(Ve,Re);function qe(ve){m(He,Le,We,qe,fe,"next",ve)}function fe(ve){m(He,Le,We,qe,fe,"throw",ve)}qe(void 0)})}}ee.d(at,{Z:()=>ie})}},an=>{an(an.s=7176)}]);